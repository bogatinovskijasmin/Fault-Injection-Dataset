2018-09-28 16:35:34.828 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:35:34.829 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:35:36.305 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:35:57.852 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:35:57.856 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:36:16.308 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:36:34.830 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:36:34.831 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:36:56.312 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:36:57.852 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:36:57.855 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:37:34.831 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:37:34.832 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:37:36.314 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:37:57.852 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:37:57.855 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.002s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:38:16.319 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:38:19.364 24899 DEBUG neutron.agent.l3.agent [req-7e3ddb98-9259-4e8c-8799-3d3c42d467df 8835d0336e914421b81808a4cbdcc3d7 a2a58b6875074641b4d2105d8ff62a76 - - -] Got routers updated notification :[u'a52d3225-2464-4185-aae0-f6edf0cd3eda'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-09-28 16:38:19.367 24899 DEBUG neutron.agent.l3.agent [-] Starting router update for a52d3225-2464-4185-aae0-f6edf0cd3eda, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-09-28 16:38:22.582 24899 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.linux.pd.add_router-8741586862039'] for router, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-28 16:38:22.584 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:38:22.585 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.add_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:38:22.585 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.600 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'add', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.621 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.637 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', 'link', 'set', 'lo', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.648 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'sysctl', '-w', 'net.ipv4.ip_forward=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.665 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'sysctl', '-w', 'net.ipv4.conf.all.arp_ignore=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.680 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'sysctl', '-w', 'net.ipv4.conf.all.arp_announce=2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.695 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.713 24899 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1141
2018-09-28 16:38:22.713 24899 DEBUG neutron.agent.l3.router_info [-] adding internal network: prefix(qr-), port(333757d3-2217-4ce5-8b54-9999fad128f0) _internal_network_added /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:444
2018-09-28 16:38:22.714 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-o', 'link', 'show', 'qr-333757d3-22'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.736 24899 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-09-28 16:38:22.757 24899 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=None, port=qr-333757d3-22) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-09-28 16:38:22.759 24899 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Transaction caused no change do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:114
2018-09-28 16:38:22.761 24899 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): AddPortCommand(bridge=br-int, may_exist=False, port=qr-333757d3-22) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-09-28 16:38:22.762 24899 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=1): DbSetCommand(table=Port, col_values=(('tag', 4095),), record=qr-333757d3-22) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-09-28 16:38:22.763 24899 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=2): DbSetCommand(table=Interface, col_values=(('type', 'internal'), ('external_ids', {'iface-id': u'333757d3-2217-4ce5-8b54-9999fad128f0', 'iface-status': 'active', 'attached-mac': u'fa:16:3e:a3:d3:36'})), record=qr-333757d3-22) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-09-28 16:38:22.787 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qr-333757d3-22', 'address', 'fa:16:3e:a3:d3:36'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.801 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.813 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qr-333757d3-22', 'netns', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.834 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', 'link', 'set', 'qr-333757d3-22', 'mtu', '1450'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.844 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', 'link', 'set', 'qr-333757d3-22', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.856 24899 DEBUG neutron.agent.linux.interface [-] init_router_port: device_name(qr-333757d3-22), namespace(qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda) init_router_port /usr/lib/python2.7/site-packages/neutron/agent/linux/interface.py:180
2018-09-28 16:38:22.857 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-o', 'link', 'show', 'qr-333757d3-22'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.871 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', 'addr', 'show', 'qr-333757d3-22'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.885 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-4', 'addr', 'add', '11.22.1.1/24', 'scope', 'global', 'dev', 'qr-333757d3-22', 'brd', '11.22.1.255'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.896 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-4', 'route', 'list', 'dev', 'qr-333757d3-22', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.907 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-6', 'route', 'list', 'dev', 'qr-333757d3-22', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.917 24899 DEBUG neutron.agent.l3.router_info [-] appending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-09-28T20:38:18Z', u'device_owner': u'network:router_interface', u'revision_number': 4, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'e10e5eb7-09ab-4e70-a07d-2e8ecb70e1cd', u'prefixlen': 24, u'ip_address': u'11.22.1.1'}], u'id': u'333757d3-2217-4ce5-8b54-9999fad128f0', u'security_groups': [], u'binding:vif_details': {}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:a3:d3:36', u'project_id': u'a2a58b6875074641b4d2105d8ff62a76', u'status': u'DOWN', u'subnets': [{u'dns_nameservers': [u'8.8.4.4'], u'ipv6_ra_mode': None, u'gateway_ip': u'11.22.1.1', u'cidr': u'11.22.1.0/24', u'id': u'e10e5eb7-09ab-4e70-a07d-2e8ecb70e1cd', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'a52d3225-2464-4185-aae0-f6edf0cd3eda', u'name': u'', u'admin_state_up': True, u'network_id': u'26c87336-5468-450e-bd7d-8a22052b095b', u'tenant_id': u'a2a58b6875074641b4d2105d8ff62a76', u'created_at': u'2018-09-28T20:38:16Z', u'mtu': 1450, u'extra_subnets': []} to internal_ports cache _process_internal_ports /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:555
2018-09-28 16:38:22.918 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.919 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-U', '-I', 'qr-333757d3-22', '-c', '1', '-w', '1.5', '11.22.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.931 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:38:22.932 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:38:22.933 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.955 24899 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-09-28 16:38:22.956 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.974 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.976 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-A', '-I', 'qr-333757d3-22', '-c', '1', '-w', '1.5', '11.22.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:22.992 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:23.009 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip6tables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:23.024 24899 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 106 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-09-28 16:38:23.026 24899 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-09-28 16:38:23.027 24899 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-09-28 16:38:23.028 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:23.045 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:23.058 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:23.075 24899 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 10 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-09-28 16:38:23.076 24899 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-09-28 16:38:23.077 24899 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_added--9223363295268451949'] for router, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-28 16:38:23.077 24899 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-09-28 16:38:23.078 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:23.098 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:23.115 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:23.132 24899 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 17 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-09-28 16:38:23.133 24899 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-09-28 16:38:23.134 24899 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/a52d3225-2464-4185-aae0-f6edf0cd3eda.pid get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-09-28 16:38:23.134 24899 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/a52d3225-2464-4185-aae0-f6edf0cd3eda.pid get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-09-28 16:38:23.135 24899 DEBUG neutron.agent.metadata.driver [-] haproxy_cfg = 
global
    log         /dev/log local0 debug
    log-tag     haproxy-metadata-proxy-a52d3225-2464-4185-aae0-f6edf0cd3eda
    user        neutron
    group       neutron
    maxconn     1024
    pidfile     /var/lib/neutron/external/pids/a52d3225-2464-4185-aae0-f6edf0cd3eda.pid
    daemon

defaults
    log global
    mode http
    option httplog
    option dontlognull
    option http-server-close
    option forwardfor
    retries                 3
    timeout http-request    30s
    timeout connect         30s
    timeout client          32s
    timeout server          32s
    timeout http-keep-alive 30s

listen listener
    bind 0.0.0.0:9697
    server metadata /var/lib/neutron/metadata_proxy
    http-request add-header X-Neutron-Router-ID a52d3225-2464-4185-aae0-f6edf0cd3eda
 create_config_file /usr/lib/python2.7/site-packages/neutron/agent/metadata/driver.py:135
2018-09-28 16:38:23.136 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'haproxy', '-f', '/var/lib/neutron/ns-metadata-proxy/a52d3225-2464-4185-aae0-f6edf0cd3eda.conf'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:23.217 24899 DEBUG neutron.agent.l3.agent [-] Finished a router update for a52d3225-2464-4185-aae0-f6edf0cd3eda _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-09-28 16:38:25.002 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-U', '-I', 'qr-333757d3-22', '-c', '1', '-w', '1.5', '11.22.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:25.025 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-A', '-I', 'qr-333757d3-22', '-c', '1', '-w', '1.5', '11.22.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:27.049 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-U', '-I', 'qr-333757d3-22', '-c', '1', '-w', '1.5', '11.22.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:27.068 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-A', '-I', 'qr-333757d3-22', '-c', '1', '-w', '1.5', '11.22.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:31.171 24899 DEBUG neutron.agent.l3.agent [req-79c4f70d-1e4c-4b07-afcc-514b94b29e9f 8835d0336e914421b81808a4cbdcc3d7 a2a58b6875074641b4d2105d8ff62a76 - - -] Got routers updated notification :[u'a52d3225-2464-4185-aae0-f6edf0cd3eda'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-09-28 16:38:31.174 24899 DEBUG neutron.agent.l3.agent [-] Starting router update for a52d3225-2464-4185-aae0-f6edf0cd3eda, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-09-28 16:38:34.753 24899 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-28 16:38:34.754 24899 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1141
2018-09-28 16:38:34.755 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:34.780 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:38:34.781 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:38:34.782 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.get_preserve_ips" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:38:34.783 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.get_preserve_ips" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:38:34.784 24899 DEBUG neutron.agent.l3.router_info [-] External gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-09-28T20:38:29Z', u'device_owner': u'network:router_gateway', u'revision_number': 3, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'ee2b427c-1494-4c9a-94e6-33722268815a', u'prefixlen': 24, u'ip_address': u'172.24.4.9'}], u'id': u'd0c2a0e8-7167-4d71-9ee5-4e85047733b5', u'security_groups': [], u'binding:vif_details': {}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:c0:6f:6d', u'project_id': u'', u'status': u'DOWN', u'subnets': [{u'dns_nameservers': [], u'ipv6_ra_mode': None, u'gateway_ip': u'172.24.4.1', u'cidr': u'172.24.4.0/24', u'id': u'ee2b427c-1494-4c9a-94e6-33722268815a', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'a52d3225-2464-4185-aae0-f6edf0cd3eda', u'name': u'', u'admin_state_up': True, u'network_id': u'c140d30c-ba37-4570-9e0b-48390f7eeee1', u'tenant_id': u'', u'created_at': u'2018-09-28T20:38:29Z', u'mtu': 1500, u'extra_subnets': []}), interface(qg-d0c2a0e8-71), ns(qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda) _external_gateway_added /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:701
2018-09-28 16:38:34.785 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-o', 'link', 'show', 'qg-d0c2a0e8-71'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:34.824 24899 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-09-28 16:38:34.854 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:38:34.856 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.002s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:38:34.861 24899 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=None, port=qg-d0c2a0e8-71) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-09-28 16:38:34.863 24899 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Transaction caused no change do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:114
2018-09-28 16:38:34.867 24899 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): AddPortCommand(bridge=br-int, may_exist=False, port=qg-d0c2a0e8-71) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-09-28 16:38:34.870 24899 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=1): DbSetCommand(table=Port, col_values=(('tag', 4095),), record=qg-d0c2a0e8-71) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-09-28 16:38:34.872 24899 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=2): DbSetCommand(table=Interface, col_values=(('type', 'internal'), ('external_ids', {'iface-id': u'd0c2a0e8-7167-4d71-9ee5-4e85047733b5', 'iface-status': 'active', 'attached-mac': u'fa:16:3e:c0:6f:6d'})), record=qg-d0c2a0e8-71) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-09-28 16:38:34.920 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qg-d0c2a0e8-71', 'address', 'fa:16:3e:c0:6f:6d'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:34.931 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:34.944 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qg-d0c2a0e8-71', 'netns', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:34.968 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', 'link', 'set', 'qg-d0c2a0e8-71', 'mtu', '1500'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:34.982 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', 'link', 'set', 'qg-d0c2a0e8-71', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:34.997 24899 DEBUG neutron.agent.linux.interface [-] init_router_port: device_name(qg-d0c2a0e8-71), namespace(qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda) init_router_port /usr/lib/python2.7/site-packages/neutron/agent/linux/interface.py:180
2018-09-28 16:38:34.998 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-o', 'link', 'show', 'qg-d0c2a0e8-71'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.013 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', 'addr', 'show', 'qg-d0c2a0e8-71'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.025 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-4', 'addr', 'add', '172.24.4.9/24', 'scope', 'global', 'dev', 'qg-d0c2a0e8-71', 'brd', '172.24.4.255'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.039 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-4', 'route', 'list', 'dev', 'qg-d0c2a0e8-71', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.052 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-6', 'route', 'list', 'dev', 'qg-d0c2a0e8-71', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.066 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-4', 'route', 'list', 'dev', 'qg-d0c2a0e8-71'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.079 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-6', 'route', 'list', 'dev', 'qg-d0c2a0e8-71'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.093 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-d0c2a0e8-71'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.107 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'sysctl', '-w', 'net.ipv6.conf.qg-d0c2a0e8-71.accept_ra=2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.127 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'sysctl', '-w', 'net.ipv6.conf.qg-d0c2a0e8-71.forwarding=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.144 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_gw_interface" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:38:35.145 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.add_gw_interface" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:38:35.146 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.147 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-U', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.9'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.164 24899 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-09-28 16:38:35.165 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.173 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-A', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.9'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.196 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.216 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.237 24899 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 14 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-09-28 16:38:35.237 24899 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-09-28 16:38:35.238 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', 'addr', 'show', 'qg-d0c2a0e8-71'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.252 24899 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-09-28 16:38:35.253 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.272 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.288 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:35.306 24899 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 5 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-09-28 16:38:35.307 24899 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-09-28 16:38:35.308 24899 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_updated-8741586324620', 'neutron.agent.linux.pd.update_router-8741586862054'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-28 16:38:35.308 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:38:35.309 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:38:35.310 24899 DEBUG neutron.agent.l3.agent [-] Finished a router update for a52d3225-2464-4185-aae0-f6edf0cd3eda _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-09-28 16:38:37.199 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-U', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.9'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:37.234 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-A', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.9'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:39.261 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-U', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.9'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:39.282 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-A', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.9'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:38:56.321 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:38:57.853 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:38:57.860 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.007s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:39:34.858 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:39:34.859 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:39:36.323 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:39:39.042 24899 DEBUG neutron.agent.l3.agent [req-4283a9d7-7443-4a15-8314-3ab941f06b93 8835d0336e914421b81808a4cbdcc3d7 a2a58b6875074641b4d2105d8ff62a76 - - -] Got routers updated notification :[u'a52d3225-2464-4185-aae0-f6edf0cd3eda'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-09-28 16:39:39.045 24899 DEBUG neutron.agent.l3.agent [-] Starting router update for a52d3225-2464-4185-aae0-f6edf0cd3eda, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-09-28 16:39:39.928 24899 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-28 16:39:39.929 24899 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1141
2018-09-28 16:39:39.930 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:39.963 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:39:39.964 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:39:39.964 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.get_preserve_ips" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:39:39.965 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.get_preserve_ips" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:39:39.965 24899 DEBUG neutron.agent.l3.router_info [-] External gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-09-28T20:38:37Z', u'device_owner': u'network:router_gateway', u'revision_number': 6, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'ee2b427c-1494-4c9a-94e6-33722268815a', u'prefixlen': 24, u'ip_address': u'172.24.4.9'}], u'id': u'd0c2a0e8-7167-4d71-9ee5-4e85047733b5', u'security_groups': [], u'binding:vif_details': {u'port_filter': True, u'datapath_type': u'system', u'ovs_hybrid_plug': True}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:c0:6f:6d', u'project_id': u'', u'status': u'ACTIVE', u'subnets': [{u'dns_nameservers': [], u'ipv6_ra_mode': None, u'gateway_ip': u'172.24.4.1', u'cidr': u'172.24.4.0/24', u'id': u'ee2b427c-1494-4c9a-94e6-33722268815a', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'a52d3225-2464-4185-aae0-f6edf0cd3eda', u'name': u'', u'admin_state_up': True, u'network_id': u'c140d30c-ba37-4570-9e0b-48390f7eeee1', u'tenant_id': u'', u'created_at': u'2018-09-28T20:38:29Z', u'mtu': 1500, u'extra_subnets': []}), interface(qg-d0c2a0e8-71), ns(qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda) _external_gateway_added /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:701
2018-09-28 16:39:39.966 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-o', 'link', 'show', 'qg-d0c2a0e8-71'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:39.983 24899 INFO neutron.agent.linux.interface [-] Device qg-d0c2a0e8-71 already exists
2018-09-28 16:39:39.984 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', 'link', 'set', 'qg-d0c2a0e8-71', 'mtu', '1500'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.000 24899 DEBUG neutron.agent.linux.interface [-] init_router_port: device_name(qg-d0c2a0e8-71), namespace(qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda) init_router_port /usr/lib/python2.7/site-packages/neutron/agent/linux/interface.py:180
2018-09-28 16:39:40.001 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-o', 'link', 'show', 'qg-d0c2a0e8-71'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.023 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', 'addr', 'show', 'qg-d0c2a0e8-71'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.037 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-4', 'route', 'list', 'dev', 'qg-d0c2a0e8-71', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.056 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-6', 'route', 'list', 'dev', 'qg-d0c2a0e8-71', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.071 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-4', 'route', 'list', 'dev', 'qg-d0c2a0e8-71'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.089 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-6', 'route', 'list', 'dev', 'qg-d0c2a0e8-71'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.101 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-d0c2a0e8-71'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.117 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'sysctl', '-w', 'net.ipv6.conf.qg-d0c2a0e8-71.accept_ra=2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.148 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'sysctl', '-w', 'net.ipv6.conf.qg-d0c2a0e8-71.forwarding=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.166 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.168 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-U', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.9'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.187 24899 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-09-28 16:39:40.189 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.212 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-A', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.9'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.237 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.276 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.299 24899 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 7 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-09-28 16:39:40.300 24899 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-09-28 16:39:40.301 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', 'addr', 'show', 'qg-d0c2a0e8-71'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.320 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-4', 'addr', 'add', '172.24.4.15/32', 'scope', 'global', 'dev', 'qg-d0c2a0e8-71', 'brd', '172.24.4.15'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.339 24899 DEBUG neutron.agent.l3.router_info [-] Floating ip cb30ce70-520d-43a0-9f00-b7ac45b15b8f added, status ACTIVE process_floating_ip_addresses /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:361
2018-09-28 16:39:40.340 24899 DEBUG neutron.agent.l3.router_info [-] Sending floating ip statuses: {u'cb30ce70-520d-43a0-9f00-b7ac45b15b8f': 'ACTIVE'} update_fip_statuses /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:951
2018-09-28 16:39:40.346 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-U', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.15'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.383 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-A', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.15'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.422 24899 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-09-28 16:39:40.423 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.459 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:40.491 24899 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 0 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-09-28 16:39:40.492 24899 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-09-28 16:39:40.492 24899 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_updated-8741586324620', 'neutron.agent.linux.pd.update_router-8741586862054'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-28 16:39:40.493 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:39:40.494 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:39:40.495 24899 DEBUG neutron.agent.l3.agent [-] Finished a router update for a52d3225-2464-4185-aae0-f6edf0cd3eda _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-09-28 16:39:42.246 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-U', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.9'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:42.263 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-A', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.9'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:42.420 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-U', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.15'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:42.446 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-A', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.15'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:44.286 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-U', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.9'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:44.308 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-A', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.9'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:44.463 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-U', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.15'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:44.481 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'arping', '-A', '-I', 'qg-d0c2a0e8-71', '-c', '1', '-w', '1.5', '172.24.4.15'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:39:57.859 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:39:57.863 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:40:16.331 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:40:34.860 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:40:34.861 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:40:56.334 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:40:57.859 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:40:57.863 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:41:34.862 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:41:34.863 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:41:36.336 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:41:57.861 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:41:57.866 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:42:16.339 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:42:34.865 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:42:34.866 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:42:51.446 24899 DEBUG neutron.agent.l3.agent [req-9bf54802-7dd4-4e1b-8aa2-0a9d47c102c4 8835d0336e914421b81808a4cbdcc3d7 a2a58b6875074641b4d2105d8ff62a76 - - -] Got routers updated notification :[u'a52d3225-2464-4185-aae0-f6edf0cd3eda'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-09-28 16:42:51.449 24899 DEBUG neutron.agent.l3.agent [-] Starting router update for a52d3225-2464-4185-aae0-f6edf0cd3eda, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-09-28 16:42:52.871 24899 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-28 16:42:52.873 24899 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1141
2018-09-28 16:42:52.873 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:42:52.897 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:42:52.897 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:42:52.898 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:42:52.913 24899 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-09-28 16:42:52.915 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:42:52.937 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:42:52.951 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:42:52.973 24899 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 7 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-09-28 16:42:52.974 24899 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-09-28 16:42:52.974 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', 'addr', 'show', 'qg-d0c2a0e8-71'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:42:52.989 24899 DEBUG neutron.agent.l3.router_info [-] Removing floating ip 172.24.4.15/32 from interface qg-d0c2a0e8-71 in namespace qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda process_floating_ip_addresses /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:384
2018-09-28 16:42:52.990 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-4', 'addr', 'del', '172.24.4.15/32', 'dev', 'qg-d0c2a0e8-71'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:42:53.007 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'conntrack', '-D', '-d', '172.24.4.15'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:42:53.023 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'conntrack', '-D', '-q', '172.24.4.15'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:42:53.038 24899 DEBUG neutron.agent.l3.router_info [-] Sending floating ip statuses: {u'cb30ce70-520d-43a0-9f00-b7ac45b15b8f': 'DOWN'} update_fip_statuses /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:951
2018-09-28 16:42:53.098 24899 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-09-28 16:42:53.099 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:42:53.119 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:42:53.139 24899 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 0 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-09-28 16:42:53.140 24899 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-09-28 16:42:53.141 24899 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_updated-8741586324620', 'neutron.agent.linux.pd.update_router-8741586862054'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-28 16:42:53.141 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:42:53.142 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:42:53.142 24899 DEBUG neutron.agent.l3.agent [-] Finished a router update for a52d3225-2464-4185-aae0-f6edf0cd3eda _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-09-28 16:42:56.343 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:42:57.862 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:42:57.870 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.009s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:43:34.868 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:43:34.869 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:43:36.346 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:43:40.848 24899 DEBUG neutron.agent.l3.agent [req-ba55815b-cb19-494c-84bc-f128d2572a6e e386cb43209f41fcb7173020f656e97e 63d6ee59c98741e4acf874cc7755dc45 - - -] Got routers updated notification :[u'a52d3225-2464-4185-aae0-f6edf0cd3eda'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-09-28 16:43:40.851 24899 DEBUG neutron.agent.l3.agent [-] Starting router update for a52d3225-2464-4185-aae0-f6edf0cd3eda, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-09-28 16:43:41.597 24899 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-28 16:43:41.598 24899 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1141
2018-09-28 16:43:41.600 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:41.620 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:43:41.621 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:43:41.621 24899 DEBUG neutron.agent.l3.router_info [-] External gateway removed: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-09-28T20:38:37Z', u'device_owner': u'network:router_gateway', u'revision_number': 6, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'ee2b427c-1494-4c9a-94e6-33722268815a', u'prefixlen': 24, u'ip_address': u'172.24.4.9'}], u'id': u'd0c2a0e8-7167-4d71-9ee5-4e85047733b5', u'security_groups': [], u'binding:vif_details': {u'port_filter': True, u'datapath_type': u'system', u'ovs_hybrid_plug': True}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:c0:6f:6d', u'project_id': u'', u'status': u'ACTIVE', u'subnets': [{u'dns_nameservers': [], u'ipv6_ra_mode': None, u'gateway_ip': u'172.24.4.1', u'cidr': u'172.24.4.0/24', u'id': u'ee2b427c-1494-4c9a-94e6-33722268815a', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'a52d3225-2464-4185-aae0-f6edf0cd3eda', u'name': u'', u'admin_state_up': True, u'network_id': u'c140d30c-ba37-4570-9e0b-48390f7eeee1', u'tenant_id': u'', u'created_at': u'2018-09-28T20:38:29Z', u'mtu': 1500, u'extra_subnets': []}), interface(qg-d0c2a0e8-71) external_gateway_removed /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:762
2018-09-28 16:43:41.622 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-4', 'addr', 'del', '172.24.4.9/24', 'dev', 'qg-d0c2a0e8-71'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:41.638 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'conntrack', '-D', '-d', '172.24.4.9'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:41.653 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'conntrack', '-D', '-q', '172.24.4.9'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:41.672 24899 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-09-28 16:43:41.693 24899 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=br-int, port=qg-d0c2a0e8-71) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-09-28 16:43:41.723 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_gw_interface" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:43:41.724 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_gw_interface" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:43:41.724 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:41.738 24899 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-09-28 16:43:41.739 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:41.761 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:41.775 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:41.796 24899 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 13 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-09-28 16:43:41.796 24899 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-09-28 16:43:41.797 24899 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-09-28 16:43:41.798 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:41.819 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:41.834 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:41.847 24899 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 5 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-09-28 16:43:41.848 24899 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-09-28 16:43:41.849 24899 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_updated-8741586324620', 'neutron.agent.linux.pd.update_router-8741586862054'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-28 16:43:41.850 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:43:41.850 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:43:41.851 24899 DEBUG neutron.agent.l3.agent [-] Finished a router update for a52d3225-2464-4185-aae0-f6edf0cd3eda _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-09-28 16:43:57.862 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:43:57.866 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:43:57.896 24899 DEBUG neutron.agent.l3.agent [req-cdb4d1e7-b118-43d3-8a19-e1966cb9cc8d e386cb43209f41fcb7173020f656e97e 63d6ee59c98741e4acf874cc7755dc45 - - -] Got routers updated notification :[u'a52d3225-2464-4185-aae0-f6edf0cd3eda'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-09-28 16:43:57.899 24899 DEBUG neutron.agent.l3.agent [-] Starting router update for a52d3225-2464-4185-aae0-f6edf0cd3eda, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-09-28 16:43:58.233 24899 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-28 16:43:58.234 24899 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1141
2018-09-28 16:43:58.235 24899 DEBUG neutron.agent.l3.router_info [-] removing internal network: port(333757d3-2217-4ce5-8b54-9999fad128f0) interface(qr-333757d3-22) internal_network_removed /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:477
2018-09-28 16:43:58.237 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip', '-o', 'link', 'show', 'qr-333757d3-22'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:58.257 24899 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-09-28 16:43:58.282 24899 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=br-int, port=qr-333757d3-22) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-09-28 16:43:58.326 24899 DEBUG neutron.agent.l3.router_info [-] removing port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-09-28T20:38:18Z', u'device_owner': u'network:router_interface', u'revision_number': 4, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'e10e5eb7-09ab-4e70-a07d-2e8ecb70e1cd', u'prefixlen': 24, u'ip_address': u'11.22.1.1'}], u'id': u'333757d3-2217-4ce5-8b54-9999fad128f0', u'security_groups': [], u'binding:vif_details': {}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:a3:d3:36', u'project_id': u'a2a58b6875074641b4d2105d8ff62a76', u'status': u'DOWN', u'subnets': [{u'dns_nameservers': [u'8.8.4.4'], u'ipv6_ra_mode': None, u'gateway_ip': u'11.22.1.1', u'cidr': u'11.22.1.0/24', u'id': u'e10e5eb7-09ab-4e70-a07d-2e8ecb70e1cd', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'a52d3225-2464-4185-aae0-f6edf0cd3eda', u'name': u'', u'admin_state_up': True, u'network_id': u'26c87336-5468-450e-bd7d-8a22052b095b', u'tenant_id': u'a2a58b6875074641b4d2105d8ff62a76', u'created_at': u'2018-09-28T20:38:16Z', u'mtu': 1450, u'extra_subnets': []} from internal_ports cache _process_internal_ports /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:567
2018-09-28 16:43:58.327 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:58.343 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:43:58.344 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:43:58.345 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:58.361 24899 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-09-28 16:43:58.363 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:58.386 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:58.408 24899 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 0 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-09-28 16:43:58.408 24899 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-09-28 16:43:58.409 24899 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-09-28 16:43:58.410 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:58.435 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:58.450 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:43:58.469 24899 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 10 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-09-28 16:43:58.470 24899 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-09-28 16:43:58.471 24899 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_updated-8741586324620', 'neutron.agent.linux.pd.update_router-8741586862054'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-28 16:43:58.471 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:43:58.472 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:43:58.473 24899 DEBUG neutron.agent.l3.agent [-] Finished a router update for a52d3225-2464-4185-aae0-f6edf0cd3eda _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-09-28 16:44:16.356 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:44:34.871 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:44:34.871 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:44:53.447 24899 DEBUG neutron.agent.l3.agent [req-b5e3904b-7b3c-4677-82f9-26b2a38b461c e386cb43209f41fcb7173020f656e97e 63d6ee59c98741e4acf874cc7755dc45 - - -] Got router deleted notification for a52d3225-2464-4185-aae0-f6edf0cd3eda router_deleted /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:424
2018-09-28 16:44:53.450 24899 DEBUG neutron.agent.l3.agent [-] Starting router update for a52d3225-2464-4185-aae0-f6edf0cd3eda, action 1, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-09-28 16:44:53.451 24899 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.before_router_removed--9223363295268451181'] for router, before_delete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-28 16:44:53.466 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['kill', '-9', '31762'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:44:53.597 24899 DEBUG neutron.agent.l3.router_info [-] process router delete process_delete /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1123
2018-09-28 16:44:53.598 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:44:53.685 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:44:53.720 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:44:53.755 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.035s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:44:53.756 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:44:53.777 24899 DEBUG neutron.agent.l3.router_info [-] Terminating radvd daemon in router device: a52d3225-2464-4185-aae0-f6edf0cd3eda disable_radvd /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:520
2018-09-28 16:44:53.778 24899 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/a52d3225-2464-4185-aae0-f6edf0cd3eda.pid.radvd get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-09-28 16:44:53.779 24899 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/a52d3225-2464-4185-aae0-f6edf0cd3eda.pid.radvd get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-09-28 16:44:53.779 24899 DEBUG neutron.agent.linux.external_process [-] No process started for a52d3225-2464-4185-aae0-f6edf0cd3eda disable /usr/lib/python2.7/site-packages/neutron/agent/linux/external_process.py:126
2018-09-28 16:44:53.789 24899 DEBUG neutron.agent.linux.ra [-] radvd disabled for router a52d3225-2464-4185-aae0-f6edf0cd3eda disable /usr/lib/python2.7/site-packages/neutron/agent/linux/ra.py:190
2018-09-28 16:44:53.790 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:44:53.801 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:44:53.827 24899 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'delete', 'qrouter-a52d3225-2464-4185-aae0-f6edf0cd3eda'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-28 16:44:53.860 24899 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.linux.pd.remove_router--9223363295267913792'] for router, after_delete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-28 16:44:53.867 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:44:53.868 24899 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:44:53.874 24899 DEBUG neutron.agent.l3.agent [-] Finished a router update for a52d3225-2464-4185-aae0-f6edf0cd3eda _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:564
2018-09-28 16:44:56.365 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:44:57.865 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:44:57.920 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.055s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:45:34.871 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:45:34.872 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:45:36.366 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:45:57.868 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:45:57.872 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:46:16.370 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:46:34.871 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:46:34.872 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-28 16:46:56.373 24899 DEBUG oslo_service.periodic_task [req-f96b8731-94b1-48ef-b378-1e1d9739d057 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-28 16:46:57.868 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-28 16:46:57.872 24899 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282

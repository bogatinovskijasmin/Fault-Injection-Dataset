2018-09-30 10:47:23.887 25564 DEBUG cinder.scheduler.host_manager [req-dd42850b-3eb1-47fa-9a2c-6af7f53a4aee - - - - -] Received volume service update from localhost.localdomain@lvm: {u'filter_function': None, u'goodness_function': None, u'volume_backend_name': u'lvm', u'driver_version': u'3.0.0', u'sparse_copy_volume': True, u'pools': [{u'pool_name': u'lvm', u'filter_function': None, u'goodness_function': None, u'total_volumes': 9, u'multiattach': False, u'provisioned_capacity_gb': 8.0, u'allocated_capacity_gb': 0, u'thin_provisioning_support': True, u'free_capacity_gb': 48.59, u'location_info': u'LVMVolumeDriver:localhost.localdomain:cinder-volumes2:thin:0', u'total_capacity_gb': u'48.93', u'thick_provisioning_support': False, u'reserved_percentage': 0, u'QoS_support': False, u'max_over_subscription_ratio': 1.0}], u'vendor_name': u'Open Source', u'3torage_protocol': u'iSCSI'} update_service_capabilities /usr/lib/python2.7/site-packages/cinder/scheduler/host_manager.py:530
2018-09-30 10:48:23.878 25564 DEBUG cinder.scheduler.host_manager [req-c322bba8-e557-444d-98bd-1b41285c5eea - - - - -] Received volume service update from localhost.localdomain@lvm: {u'filter_function': None, u'vendor_name': u'Open Source', u'goodness_function': None, u'volume_backend_name': u'lvm', u'driver_version': u'3.0.0', u'pools': [{u'pool_name': u'lvm', u'filter_function': None, u'goodness_function': None, u'total_volumes': 9, u'multiattach': False, u'provisioned_capacity_gb': 8.0, u'allocated_capacity_gb': 0, u'thin_provisioning_support': True, u'free_capacity_gb': 48.59, u'location_info': u'LVMVolumeDriver:localhost.localdomain:cinder-volumes2:thin:0', u'total_capacity_gb': u'48.93', u'thick_provisioning_support': False, u'reserved_percentage': 0, u'QoS_support': False, u'max_over_subscription_ratio': 1.0}], u'null': True, u'storage_protocol': u'iSCSI'} update_service_capabilities /usr/lib/python2.7/site-packages/cinder/scheduler/host_manager.py:530
2018-09-30 10:49:23.888 25564 DEBUG cinder.scheduler.host_manager [req-d0ddb40c-9e83-4a6f-8fb1-369d675f014b - - - - -] Received volume service update from localhost.localdomain@lvm: {u'filter_function': None, u'goodness_function': None, u'storagg_protocol': u'iSCSI', u'volume_backend_name': u'lvm', u'driver_version': u'3.0.0', u'sparse_copy_volume': True, u'pools': [{u'pool_name': u'lvm', u'filter_function': None, u'goodness_function': None, u'total_volumes': 9, u'multiattach': False, u'provisioned_capacity_gb': 8.0, u'allocated_capacity_gb': 0, u'thin_provisioning_support': True, u'free_capacity_gb': 48.59, u'location_info': u'LVMVolumeDriver:localhost.localdomain:cinder-volumes2:thin:0', u'total_capacity_gb': u'48.93', u'thick_provisioning_support': False, u'reserved_percentage': 0, u'QoS_support': False, u'max_over_subscription_ratio': 1.0}], u'vendor_name': u'Open Source'} update_service_capabilities /usr/lib/python2.7/site-packages/cinder/scheduler/host_manager.py:530
2018-09-30 10:50:23.885 25564 DEBUG cinder.scheduler.host_manager [req-bbac1050-22d3-46b2-9e3d-9d2f64ec6ae1 - - - - -] Received volume service update from localhost.localdomain@lvm: {u'filter_function': None, u'vendor_name': u'Open Source', u'goodness_function': None, u'driver_version': u'3.0.0', u'sparse_copy_volume': True, u'pools': [{u'pool_name': u'lvm', u'filter_function': None, u'goodness_function': None, u'total_volumes': 9, u'multiattach': False, u'provisioned_capacity_gb': 8.0, u'allocated_capacity_gb': 0, u'thin_provisioning_support': True, u'free_capacity_gb': 48.59, u'location_info': u'LVMVolumeDriver:localhost.localdomain:cinder-volumes2:thin:0', u'total_capacity_gb': u'48.93', u'thick_provisioning_support': False, u'reserved_percentage': 0, u'QoS_support': False, u'max_over_subscription_ratio': 1.0}], u'null': u'lvm', u'storage_protocol': u'iSCSI'} update_service_capabilities /usr/lib/python2.7/site-packages/cinder/scheduler/host_manager.py:530
2018-09-30 10:50:55.621 25564 DEBUG cinder.scheduler.manager [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Flow 'volume_create_scheduler' (8f0053c1-f1df-4137-9888-f9c44fd69932) transitioned into state 'RUNNING' from state 'PENDING' _flow_receiver /usr/lib/python2.7/site-packages/taskflow/listeners/logging.py:145
2018-09-30 10:50:55.626 25564 DEBUG cinder.scheduler.manager [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Task 'cinder.scheduler.flows.create_volume.ExtractSchedulerSpecTask;volume:create' (53787863-1b36-428c-ae22-11f5aee8e322) transitioned into state 'RUNNING' from state 'PENDING' _task_receiver /usr/lib/python2.7/site-packages/taskflow/listeners/logging.py:194
2018-09-30 10:50:55.629 25564 DEBUG cinder.scheduler.manager [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Task 'cinder.scheduler.flows.create_volume.ExtractSchedulerSpecTask;volume:create' (53787863-1b36-428c-ae22-11f5aee8e322) transitioned into state 'SUCCESS' from state 'RUNNING' with result '{'request_spec': RequestSpec(CG_backend=<?>,cgsnapshot_id=None,consistencygroup_id=None,group_backend=<?>,group_id=None,image_id=c641d466-31f8-4761-bfa5-7b22f2a5420a,snapshot_id=None,source_replicaid=None,source_volid=None,volume=Volume(708564b9-d87e-4ba9-ab79-9bf409eb2ba3),volume_id=708564b9-d87e-4ba9-ab79-9bf409eb2ba3,volume_properties=VolumeProperties,volume_type=VolumeType(9d0b1ee5-a064-4168-9371-95e1f29fe20d))}' _task_receiver /usr/lib/python2.7/site-packages/taskflow/listeners/logging.py:183
2018-09-30 10:50:55.632 25564 DEBUG cinder.scheduler.manager [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Task 'cinder.scheduler.flows.create_volume.ScheduleCreateVolumeTask;volume:create' (2ec7cc6a-bab4-40ab-9ab1-cc80d4e13b85) transitioned into state 'RUNNING' from state 'PENDING' _task_receiver /usr/lib/python2.7/site-packages/taskflow/listeners/logging.py:194
2018-09-30 10:50:55.634 25564 DEBUG object [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Cinder object VolumeProperties has no attribute named: volume_id get /usr/lib/python2.7/site-packages/cinder/objects/base.py:224
2018-09-30 10:50:55.644 25564 DEBUG oslo_db.sqlalchemy.engines [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION _check_effective_sql_mode /usr/lib/python2.7/site-packages/oslo_db/sqlalchemy/engines.py:285
2018-09-30 10:50:55.704 25564 DEBUG cinder.scheduler.base_filter [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Starting with 1 host(s) get_filtered_objects /usr/lib/python2.7/site-packages/cinder/scheduler/base_filter.py:95
2018-09-30 10:50:55.704 25564 DEBUG cinder.scheduler.base_filter [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Filter AvailabilityZoneFilter returned 1 host(s) get_filtered_objects /usr/lib/python2.7/site-packages/cinder/scheduler/base_filter.py:125
2018-09-30 10:50:55.705 25564 DEBUG cinder.scheduler.filters.capacity_filter [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Checking if host localhost.localdomain@lvm#lvm can create a 1 GB volume (708564b9-d87e-4ba9-ab79-9bf409eb2ba3) backend_passes /usr/lib/python2.7/site-packages/cinder/scheduler/filters/capacity_filter.py:62
2018-09-30 10:50:55.705 25564 DEBUG cinder.scheduler.filters.capacity_filter [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Checking provisioning for request of 1 GB. Backend: host 'localhost.localdomain@lvm#lvm':free_capacity_gb: 48.59, total_capacity_gb: 48.93,allocated_capacity_gb: 0, max_over_subscription_ratio: 1.0,reserved_percentage: 0, provisioned_capacity_gb: 8.0,thin_provisioning_support: True, thick_provisioning_support: False,pools: None,updated at: 2018-09-30 14:50:23.870148 backend_passes /usr/lib/python2.7/site-packages/cinder/scheduler/filters/capacity_filter.py:134
2018-09-30 10:50:55.706 25564 DEBUG cinder.scheduler.filters.capacity_filter [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Space information for volume creation on host localhost.localdomain@lvm#lvm (requested / avail): 1/48.59 backend_passes /usr/lib/python2.7/site-packages/cinder/scheduler/filters/capacity_filter.py:172
2018-09-30 10:50:55.706 25564 DEBUG cinder.scheduler.base_filter [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Filter CapacityFilter returned 1 host(s) get_filtered_objects /usr/lib/python2.7/site-packages/cinder/scheduler/base_filter.py:125
2018-09-30 10:50:55.707 25564 DEBUG cinder.scheduler.filters.capabilities_filter [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Volume type extra spec requirement "volume_backend_name=lvm" does not match reported capability "None" _satisfies_extra_specs /usr/lib/python2.7/site-packages/cinder/scheduler/filters/capabilities_filter.py:74
2018-09-30 10:50:55.707 25564 DEBUG cinder.scheduler.filters.capabilities_filter [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] host 'localhost.localdomain@lvm#lvm':free_capacity_gb: 48.59, total_capacity_gb: 48.93,allocated_capacity_gb: 0, max_over_subscription_ratio: 1.0,reserved_percentage: 0, provisioned_capacity_gb: 8.0,thin_provisioning_support: True, thick_provisioning_support: False,pools: None,updated at: 2018-09-30 14:50:23.870148 fails resource_type extra_specs requirements backend_passes /usr/lib/python2.7/site-packages/cinder/scheduler/filters/capabilities_filter.py:87
2018-09-30 10:50:55.707 25564 DEBUG cinder.scheduler.base_filter [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Filter CapabilitiesFilter returned 0 host(s) get_filtered_objects /usr/lib/python2.7/site-packages/cinder/scheduler/base_filter.py:125
2018-09-30 10:50:55.708 25564 DEBUG cinder.scheduler.base_filter [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Filtering removed all hosts for the request with volume ID '708564b9-d87e-4ba9-ab79-9bf409eb2ba3'. Filter results: [('AvailabilityZoneFilter', [u'localhost.localdomain@lvm#lvm']), ('CapacityFilter', [u'localhost.localdomain@lvm#lvm']), ('CapabilitiesFilter', [])] _log_filtration /usr/lib/python2.7/site-packages/cinder/scheduler/base_filter.py:73
2018-09-30 10:50:55.708 25564 INFO cinder.scheduler.base_filter [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Filtering removed all hosts for the request with volume ID '708564b9-d87e-4ba9-ab79-9bf409eb2ba3'. Filter results: AvailabilityZoneFilter: (start: 1, end: 1), CapacityFilter: (start: 1, end: 1), CapabilitiesFilter: (start: 1, end: 0)
2018-09-30 10:50:55.709 25564 WARNING cinder.scheduler.filter_scheduler [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] No weighed backend found for volume with properties: {'name': u'iscsi', 'qos_specs_id': None, 'deleted': False, 'created_at': '2018-09-12T22:08:58.000000', 'updated_at': None, 'extra_specs': {u'volume_backend_name': u'lvm'}, 'is_public': True, 'deleted_at': None, 'id': u'9d0b1ee5-a064-4168-9371-95e1f29fe20d', 'projects': [], 'description': None}
2018-09-30 10:50:55.710 25564 INFO cinder.message.api [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Creating message record for request_id = req-b3ceb21c-aed0-4b99-915c-3584adefe894
2018-09-30 10:50:55.751 25564 ERROR cinder.scheduler.flows.create_volume [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Failed to run task cinder.scheduler.flows.create_volume.ScheduleCreateVolumeTask;volume:create: No valid backend was found. No weighed backends available: NoValidBackend: No valid backend was found. No weighed backends available
2018-09-30 10:50:55.752 25564 DEBUG cinder.volume.flows.common [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Setting Volume 708564b9-d87e-4ba9-ab79-9bf409eb2ba3 to error due to: No valid backend was found. No weighed backends available error_out /usr/lib/python2.7/site-packages/cinder/volume/flows/common.py:83
2018-09-30 10:50:55.784 25564 DEBUG cinder.scheduler.manager [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Task 'cinder.scheduler.flows.create_volume.ScheduleCreateVolumeTask;volume:create' (2ec7cc6a-bab4-40ab-9ab1-cc80d4e13b85) transitioned into state 'SUCCESS' from state 'RUNNING' with result 'None' _task_receiver /usr/lib/python2.7/site-packages/taskflow/listeners/logging.py:183
2018-09-30 10:50:55.790 25564 DEBUG cinder.scheduler.manager [req-b3ceb21c-aed0-4b99-915c-3584adefe894 383b6e997865446a8c561c2a5f27338e 952269949fef4dd48b60ae0a2dd310a8 - 8437f2bba65047d29e62f708f8d918b2 8437f2bba65047d29e62f708f8d918b2] Flow 'volume_create_scheduler' (8f0053c1-f1df-4137-9888-f9c44fd69932) transitioned into state 'SUCCESS' from state 'RUNNING' _flow_receiver /usr/lib/python2.7/site-packages/taskflow/listeners/logging.py:145
2018-09-30 10:51:23.881 25564 DEBUG cinder.scheduler.host_manager [req-18072f19-9170-4f49-b7d8-ba6c7da577e4 - - - - -] Received volume service update from localhost.localdomain@lvm: {u'filter_function': None, u'vendor_name': u'Open Source', u'goodness_function': None, u'volume_backend_name': u'lvm', u'driver_version': u'3.0.0', u'sparse_copy_volume': True, u'pools': [{u'pool_name': u'lvm', u'filter_function': None, u'goodness_function': None, u'total_volumes': 9, u'multiattach': False, u'provisioned_capacity_gb': 8.0, u'allocated_capacity_gb': 0, u'thin_provisioning_support': True, u'free_capacity_gb': 48.59, u'location_info': u'LVMVolumeDriver:localhost.localdomain:cinder-volumes2:thin:0', u'total_capacity_gb': u'48.93', u'thick_provisioning_support': False, u'reserved_percentage': 0, u'QoS_support': False, u'max_over_subscription_ratio': 1.0}], u'null': u'iSCSI'} update_service_capabilities /usr/lib/python2.7/site-packages/cinder/scheduler/host_manager.py:530
2018-09-30 10:52:23.881 25564 DEBUG cinder.scheduler.host_manager [req-be53d977-74e2-46c9-872b-3f5688e30961 - - - - -] Received volume service update from localhost.localdomain@lvm: {u'filter_function': None, u'goodness_function': None, u'volume_backend_name': u'lvm', u'driver_version': u'3.0.0', u'sparse_copy_volume': True, u'vgndor_name': u'Open Source', u'pools': [{u'pool_name': u'lvm', u'filter_function': None, u'goodness_function': None, u'total_volumes': 9, u'multiattach': False, u'provisioned_capacity_gb': 8.0, u'allocated_capacity_gb': 0, u'thin_provisioning_support': True, u'free_capacity_gb': 48.59, u'location_info': u'LVMVolumeDriver:localhost.localdomain:cinder-volumes2:thin:0', u'total_capacity_gb': u'48.93', u'thick_provisioning_support': False, u'reserved_percentage': 0, u'QoS_support': False, u'max_over_subscription_ratio': 1.0}], u'storage_protocol': u'iSCSI'} update_service_capabilities /usr/lib/python2.7/site-packages/cinder/scheduler/host_manager.py:530

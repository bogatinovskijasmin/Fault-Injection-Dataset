2018-09-28 19:17:58.074 27842 DEBUG cinder.scheduler.host_manager [req-9ab04144-6b36-4c02-82ba-0f925ef9bed7 - - - - -] Received volume service update from localhost.localdomain@lvm: {u'filter_function': None, u'goodness_function': None, u'volume_backend_name': u'lvm', u'driver_version': u'3.0.0', u'sparse_copy_volume': True, u'pools': [{u'pool_name': u'lvm', u'filter_function': None, u'goodness_function': None, u'total_volumes': 2, u'multiattach': False, u'provisioned_capacity_gb': 1.0, u'allocated_capacity_gb': 0, u'thin_provisioning_support': True, u'free_capacity_gb': 48.93, u'location_info': u'LVMVolumeDriver:localhost.localdomain:cinder-volumes2:thin:0', u'total_capacity_gb': u'48.93', u'thick_provisioning_support': False, u'reserved_percentage': 0, u'QoS_support': False, u'max_over_subscription_ratio': 1.0}], u'vendor_name': u'Open Source', u'storage_protocol': u'iSCSI'} update_service_capabilities /usr/lib/python2.7/site-packages/cinder/scheduler/host_manager.py:530
2018-09-28 19:18:58.071 27842 DEBUG cinder.scheduler.host_manager [req-c85f2ff0-af83-4755-8f05-4082103f6619 - - - - -] Received volume service update from localhost.localdomain@lvm: {u'filter_function': None, u'goodness_function': None, u'volume_backend_name': u'lvm', u'driver_version': u'3.0.0', u'sparse_copy_volume': True, u'pools': [{u'pool_name': u'lvm', u'filter_function': None, u'goodness_function': None, u'total_volumes': 2, u'multiattach': False, u'provisioned_capacity_gb': 1.0, u'allocated_capacity_gb': 0, u'thin_provisioning_support': True, u'free_capacity_gb': 48.93, u'location_info': u'LVMVolumeDriver:localhost.localdomain:cinder-volumes2:thin:0', u'total_capacity_gb': u'48.93', u'thick_provisioning_support': False, u'reserved_percentage': 0, u'QoS_support': False, u'max_over_subscription_ratio': 1.0}], u'vendor_name': u'Open Source', u'storage_protocol': u'iSCSI'} update_service_capabilities /usr/lib/python2.7/site-packages/cinder/scheduler/host_manager.py:530
2018-09-28 19:19:58.106 27842 DEBUG cinder.scheduler.host_manager [req-6643ce5f-ece1-47a6-b354-e877bde5baa1 - - - - -] Received volume service update from localhost.localdomain@lvm: {u'filter_function': None, u'goodness_function': None, u'volume_backend_name': u'lvm', u'driver_version': u'3.0.0', u'sparse_copy_volume': True, u'pools': [{u'pool_name': u'lvm', u'filter_function': None, u'goodness_function': None, u'total_volumes': 2, u'multiattach': False, u'provisioned_capacity_gb': 1.0, u'allocated_capacity_gb': 0, u'thin_provisioning_support': True, u'free_capacity_gb': 48.93, u'location_info': u'LVMVolumeDriver:localhost.localdomain:cinder-volumes2:thin:0', u'total_capacity_gb': u'48.93', u'thick_provisioning_support': False, u'reserved_percentage': 0, u'QoS_support': False, u'max_over_subscription_ratio': 1.0}], u'vendor_name': u'Open Source', u'storage_protocol': u'iSCSI'} update_service_capabilities /usr/lib/python2.7/site-packages/cinder/scheduler/host_manager.py:530
2018-09-28 19:20:58.241 27842 DEBUG cinder.scheduler.host_manager [req-fd239d4e-cfac-48a6-89e6-e78e86e90f95 - - - - -] Received volume service update from localhost.localdomain@lvm: {u'filter_function': None, u'goodness_function': None, u'volume_backend_name': u'lvm', u'driver_version': u'3.0.0', u'sparse_copy_volume': True, u'pools': [{u'pool_name': u'lvm', u'filter_function': None, u'goodness_function': None, u'total_volumes': 2, u'multiattach': False, u'provisioned_capacity_gb': 1.0, u'allocated_capacity_gb': 0, u'thin_provisioning_support': True, u'free_capacity_gb': 48.93, u'location_info': u'LVMVolumeDriver:localhost.localdomain:cinder-volumes2:thin:0', u'total_capacity_gb': u'48.93', u'thick_provisioning_support': False, u'reserved_percentage': 0, u'QoS_support': False, u'max_over_subscription_ratio': 1.0}], u'vendor_name': u'Open Source', u'storage_protocol': u'iSCSI'} update_service_capabilities /usr/lib/python2.7/site-packages/cinder/scheduler/host_manager.py:530
2018-09-28 19:21:58.113 27842 DEBUG cinder.scheduler.host_manager [req-da1c1805-c392-4557-8870-b3ec111e405a - - - - -] Received volume service update from localhost.localdomain@lvm: {u'filter_function': None, u'goodness_function': None, u'volume_backend_name': u'lvm', u'driver_version': u'3.0.0', u'sparse_copy_volume': True, u'pools': [{u'pool_name': u'lvm', u'filter_function': None, u'goodness_function': None, u'total_volumes': 2, u'multiattach': False, u'provisioned_capacity_gb': 1.0, u'allocated_capacity_gb': 0, u'thin_provisioning_support': True, u'free_capacity_gb': 48.93, u'location_info': u'LVMVolumeDriver:localhost.localdomain:cinder-volumes2:thin:0', u'total_capacity_gb': u'48.93', u'thick_provisioning_support': False, u'reserved_percentage': 0, u'QoS_support': False, u'max_over_subscription_ratio': 1.0}], u'vendor_name': u'Open Source', u'storage_protocol': u'iSCSI'} update_service_capabilities /usr/lib/python2.7/site-packages/cinder/scheduler/host_manager.py:530
2018-09-28 19:22:43.508 27842 DEBUG cinder.scheduler.manager [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] Flow 'volume_create_scheduler' (6fefb600-fe3e-4c96-82b9-a0c5222babb2) transitioned into state 'RUNNING' from state 'PENDING' _flow_receiver /usr/lib/python2.7/site-packages/taskflow/listeners/logging.py:145
2018-09-28 19:22:43.515 27842 DEBUG cinder.scheduler.manager [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] Task 'cinder.scheduler.flows.create_volume.ExtractSchedulerSpecTask;volume:create' (46c0cb09-4341-45d6-8532-50dcc7abfe82) transitioned into state 'RUNNING' from state 'PENDING' _task_receiver /usr/lib/python2.7/site-packages/taskflow/listeners/logging.py:194
2018-09-28 19:22:43.520 27842 DEBUG cinder.scheduler.manager [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] Task 'cinder.scheduler.flows.create_volume.ExtractSchedulerSpecTask;volume:create' (46c0cb09-4341-45d6-8532-50dcc7abfe82) transitioned into state 'SUCCESS' from state 'RUNNING' with result '{'request_spec': RequestSpec(CG_backend=<?>,cgsnapshot_id=None,consistencygroup_id=None,group_backend=<?>,group_id=None,image_id=198f3ff5-d9a2-4966-8dc2-dfbed1fbf6c9,snapshot_id=None,source_replicaid=None,source_volid=None,volume=Volume(078fe3a4-c8f6-415e-9a4e-92ae56e30618),volume_id=078fe3a4-c8f6-415e-9a4e-92ae56e30618,volume_properties=VolumeProperties,volume_type=VolumeType(ec44446e-dc95-4e0b-bb7f-74b27741b41e))}' _task_receiver /usr/lib/python2.7/site-packages/taskflow/listeners/logging.py:183
2018-09-28 19:22:43.524 27842 DEBUG cinder.scheduler.manager [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] Task 'cinder.scheduler.flows.create_volume.ScheduleCreateVolumeTask;volume:create' (8d8be197-5c68-4c7a-92f3-2f4831830c17) transitioned into state 'RUNNING' from state 'PENDING' _task_receiver /usr/lib/python2.7/site-packages/taskflow/listeners/logging.py:194
2018-09-28 19:22:43.527 27842 DEBUG object [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] Cinder object VolumeProperties has no attribute named: volume_id get /usr/lib/python2.7/site-packages/cinder/objects/base.py:224
2018-09-28 19:22:43.538 27842 DEBUG oslo_db.sqlalchemy.engines [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION _check_effective_sql_mode /usr/lib/python2.7/site-packages/oslo_db/sqlalchemy/engines.py:285
2018-09-28 19:22:43.598 27842 DEBUG cinder.scheduler.base_filter [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] Starting with 1 host(s) get_filtered_objects /usr/lib/python2.7/site-packages/cinder/scheduler/base_filter.py:95
2018-09-28 19:22:43.599 27842 DEBUG cinder.scheduler.base_filter [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] Filter AvailabilityZoneFilter returned 1 host(s) get_filtered_objects /usr/lib/python2.7/site-packages/cinder/scheduler/base_filter.py:125
2018-09-28 19:22:43.600 27842 DEBUG cinder.scheduler.filters.capacity_filter [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] Checking if host localhost.localdomain@lvm#lvm can create a 1 GB volume (078fe3a4-c8f6-415e-9a4e-92ae56e30618) backend_passes /usr/lib/python2.7/site-packages/cinder/scheduler/filters/capacity_filter.py:62
2018-09-28 19:22:43.603 27842 DEBUG cinder.scheduler.filters.capacity_filter [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] Checking provisioning for request of 1 GB. Backend: host 'localhost.localdomain@lvm#lvm':free_capacity_gb: 48.93, total_capacity_gb: 48.93,allocated_capacity_gb: 0, max_over_subscription_ratio: 1.0,reserved_percentage: 0, provisioned_capacity_gb: 1.0,thin_provisioning_support: True, thick_provisioning_support: False,pools: None,updated at: 2018-09-28 23:21:58.096609 backend_passes /usr/lib/python2.7/site-packages/cinder/scheduler/filters/capacity_filter.py:134
2018-09-28 19:22:43.604 27842 DEBUG cinder.scheduler.filters.capacity_filter [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] Space information for volume creation on host localhost.localdomain@lvm#lvm (requested / avail): 1/48.93 backend_passes /usr/lib/python2.7/site-packages/cinder/scheduler/filters/capacity_filter.py:172
2018-09-28 19:22:43.604 27842 DEBUG cinder.scheduler.base_filter [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] Filter CapacityFilter returned 1 host(s) get_filtered_objects /usr/lib/python2.7/site-packages/cinder/scheduler/base_filter.py:125
2018-09-28 19:22:43.605 27842 DEBUG cinder.scheduler.base_filter [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] Filter CapabilitiesFilter returned 1 host(s) get_filtered_objects /usr/lib/python2.7/site-packages/cinder/scheduler/base_filter.py:125
2018-09-28 19:22:43.606 27842 DEBUG cinder.scheduler.filter_scheduler [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] Filtered [host 'localhost.localdomain@lvm#lvm':free_capacity_gb: 48.93, total_capacity_gb: 48.93,allocated_capacity_gb: 0, max_over_subscription_ratio: 1.0,reserved_percentage: 0, provisioned_capacity_gb: 1.0,thin_provisioning_support: True, thick_provisioning_support: False,pools: None,updated at: 2018-09-28 23:21:58.096609] _get_weighted_candidates /usr/lib/python2.7/site-packages/cinder/scheduler/filter_scheduler.py:328
2018-09-28 19:22:43.608 27842 DEBUG cinder.scheduler.filter_scheduler [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] Choosing localhost.localdomain@lvm#lvm _choose_top_backend /usr/lib/python2.7/site-packages/cinder/scheduler/filter_scheduler.py:543
2018-09-28 19:22:43.608 27842 DEBUG cinder.scheduler.host_manager [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] Consumed 1 GB from backend: host 'localhost.localdomain@lvm#lvm':free_capacity_gb: 47.93, total_capacity_gb: 48.93,allocated_capacity_gb: 1, max_over_subscription_ratio: 1.0,reserved_percentage: 0, provisioned_capacity_gb: 2.0,thin_provisioning_support: True, thick_provisioning_support: False,pools: None,updated at: 2018-09-28 23:22:43.608752 consume_from_volume /usr/lib/python2.7/site-packages/cinder/scheduler/host_manager.py:305
2018-09-28 19:22:43.992 27842 DEBUG cinder.scheduler.manager [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] Task 'cinder.scheduler.flows.create_volume.ScheduleCreateVolumeTask;volume:create' (8d8be197-5c68-4c7a-92f3-2f4831830c17) transitioned into state 'SUCCESS' from state 'RUNNING' with result 'None' _task_receiver /usr/lib/python2.7/site-packages/taskflow/listeners/logging.py:183
2018-09-28 19:22:43.996 27842 DEBUG cinder.scheduler.manager [req-8fb55252-a27e-4ffb-8dcf-567188eae359 17766b171dbc4a36b05367ffca13c137 0ff1cf50e88d47399c171952c2279534 - ddf316d3f5ea484a8b42783b3579cbe7 ddf316d3f5ea484a8b42783b3579cbe7] Flow 'volume_create_scheduler' (6fefb600-fe3e-4c96-82b9-a0c5222babb2) transitioned into state 'SUCCESS' from state 'RUNNING' _flow_receiver /usr/lib/python2.7/site-packages/taskflow/listeners/logging.py:145
2018-09-28 19:22:58.468 27842 DEBUG cinder.scheduler.host_manager [req-7d601966-85d3-485d-ba29-8116aaefff54 - - - - -] Received volume service update from localhost.localdomain@lvm: {u'filter_function': None, u'goodness_function': None, u'volume_backend_name': u'lvm', u'driver_version': u'3.0.0', u'sparse_copy_volume': True, u'pools': [{u'pool_name': u'lvm', u'filter_function': None, u'goodness_function': None, u'total_volumes': 2, u'multiattach': False, u'provisioned_capacity_gb': 1.0, u'allocated_capacity_gb': 0, u'thin_provisioning_support': True, u'free_capacity_gb': 48.93, u'location_info': u'LVMVolumeDriver:localhost.localdomain:cinder-volumes2:thin:0', u'total_capacity_gb': u'48.93', u'thick_provisioning_support': False, u'reserved_percentage': 0, u'QoS_support': False, u'max_over_subscription_ratio': 1.0}], u'vendor_name': u'Open Source', u'storage_protocol': u'iSCSI'} update_service_capabilities /usr/lib/python2.7/site-packages/cinder/scheduler/host_manager.py:530
2018-09-28 19:23:58.104 27842 DEBUG cinder.scheduler.host_manager [req-8f8972f8-4159-4e34-a0a3-5ff88a4cb4fb - - - - -] Received volume service update from localhost.localdomain@lvm: {u'filter_function': None, u'goodness_function': None, u'volume_backend_name': u'lvm', u'driver_version': u'3.0.0', u'sparse_copy_volume': True, u'pools': [{u'pool_name': u'lvm', u'filter_function': None, u'goodness_function': None, u'total_volumes': 3, u'multiattach': False, u'provisioned_capacity_gb': 2.0, u'allocated_capacity_gb': 1, u'thin_provisioning_support': True, u'free_capacity_gb': 48.89, u'location_info': u'LVMVolumeDriver:localhost.localdomain:cinder-volumes2:thin:0', u'total_capacity_gb': u'48.93', u'thick_provisioning_support': False, u'reserved_percentage': 0, u'QoS_support': False, u'max_over_subscription_ratio': 1.0}], u'vendor_name': u'Open Source', u'storage_protocol': u'iSCSI'} update_service_capabilities /usr/lib/python2.7/site-packages/cinder/scheduler/host_manager.py:530
2018-09-28 19:23:58.131 27842 DEBUG cinder.scheduler.host_manager [req-8f8972f8-4159-4e34-a0a3-5ff88a4cb4fb - - - - -] Publish storage capacity: [{'provisioned': 2.0, 'reported_at': datetime.datetime(2018, 9, 28, 23, 23, 58, 110888), 'virtual_free': 46.93, 'free': 48.89, 'name_to_id': u'localhost.localdomain@lvm#lvm', 'allocated': 1.0, 'total': 48.93, 'type': 'pool'}, {'provisioned': 2.0, 'reported_at': datetime.datetime(2018, 9, 28, 23, 23, 58, 110888), 'virtual_free': 46.93, 'free': 48.89, 'name_to_id': u'localhost.localdomain@lvm', 'allocated': 1.0, 'total': 48.93, 'type': 'backend'}]. _notify_capacity_usage /usr/lib/python2.7/site-packages/cinder/scheduler/host_manager.py:830

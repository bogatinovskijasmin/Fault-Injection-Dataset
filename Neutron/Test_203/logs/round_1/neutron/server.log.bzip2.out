2018-09-13 01:06:32.122 6998 DEBUG neutron.db.agents_db [req-e7d632cc-c71a-4e5f-b431-dc86ed3c6a24 - - - - -] Agent healthcheck: found 5 active agents agent_health_check /usr/lib/python2.7/site-packages/neutron/db/agents_db.py:281
2018-09-13 01:06:35.063 6997 DEBUG neutron_lib.callbacks.manager [req-dc104981-869e-45fe-a98f-4a6ffdc4c689 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:06:42.314 6988 DEBUG neutron_lib.callbacks.manager [req-c31545e6-1eee-4aee-a6a7-2069af66a3c4 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:06:42.384 6992 DEBUG neutron_lib.callbacks.manager [req-f3538dd4-87e7-4bd8-a54f-097a3fc03243 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:06:42.407 6991 DEBUG neutron_lib.callbacks.manager [req-0b1aa0f7-ef2c-4f9e-88b3-b79489db86ec - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:06:45.698 6994 DEBUG neutron_lib.callbacks.manager [req-008d69a7-905e-46dc-893e-1ebcd45e8487 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:07:05.082 6996 DEBUG neutron_lib.callbacks.manager [req-795cb5b8-cd79-44d0-b575-8e626155c686 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:07:09.132 6998 DEBUG neutron.db.agents_db [req-e7d632cc-c71a-4e5f-b431-dc86ed3c6a24 - - - - -] Agent healthcheck: found 5 active agents agent_health_check /usr/lib/python2.7/site-packages/neutron/db/agents_db.py:281
2018-09-13 01:07:11.197 6981 DEBUG neutron.wsgi [-] (6981) accepted ('10.0.20.20', 41894) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-09-13 01:07:11.226 6981 INFO neutron.wsgi [-] 10.0.20.20 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0167880
2018-09-13 01:07:11.238 6981 WARNING keystonemiddleware.auth_token [-] Using the in-process token cache is deprecated as of the 4.2.0 release and may be removed in the 5.0.0 release or the 'O' development cycle. The in-process cache causes inconsistent results and high memory usage. When the feature is removed the auth_token middleware will not cache tokens by default which may result in performance issues. It is recommended to use  memcache for the auth_token token cache by setting the memcached_servers option.
2018-09-13 01:07:12.311 6990 DEBUG neutron_lib.callbacks.manager [req-c31545e6-1eee-4aee-a6a7-2069af66a3c4 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:07:12.396 6993 DEBUG neutron_lib.callbacks.manager [req-f3538dd4-87e7-4bd8-a54f-097a3fc03243 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:07:12.397 6989 DEBUG neutron_lib.callbacks.manager [req-8e9b340a-4503-4aca-8a57-f7accaff8d2e - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:07:12.911 6981 DEBUG oslo_policy._cache_handler [req-acb3dc92-72c8-4b02-8d44-6f467e6f9ce5 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-09-13 01:07:13.070 6981 DEBUG oslo_policy.policy [req-acb3dc92-72c8-4b02-8d44-6f467e6f9ce5 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:685
2018-09-13 01:07:13.905 6981 DEBUG oslo_policy._cache_handler [req-acb3dc92-72c8-4b02-8d44-6f467e6f9ce5 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-09-13 01:07:13.943 6981 DEBUG oslo_policy.policy [req-acb3dc92-72c8-4b02-8d44-6f467e6f9ce5 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:685
2018-09-13 01:07:13.953 6981 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-acb3dc92-72c8-4b02-8d44-6f467e6f9ce5 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:07:13.955 6981 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-acb3dc92-72c8-4b02-8d44-6f467e6f9ce5 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:07:13.960 6981 INFO neutron.wsgi [req-acb3dc92-72c8-4b02-8d44-6f467e6f9ce5 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/subnets HTTP/1.1" status: 200  len: 1419 time: 2.7258279
2018-09-13 01:07:15.700 6997 DEBUG neutron_lib.callbacks.manager [req-008d69a7-905e-46dc-893e-1ebcd45e8487 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:07:35.062 6988 DEBUG neutron_lib.callbacks.manager [req-d871d888-f396-4523-ac02-e68585ab284e - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:07:42.314 6992 DEBUG neutron_lib.callbacks.manager [req-c31545e6-1eee-4aee-a6a7-2069af66a3c4 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:07:42.375 6991 DEBUG neutron_lib.callbacks.manager [req-f3538dd4-87e7-4bd8-a54f-097a3fc03243 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:07:42.416 6994 DEBUG neutron_lib.callbacks.manager [req-618a09b2-4347-4932-b201-f76368ed03aa - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:07:45.702 6996 DEBUG neutron_lib.callbacks.manager [req-008d69a7-905e-46dc-893e-1ebcd45e8487 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:07:46.135 6998 DEBUG neutron.db.agents_db [req-e7d632cc-c71a-4e5f-b431-dc86ed3c6a24 - - - - -] Agent healthcheck: found 5 active agents agent_health_check /usr/lib/python2.7/site-packages/neutron/db/agents_db.py:281
2018-09-13 01:08:05.079 6990 DEBUG neutron_lib.callbacks.manager [req-5b4e0873-c2b9-46a8-b465-eb5f680c6bf1 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:08.526 6982 DEBUG neutron.wsgi [-] (6982) accepted ('10.0.20.20', 43044) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-09-13 01:08:08.533 6982 INFO neutron.wsgi [-] 10.0.20.20 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0033400
2018-09-13 01:08:09.157 6982 DEBUG neutron.api.v2.base [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Request body: {u'security_group': {u'name': u'tempest-SECURITY_GROUP_SAMPLE-1536815180', u'description': u'tempest-SECURITY_GROUP_SAMPLE-1536815180'}} prepare_request_body /usr/lib/python2.7/site-packages/neutron/api/v2/base.py:695
2018-09-13 01:08:09.160 6982 INFO neutron.quota [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Loaded quota_driver: <neutron.db.quota.driver.DbQuotaDriver object at 0x7ff7ec77dc50>.
2018-09-13 01:08:09.181 6982 DEBUG neutron.db.quota.driver [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Resources subnetpool have unlimited quota limit. It is not required to calculate headroom  make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:223
2018-09-13 01:08:09.200 6982 DEBUG neutron.quota.resource [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Usage tracker for resource:security_group and tenant:357e75d6aa164dcc935b6f8538becf91 is out of sync, need to count used quota count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:274
2018-09-13 01:08:09.217 6982 DEBUG neutron.quota.resource [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Quota usage for security_group was recalculated. Used quota:0. count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:293
2018-09-13 01:08:09.232 6982 DEBUG neutron.db.quota.driver [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attempting to reserve 1 items for resource security_group. Total usage: 0; quota limit: 10; headroom:10 make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:255
2018-09-13 01:08:09.290 6982 DEBUG neutron_lib.callbacks.manager [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks [] for security_group, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:09.609 6982 DEBUG neutron_lib.callbacks.manager [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks [] for security_group, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:10.089 6982 DEBUG neutron_lib.callbacks.manager [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks [] for security_group, precommit_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:10.113 6982 DEBUG neutron_lib.callbacks.manager [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-1632929'] for security_group, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:10.121 6982 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:08:10.304 6982 DEBUG neutron.api.rpc.handlers.resources_rpc [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7ff7ec8c5f10>, [SecurityGroup(created_at=2018-09-13T05:08:09Z,description='Default security group',id=b01bf04f-0fa7-44ce-a839-fc61085900ed,is_default=True,name='default',project_id='357e75d6aa164dcc935b6f8538becf91',revision_number=4,rules=[SecurityGroupRule(6fd6b82b-18cd-4458-888e-cf2aae3489a6),SecurityGroupRule(7ef9154f-8e5f-4adb-b47a-bf53e48b2d55),SecurityGroupRule(b0685493-10b7-40dd-a9b8-c7f4c5179fef),SecurityGroupRule(d04f05ba-7c38-4d8b-a291-824991c753ac)],updated_at=2018-09-13T05:08:09Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-09-13 01:08:10.343 6982 DEBUG neutron.api.rpc.callbacks.version_manager [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Subnet changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:10.345 6982 DEBUG neutron.api.rpc.callbacks.version_manager [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Network changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:10.346 6982 DEBUG neutron.api.rpc.callbacks.version_manager [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type SubPort changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:10.347 6982 DEBUG neutron.api.rpc.callbacks.version_manager [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type SecurityGroup changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:10.348 6982 DEBUG neutron.api.rpc.callbacks.version_manager [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type SecurityGroupRule changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:10.349 6982 DEBUG neutron.api.rpc.callbacks.version_manager [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Trunk changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:10.350 6982 DEBUG neutron.api.rpc.callbacks.version_manager [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type QosPolicy changed None to 1.6 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:10.351 6982 DEBUG neutron.api.rpc.callbacks.version_manager [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Port changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:10.352 6982 DEBUG neutron.api.rpc.callbacks.version_manager [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Log changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:10.355 6982 DEBUG neutron.api.rpc.callbacks.version_manager [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Tracked resource versions report:
pushed versions:
{   'Log': set(['1.0']),
    'Network': set(['1.0']),
    'Port': set(['1.1']),
    'QosPolicy': set(['1.6']),
    'SecurityGroup': set(['1.0']),
    'SecurityGroupRule': set(['1.0']),
    'SubPort': set(['1.0']),
    'Subnet': set(['1.0']),
    'Trunk': set(['1.1'])}

consumer versions:
{   DHCP agent@localhost.localdomain: {   },
    L3 agent@localhost.localdomain: {   },
    Metadata agent@localhost.localdomain: {   },
    Metering agent@localhost.localdomain: {   },
    Open vSwitch agent@localhost.localdomain: {   u'Log': u'1.0',
                                                  u'Network': u'1.0',
                                                  u'Port': u'1.1',
                                                  u'QosPolicy': u'1.6',
                                                  u'SecurityGroup': u'1.0',
                                                  u'SecurityGroupRule': u'1.0',
                                                  u'SubPort': u'1.0',
                                                  u'Subnet': u'1.0',
                                                  u'Trunk': u'1.1'}}
 report /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:178
2018-09-13 01:08:10.452 6982 DEBUG oslo_concurrency.lockutils [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.330s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:08:10.627 6982 DEBUG neutron_lib.callbacks.manager [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks [] for security_group, precommit_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:10.653 6982 DEBUG neutron_lib.callbacks.manager [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-1632929'] for security_group, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:10.667 6982 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:08:10.748 6982 DEBUG neutron.quota.resource [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Persisted dirty status for tenant:357e75d6aa164dcc935b6f8538becf91 on resource:security_group_rule mark_dirty /usr/lib/python2.7/site-packages/neutron/quota/resource.py:207
2018-09-13 01:08:10.765 6982 DEBUG neutron.quota.resource [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Persisted dirty status for tenant:357e75d6aa164dcc935b6f8538becf91 on resource:security_group mark_dirty /usr/lib/python2.7/site-packages/neutron/quota/resource.py:207
2018-09-13 01:08:10.770 6982 DEBUG neutron.api.rpc.handlers.resources_rpc [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7ff7ec61e510>, [SecurityGroup(created_at=2018-09-13T05:08:10Z,description='tempest-SECURITY_GROUP_SAMPLE-1536815180',id=ae8c57de-d729-4ade-83ea-376f8a234116,is_default=False,name='tempest-SECURITY_GROUP_SAMPLE-1536815180',project_id='357e75d6aa164dcc935b6f8538becf91',revision_number=2,rules=[SecurityGroupRule(54b0a9e9-4215-4bb4-947f-fb3b6d9a6a05),SecurityGroupRule(c8efa779-4f76-4492-bd8b-798c8528ac22)],updated_at=2018-09-13T05:08:10Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-09-13 01:08:10.775 6982 DEBUG oslo_concurrency.lockutils [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.108s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:08:10.796 6982 DEBUG neutron_lib.callbacks.manager [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks [] for security_group, before_response _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:10.800 6982 INFO neutron.wsgi [req-50799be7-d1ad-49ff-a3ed-d2e7e05b7803 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "POST /v2.0/security-groups HTTP/1.1" status: 201  len: 1617 time: 2.2605839
2018-09-13 01:08:12.322 6993 DEBUG neutron_lib.callbacks.manager [req-c31545e6-1eee-4aee-a6a7-2069af66a3c4 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:12.368 6989 DEBUG neutron_lib.callbacks.manager [req-f3538dd4-87e7-4bd8-a54f-097a3fc03243 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:12.421 6997 DEBUG neutron_lib.callbacks.manager [req-e191c9fc-b06e-439b-990d-cf0d43e03378 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:15.683 6988 DEBUG neutron_lib.callbacks.manager [req-008d69a7-905e-46dc-893e-1ebcd45e8487 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:18.543 6987 DEBUG neutron.wsgi [-] (6987) accepted ('10.0.20.20', 43060) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-09-13 01:08:18.559 6987 INFO neutron.wsgi [-] 10.0.20.20 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0091970
2018-09-13 01:08:18.573 6987 WARNING keystonemiddleware.auth_token [-] Using the in-process token cache is deprecated as of the 4.2.0 release and may be removed in the 5.0.0 release or the 'O' development cycle. The in-process cache causes inconsistent results and high memory usage. When the feature is removed the auth_token middleware will not cache tokens by default which may result in performance issues. It is recommended to use  memcache for the auth_token token cache by setting the memcached_servers option.
2018-09-13 01:08:20.474 6987 DEBUG oslo_policy._cache_handler [req-1e5b7961-98e0-45f5-968e-58f1adbbab5a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-09-13 01:08:20.526 6987 DEBUG oslo_policy.policy [req-1e5b7961-98e0-45f5-968e-58f1adbbab5a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:685
2018-09-13 01:08:21.054 6987 DEBUG oslo_policy._cache_handler [req-1e5b7961-98e0-45f5-968e-58f1adbbab5a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-09-13 01:08:21.087 6987 DEBUG oslo_policy.policy [req-1e5b7961-98e0-45f5-968e-58f1adbbab5a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:685
2018-09-13 01:08:21.221 6987 INFO neutron.api.v2.resource [req-1e5b7961-98e0-45f5-968e-58f1adbbab5a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] show failed (client error): The resource could not be found.
2018-09-13 01:08:21.224 6987 INFO neutron.wsgi [req-1e5b7961-98e0-45f5-968e-58f1adbbab5a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/security-groups/tempest-SECURITY_GROUP_SAMPLE-1536815180 HTTP/1.1" status: 404  len: 356 time: 2.6570401
2018-09-13 01:08:21.576 6987 INFO neutron.wsgi [req-70fb9e28-5e96-4e73-a316-a36d5e894570 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/security-groups HTTP/1.1" status: 200  len: 39904 time: 0.3451381
2018-09-13 01:08:21.719 6987 DEBUG neutron.api.v2.base [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Request body: {u'security_group_rule': {u'direction': u'ingress', u'protocol': u'tcp', u'ethertype': u'IPv4', u'port_range_max': 22, u'security_group_id': u'ae8c57de-d729-4ade-83ea-376f8a234116', u'port_range_min': 22, u'remote_ip_prefix': u'0.0.0.0/0'}} prepare_request_body /usr/lib/python2.7/site-packages/neutron/api/v2/base.py:695
2018-09-13 01:08:21.722 6987 INFO neutron.quota [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Loaded quota_driver: <neutron.db.quota.driver.DbQuotaDriver object at 0x7ff7ec876c50>.
2018-09-13 01:08:21.735 6987 DEBUG neutron.db.quota.driver [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Resources subnetpool have unlimited quota limit. It is not required to calculate headroom  make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:223
2018-09-13 01:08:21.747 6987 DEBUG neutron.quota.resource [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Usage tracker for resource:security_group_rule and tenant:357e75d6aa164dcc935b6f8538becf91 is out of sync, need to count used quota count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:274
2018-09-13 01:08:21.761 6987 DEBUG neutron.quota.resource [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Quota usage for security_group_rule was recalculated. Used quota:6. count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:293
2018-09-13 01:08:21.775 6987 DEBUG neutron.db.quota.driver [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attempting to reserve 1 items for resource security_group_rule. Total usage: 6; quota limit: 100; headroom:94 make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:255
2018-09-13 01:08:21.891 6987 DEBUG neutron_lib.callbacks.manager [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks [] for security_group_rule, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:22.312 6987 DEBUG neutron_lib.callbacks.manager [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks [] for security_group_rule, precommit_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:22.322 6987 DEBUG neutron_lib.callbacks.manager [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-1632977'] for security_group_rule, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:22.345 6987 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:08:22.370 6987 DEBUG neutron.api.rpc.handlers.resources_rpc [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7ff7ec718910>, [SecurityGroupRule(created_at=2018-09-13T05:08:22Z,description='',direction='ingress',ethertype='IPv4',id=3eba5a6a-5fb3-4d63-8e7f-99aece35c8e4,port_range_max=22,port_range_min=22,project_id='357e75d6aa164dcc935b6f8538becf91',protocol='tcp',remote_group_id=<?>,remote_ip_prefix=0.0.0.0/0,revision_number=0,security_group_id=ae8c57de-d729-4ade-83ea-376f8a234116,updated_at=2018-09-13T05:08:22Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-09-13 01:08:22.392 6987 DEBUG neutron.api.rpc.callbacks.version_manager [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Subnet changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:22.392 6987 DEBUG neutron.api.rpc.callbacks.version_manager [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Network changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:22.393 6987 DEBUG neutron.api.rpc.callbacks.version_manager [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type SubPort changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:22.394 6987 DEBUG neutron.api.rpc.callbacks.version_manager [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type SecurityGroup changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:22.395 6987 DEBUG neutron.api.rpc.callbacks.version_manager [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type SecurityGroupRule changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:22.396 6987 DEBUG neutron.api.rpc.callbacks.version_manager [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Trunk changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:22.397 6987 DEBUG neutron.api.rpc.callbacks.version_manager [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type QosPolicy changed None to 1.6 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:22.398 6987 DEBUG neutron.api.rpc.callbacks.version_manager [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Port changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:22.399 6987 DEBUG neutron.api.rpc.callbacks.version_manager [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Log changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:08:22.402 6987 DEBUG neutron.api.rpc.callbacks.version_manager [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Tracked resource versions report:
pushed versions:
{   'Log': set(['1.0']),
    'Network': set(['1.0']),
    'Port': set(['1.1']),
    'QosPolicy': set(['1.6']),
    'SecurityGroup': set(['1.0']),
    'SecurityGroupRule': set(['1.0']),
    'SubPort': set(['1.0']),
    'Subnet': set(['1.0']),
    'Trunk': set(['1.1'])}

consumer versions:
{   DHCP agent@localhost.localdomain: {   },
    L3 agent@localhost.localdomain: {   },
    Metadata agent@localhost.localdomain: {   },
    Metering agent@localhost.localdomain: {   },
    Open vSwitch agent@localhost.localdomain: {   u'Log': u'1.0',
                                                  u'Network': u'1.0',
                                                  u'Port': u'1.1',
                                                  u'QosPolicy': u'1.6',
                                                  u'SecurityGroup': u'1.0',
                                                  u'SecurityGroupRule': u'1.0',
                                                  u'SubPort': u'1.0',
                                                  u'Subnet': u'1.0',
                                                  u'Trunk': u'1.1'}}
 report /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:178
2018-09-13 01:08:22.468 6987 DEBUG oslo_concurrency.lockutils [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.123s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:08:22.470 6987 DEBUG neutron.quota.resource [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Persisted dirty status for tenant:357e75d6aa164dcc935b6f8538becf91 on resource:security_group_rule mark_dirty /usr/lib/python2.7/site-packages/neutron/quota/resource.py:207
2018-09-13 01:08:22.481 6987 DEBUG neutron_lib.callbacks.manager [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks [] for security_group_rule, before_response _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:22.484 6987 INFO neutron.wsgi [req-83d283f2-1d29-45e2-95f0-bc11d6b4ca9c d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "POST /v2.0/security-group-rules HTTP/1.1" status: 201  len: 718 time: 0.8380251
2018-09-13 01:08:23.142 6998 DEBUG neutron.db.agents_db [req-e7d632cc-c71a-4e5f-b431-dc86ed3c6a24 - - - - -] Agent healthcheck: found 5 active agents agent_health_check /usr/lib/python2.7/site-packages/neutron/db/agents_db.py:281
2018-09-13 01:08:30.571 6987 DEBUG neutron.wsgi [-] (6987) accepted ('10.0.20.20', 43078) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-09-13 01:08:30.584 6987 INFO neutron.wsgi [-] 10.0.20.20 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0027940
2018-09-13 01:08:31.470 6987 INFO neutron.wsgi [req-69666763-7d42-4076-b046-1387a4bf8c63 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/security-groups HTTP/1.1" status: 200  len: 40407 time: 0.8787820
2018-09-13 01:08:35.072 6992 DEBUG neutron_lib.callbacks.manager [req-17a070f7-62a9-4e81-a6ee-9905f47f6978 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:42.258 6986 DEBUG neutron.wsgi [-] (6986) accepted ('10.0.20.20', 43346) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-09-13 01:08:42.265 6986 INFO neutron.wsgi [-] 10.0.20.20 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0033979
2018-09-13 01:08:42.310 6991 DEBUG neutron_lib.callbacks.manager [req-c31545e6-1eee-4aee-a6a7-2069af66a3c4 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:42.370 6994 DEBUG neutron_lib.callbacks.manager [req-f3538dd4-87e7-4bd8-a54f-097a3fc03243 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:42.415 6996 DEBUG neutron_lib.callbacks.manager [req-94e4edf2-80f0-4464-81b8-35c270228c19 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:43.124 6986 INFO neutron.pecan_wsgi.hooks.translation [req-a9c1094d-e7b5-4ec3-b15e-e8fa167de42c 6bce0e5766c84e1a98c3cb5ccb2e3772 4cff21d35d8b43b9a2a1ce042bb4f9f9 - default default] GET failed (client error): The resource could not be found.
2018-09-13 01:08:43.128 6986 INFO neutron.wsgi [req-a9c1094d-e7b5-4ec3-b15e-e8fa167de42c 6bce0e5766c84e1a98c3cb5ccb2e3772 4cff21d35d8b43b9a2a1ce042bb4f9f9 - default default] 10.0.20.20 "GET /v2.0/networks/public HTTP/1.1" status: 404  len: 314 time: 0.8554070
2018-09-13 01:08:44.053 6986 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-9180ef1d-65f2-435c-a4de-fbf38f5b9dcd 6bce0e5766c84e1a98c3cb5ccb2e3772 4cff21d35d8b43b9a2a1ce042bb4f9f9 - default default] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:08:44.055 6986 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-9180ef1d-65f2-435c-a4de-fbf38f5b9dcd 6bce0e5766c84e1a98c3cb5ccb2e3772 4cff21d35d8b43b9a2a1ce042bb4f9f9 - default default] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:08:44.061 6986 INFO neutron.wsgi [req-9180ef1d-65f2-435c-a4de-fbf38f5b9dcd 6bce0e5766c84e1a98c3cb5ccb2e3772 4cff21d35d8b43b9a2a1ce042bb4f9f9 - default default] 10.0.20.20 "GET /v2.0/networks HTTP/1.1" status: 200  len: 1542 time: 0.9219460
2018-09-13 01:08:45.708 6990 DEBUG neutron_lib.callbacks.manager [req-008d69a7-905e-46dc-893e-1ebcd45e8487 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:53.039 6985 DEBUG neutron.wsgi [-] (6985) accepted ('10.0.20.20', 44124) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-09-13 01:08:53.072 6985 INFO neutron.wsgi [-] 10.0.20.20 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0215828
2018-09-13 01:08:53.088 6985 WARNING keystonemiddleware.auth_token [-] Using the in-process token cache is deprecated as of the 4.2.0 release and may be removed in the 5.0.0 release or the 'O' development cycle. The in-process cache causes inconsistent results and high memory usage. When the feature is removed the auth_token middleware will not cache tokens by default which may result in performance issues. It is recommended to use  memcache for the auth_token token cache by setting the memcached_servers option.
2018-09-13 01:08:55.269 6985 DEBUG oslo_policy._cache_handler [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-09-13 01:08:55.319 6985 DEBUG oslo_policy.policy [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:685
2018-09-13 01:08:55.826 6985 DEBUG neutron.api.v2.base [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Request body: {u'network': {u'name': u'tempest-private-1536815180', u'admin_state_up': True}} prepare_request_body /usr/lib/python2.7/site-packages/neutron/api/v2/base.py:695
2018-09-13 01:08:55.830 6985 INFO neutron.quota [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Loaded quota_driver: <neutron.db.quota.driver.DbQuotaDriver object at 0x7ff7ec8cc510>.
2018-09-13 01:08:55.937 6985 DEBUG neutron.db.quota.driver [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Resources subnetpool have unlimited quota limit. It is not required to calculate headroom  make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:223
2018-09-13 01:08:55.952 6985 DEBUG neutron.quota.resource [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Usage tracker for resource:network and tenant:357e75d6aa164dcc935b6f8538becf91 is out of sync, need to count used quota count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:274
2018-09-13 01:08:55.970 6985 DEBUG neutron.quota.resource [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Quota usage for network was recalculated. Used quota:0. count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:293
2018-09-13 01:08:55.987 6985 DEBUG neutron.db.quota.driver [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attempting to reserve 1 items for resource network. Total usage: 0; quota limit: 100; headroom:100 make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:255
2018-09-13 01:08:56.063 6985 DEBUG neutron.pecan_wsgi.hooks.quota_enforcement [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Made reservation on behalf of 357e75d6aa164dcc935b6f8538becf91 for: {'network': 1} before /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/quota_enforcement.py:55
2018-09-13 01:08:56.161 6985 DEBUG oslo_policy._cache_handler [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-09-13 01:08:56.196 6985 DEBUG oslo_policy.policy [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:685
2018-09-13 01:08:56.205 6985 DEBUG neutron_lib.callbacks.manager [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler-3840738'] for network, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:56.321 6985 DEBUG neutron.plugins.ml2.drivers.helpers [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] vxlan segment allocate from pool started with {'vxlan_vni': 73}  allocate_partially_specified_segment /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/helpers.py:157
2018-09-13 01:08:56.328 6985 DEBUG neutron.plugins.ml2.drivers.helpers [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] vxlan segment allocate from pool success with {'vxlan_vni': 73}  allocate_partially_specified_segment /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/helpers.py:165
2018-09-13 01:08:56.377 6985 DEBUG neutron_lib.callbacks.manager [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._handle_segment_change-3478861', 'neutron.services.segments.db._add_segment_host_mapping_for_segment-8793926061332'] for segment, precommit_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:56.379 6985 INFO neutron.db.segments_db [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Added segment 2435ad6f-8874-4f7f-9014-772bdb4da3e7 of type vxlan for network b79c584b-ba75-4632-8c03-295dba0c7e68
2018-09-13 01:08:56.565 6985 DEBUG neutron_lib.callbacks.manager [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.services.auto_allocate.db._ensure_external_network_default_value_callback--9223363242929302516'] for network, precommit_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:56.687 6985 DEBUG neutron_lib.callbacks.manager [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-1319628', 'neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-1632769'] for network, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:56.691 6985 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:08:56.693 6985 DEBUG neutron_lib.callbacks.manager [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._send_dhcp_notification-1319485'] for network, before_response _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:08:56.697 6985 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:08:56.702 6985 DEBUG oslo_concurrency.lockutils [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.005s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:08:57.135 6985 DEBUG neutron.quota.resource [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Persisted dirty status for tenant:357e75d6aa164dcc935b6f8538becf91 on resource:network mark_dirty /usr/lib/python2.7/site-packages/neutron/quota/resource.py:207
2018-09-13 01:08:57.146 6985 INFO neutron.wsgi [req-14abda77-50f8-4769-af75-41a0abde8d3a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "POST /v2.0/networks HTTP/1.1" status: 201  len: 862 time: 4.0661819
2018-09-13 01:09:00.148 6998 DEBUG neutron.db.agents_db [req-e7d632cc-c71a-4e5f-b431-dc86ed3c6a24 - - - - -] Agent healthcheck: found 5 active agents agent_health_check /usr/lib/python2.7/site-packages/neutron/db/agents_db.py:281
2018-09-13 01:09:05.082 6993 DEBUG neutron_lib.callbacks.manager [req-7c1af3bf-ff53-49a3-9e19-b68e325eeffe - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:06.209 6981 DEBUG neutron.wsgi [-] (6981) accepted ('10.0.20.20', 44140) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-09-13 01:09:06.218 6981 INFO neutron.wsgi [-] 10.0.20.20 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0055430
2018-09-13 01:09:06.996 6981 INFO neutron.pecan_wsgi.hooks.translation [req-4e31ee7f-8b1d-4797-afec-0cfe969588a6 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] GET failed (client error): The resource could not be found.
2018-09-13 01:09:07.000 6981 INFO neutron.wsgi [req-4e31ee7f-8b1d-4797-afec-0cfe969588a6 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/networks/tempest-private-1536815180 HTTP/1.1" status: 404  len: 334 time: 0.7730260
2018-09-13 01:09:07.737 6981 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-742d081a-a70d-498b-a191-761480ed4604 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:09:07.739 6981 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-742d081a-a70d-498b-a191-761480ed4604 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:09:07.740 6981 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-742d081a-a70d-498b-a191-761480ed4604 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:09:07.744 6981 INFO neutron.wsgi [req-742d081a-a70d-498b-a191-761480ed4604 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/networks HTTP/1.1" status: 200  len: 2170 time: 0.7329640
2018-09-13 01:09:12.315 6989 DEBUG neutron_lib.callbacks.manager [req-c31545e6-1eee-4aee-a6a7-2069af66a3c4 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:12.368 6997 DEBUG neutron_lib.callbacks.manager [req-f3538dd4-87e7-4bd8-a54f-097a3fc03243 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:12.413 6988 DEBUG neutron_lib.callbacks.manager [req-9095259c-b740-48b5-9381-de9dafccb211 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:15.703 6992 DEBUG neutron_lib.callbacks.manager [req-008d69a7-905e-46dc-893e-1ebcd45e8487 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:18.169 6981 DEBUG neutron.wsgi [-] (6981) accepted ('10.0.20.20', 44150) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-09-13 01:09:18.177 6981 INFO neutron.wsgi [-] 10.0.20.20 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0032020
2018-09-13 01:09:18.921 6981 INFO neutron.pecan_wsgi.hooks.translation [req-7ce420df-e25d-434e-8df2-45b9d580e682 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] GET failed (client error): The resource could not be found.
2018-09-13 01:09:18.924 6981 INFO neutron.wsgi [req-7ce420df-e25d-434e-8df2-45b9d580e682 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/networks/tempest-private-1536815180 HTTP/1.1" status: 404  len: 334 time: 0.7403750
2018-09-13 01:09:19.218 6981 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-7b5c24ce-4d16-4f12-ba4e-ff9157882063 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:09:19.220 6981 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-7b5c24ce-4d16-4f12-ba4e-ff9157882063 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:09:19.221 6981 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-7b5c24ce-4d16-4f12-ba4e-ff9157882063 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:09:19.225 6981 INFO neutron.wsgi [req-7b5c24ce-4d16-4f12-ba4e-ff9157882063 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/networks HTTP/1.1" status: 200  len: 2170 time: 0.2915921
2018-09-13 01:09:19.245 6981 DEBUG neutron.api.v2.base [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Request body: {u'subnet': {u'network_id': u'b79c584b-ba75-4632-8c03-295dba0c7e68', u'ip_version': 4, u'cidr': u'11.39.1.0/24', u'dns_nameservers': [u'8.8.4.4'], u'name': u'tempest-private-subnet-1536815180'}} prepare_request_body /usr/lib/python2.7/site-packages/neutron/api/v2/base.py:695
2018-09-13 01:09:19.249 6981 INFO neutron.quota [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Loaded quota_driver: <neutron.db.quota.driver.DbQuotaDriver object at 0x7ff7ec4f4d10>.
2018-09-13 01:09:19.259 6981 DEBUG neutron.db.quota.driver [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Resources subnetpool have unlimited quota limit. It is not required to calculate headroom  make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:223
2018-09-13 01:09:19.274 6981 DEBUG neutron.quota.resource [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Usage tracker for resource:subnet and tenant:357e75d6aa164dcc935b6f8538becf91 is out of sync, need to count used quota count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:274
2018-09-13 01:09:19.289 6981 DEBUG neutron.quota.resource [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Quota usage for subnet was recalculated. Used quota:0. count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:293
2018-09-13 01:09:19.301 6981 DEBUG neutron.db.quota.driver [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attempting to reserve 1 items for resource subnet. Total usage: 0; quota limit: 100; headroom:100 make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:255
2018-09-13 01:09:19.352 6981 DEBUG neutron.pecan_wsgi.hooks.quota_enforcement [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Made reservation on behalf of 357e75d6aa164dcc935b6f8538becf91 for: {'subnet': 1} before /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/quota_enforcement.py:55
2018-09-13 01:09:19.813 6981 DEBUG neutron_lib.callbacks.manager [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-1632969', 'neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-1319628'] for subnet, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:19.844 6981 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:09:20.190 6981 DEBUG neutron.api.rpc.handlers.resources_rpc [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7ff7ec3e4410>, [Subnet(allocation_pools=[IPAllocationPool(c95a842a-3abc-4124-b499-6dffb6b01349)],cidr=11.39.1.0/24,created_at=2018-09-13T05:09:19Z,description='',dns_nameservers=[DNSNameServer],enable_dhcp=True,gateway_ip=11.39.1.1,host_routes=[],id=ce9120e9-ae8a-4c3b-bf21-c0905c75aace,ip_version=4,ipv6_address_mode=<?>,ipv6_ra_mode=<?>,name='tempest-private-subnet-1536815180',network_id=b79c584b-ba75-4632-8c03-295dba0c7e68,project_id='357e75d6aa164dcc935b6f8538becf91',revision_number=0,segment_id=<?>,service_types=[],shared=False,subnetpool_id=<?>,updated_at=2018-09-13T05:09:19Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-09-13 01:09:20.217 6981 DEBUG neutron.api.rpc.callbacks.version_manager [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Subnet changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:20.219 6981 DEBUG neutron.api.rpc.callbacks.version_manager [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Network changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:20.220 6981 DEBUG neutron.api.rpc.callbacks.version_manager [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type SubPort changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:20.221 6981 DEBUG neutron.api.rpc.callbacks.version_manager [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type SecurityGroup changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:20.222 6981 DEBUG neutron.api.rpc.callbacks.version_manager [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type SecurityGroupRule changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:20.223 6981 DEBUG neutron.api.rpc.callbacks.version_manager [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Trunk changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:20.224 6981 DEBUG neutron.api.rpc.callbacks.version_manager [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type QosPolicy changed None to 1.6 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:20.225 6981 DEBUG neutron.api.rpc.callbacks.version_manager [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Port changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:20.226 6981 DEBUG neutron.api.rpc.callbacks.version_manager [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Log changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:20.230 6981 DEBUG neutron.api.rpc.callbacks.version_manager [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Tracked resource versions report:
pushed versions:
{   'Log': set(['1.0']),
    'Network': set(['1.0']),
    'Port': set(['1.1']),
    'QosPolicy': set(['1.6']),
    'SecurityGroup': set(['1.0']),
    'SecurityGroupRule': set(['1.0']),
    'SubPort': set(['1.0']),
    'Subnet': set(['1.0']),
    'Trunk': set(['1.1'])}

consumer versions:
{   DHCP agent@localhost.localdomain: {   },
    L3 agent@localhost.localdomain: {   },
    Metadata agent@localhost.localdomain: {   },
    Metering agent@localhost.localdomain: {   },
    Open vSwitch agent@localhost.localdomain: {   u'Log': u'1.0',
                                                  u'Network': u'1.0',
                                                  u'Port': u'1.1',
                                                  u'QosPolicy': u'1.6',
                                                  u'SecurityGroup': u'1.0',
                                                  u'SecurityGroupRule': u'1.0',
                                                  u'SubPort': u'1.0',
                                                  u'Subnet': u'1.0',
                                                  u'Trunk': u'1.1'}}
 report /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:178
2018-09-13 01:09:20.327 6981 DEBUG oslo_concurrency.lockutils [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.483s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:09:20.397 6981 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Checking segment: {'network_id': 'b79c584b-ba75-4632-8c03-295dba0c7e68', 'segmentation_id': 73, 'physical_network': None, 'id': '2435ad6f-8874-4f7f-9014-772bdb4da3e7', 'network_type': u'vxlan'} for mappings: {u'extnet': u'br-ex'} with network types: [u'vxlan', 'local', 'flat', 'vlan'] check_segment_for_agent /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:237
2018-09-13 01:09:20.414 6981 DEBUG neutron.scheduler.dhcp_agent_scheduler [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Network b79c584b-ba75-4632-8c03-295dba0c7e68 is scheduled to be hosted by DHCP agent 55717c20-783d-4fde-a311-0092cf28ff6e bind /usr/lib/python2.7/site-packages/neutron/scheduler/dhcp_agent_scheduler.py:199
2018-09-13 01:09:20.454 6981 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:09:20.455 6981 DEBUG neutron_lib.callbacks.manager [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._send_dhcp_notification-1319485'] for subnet, before_response _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:20.472 6991 DEBUG neutron.api.rpc.handlers.dhcp_rpc [req-3bde9610-8ad3-453e-948f-8b256a8cb15c - - - - -] Network b79c584b-ba75-4632-8c03-295dba0c7e68 requested from localhost.localdomain get_network_info /usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/dhcp_rpc.py:199
2018-09-13 01:09:20.568 6981 DEBUG neutron.quota.resource [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Persisted dirty status for tenant:357e75d6aa164dcc935b6f8538becf91 on resource:subnet mark_dirty /usr/lib/python2.7/site-packages/neutron/quota/resource.py:207
2018-09-13 01:09:20.598 6981 INFO neutron.wsgi [req-a7ad1ddf-9198-48ae-9b51-b7050be0f2ab d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "POST /v2.0/subnets HTTP/1.1" status: 201  len: 845 time: 1.3620670
2018-09-13 01:09:21.479 6996 DEBUG neutron.api.rpc.handlers.dhcp_rpc [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Create dhcp port {u'port': {u'name': u'', u'admin_state_up': True, u'network_id': u'b79c584b-ba75-4632-8c03-295dba0c7e68', u'tenant_id': u'357e75d6aa164dcc935b6f8538becf91', u'fixed_ips': [{u'subnet_id': u'ce9120e9-ae8a-4c3b-bf21-c0905c75aace'}], u'device_id': u'dhcpcd8f5f9f-e3e8-569f-87ef-f03c6cfc29bc-b79c584b-ba75-4632-8c03-295dba0c7e68'}} from localhost.localdomain. create_dhcp_port /usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/dhcp_rpc.py:266
2018-09-13 01:09:21.483 6996 DEBUG neutron_lib.callbacks.manager [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler-3840738'] for port, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:22.640 6996 DEBUG neutron.db.db_base_plugin_common [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Allocated IP 11.39.1.2 (b79c584b-ba75-4632-8c03-295dba0c7e68/ce9120e9-ae8a-4c3b-bf21-c0905c75aace/8ff3e230-be05-4691-9768-a085ebd465a5) _store_ip_allocation /usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_common.py:122
2018-09-13 01:09:23.271 6996 DEBUG neutron_lib.callbacks.manager [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Notify callbacks [] for port, precommit_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:23.310 6996 DEBUG neutron.db.provisioning_blocks [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Transition to ACTIVE for port object 8ff3e230-be05-4691-9768-a085ebd465a5 will not be triggered until provisioned by entity L2. add_provisioning_component /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:73
2018-09-13 01:09:23.363 6996 DEBUG neutron.db.provisioning_blocks [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Transition to ACTIVE for port object 8ff3e230-be05-4691-9768-a085ebd465a5 will not be triggered until provisioned by entity DHCP. add_provisioning_component /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:73
2018-09-13 01:09:23.377 6996 DEBUG neutron_lib.callbacks.manager [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Notify callbacks ['neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-1633017', 'neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-1319628', 'neutron.plugins.ml2.plugin.Ml2Plugin.notify_sg_on_port_change-3840670', 'neutron.db.l3_dvrscheduler_db._notify_l3_agent_new_port--9223363242929256075'] for port, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:23.411 6996 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:09:23.798 6996 DEBUG neutron.api.rpc.handlers.resources_rpc [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7ff7ec531850>, [Port(admin_state_up=True,allowed_address_pairs=[],binding=PortBinding,binding_levels=[],created_at=2018-09-13T05:09:22Z,data_plane_status=<?>,description='',device_id='dhcpcd8f5f9f-e3e8-569f-87ef-f03c6cfc29bc-b79c584b-ba75-4632-8c03-295dba0c7e68',device_owner='network:dhcp',dhcp_options=[],distributed_binding=None,dns=None,fixed_ips=[IPAllocation],id=8ff3e230-be05-4691-9768-a085ebd465a5,mac_address=fa:16:3e:32:f8:c6,name='',network_id=b79c584b-ba75-4632-8c03-295dba0c7e68,project_id='357e75d6aa164dcc935b6f8538becf91',qos_policy_id=None,revision_number=3,security=PortSecurity(8ff3e230-be05-4691-9768-a085ebd465a5),security_group_ids=set([]),status='DOWN',updated_at=2018-09-13T05:09:23Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-09-13 01:09:23.816 6996 DEBUG neutron.api.rpc.callbacks.version_manager [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Version for resource type Subnet changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:23.817 6996 DEBUG neutron.api.rpc.callbacks.version_manager [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Version for resource type Network changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:23.818 6996 DEBUG neutron.api.rpc.callbacks.version_manager [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Version for resource type SubPort changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:23.819 6996 DEBUG neutron.api.rpc.callbacks.version_manager [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Version for resource type SecurityGroup changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:23.819 6996 DEBUG neutron.api.rpc.callbacks.version_manager [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Version for resource type SecurityGroupRule changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:23.820 6996 DEBUG neutron.api.rpc.callbacks.version_manager [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Version for resource type Trunk changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:23.821 6996 DEBUG neutron.api.rpc.callbacks.version_manager [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Version for resource type QosPolicy changed None to 1.6 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:23.821 6996 DEBUG neutron.api.rpc.callbacks.version_manager [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Version for resource type Port changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:23.821 6996 DEBUG neutron.api.rpc.callbacks.version_manager [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Version for resource type Log changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:09:23.823 6996 DEBUG neutron.api.rpc.callbacks.version_manager [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Tracked resource versions report:
pushed versions:
{   'Log': set(['1.0']),
    'Network': set(['1.0']),
    'Port': set(['1.1']),
    'QosPolicy': set(['1.6']),
    'SecurityGroup': set(['1.0']),
    'SecurityGroupRule': set(['1.0']),
    'SubPort': set(['1.0']),
    'Subnet': set(['1.0']),
    'Trunk': set(['1.1'])}

consumer versions:
{   DHCP agent@localhost.localdomain: {   },
    L3 agent@localhost.localdomain: {   },
    Metadata agent@localhost.localdomain: {   },
    Metering agent@localhost.localdomain: {   },
    Open vSwitch agent@localhost.localdomain: {   u'Log': u'1.0',
                                                  u'Network': u'1.0',
                                                  u'Port': u'1.1',
                                                  u'QosPolicy': u'1.6',
                                                  u'SecurityGroup': u'1.0',
                                                  u'SecurityGroupRule': u'1.0',
                                                  u'SubPort': u'1.0',
                                                  u'Subnet': u'1.0',
                                                  u'Trunk': u'1.1'}}
 report /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:178
2018-09-13 01:09:23.835 6996 DEBUG oslo_concurrency.lockutils [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.423s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:09:23.845 6996 DEBUG neutron.scheduler.dhcp_agent_scheduler [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Network b79c584b-ba75-4632-8c03-295dba0c7e68 is already hosted by enough agents. _get_dhcp_agents_hosting_network /usr/lib/python2.7/site-packages/neutron/scheduler/dhcp_agent_scheduler.py:243
2018-09-13 01:09:23.872 6996 DEBUG neutron.db.l3_dvrscheduler_db [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Received port after_create _notify_l3_agent_new_port /usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py:392
2018-09-13 01:09:24.128 6996 DEBUG neutron.plugins.ml2.managers [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Attempting to bind port 8ff3e230-be05-4691-9768-a085ebd465a5 on host localhost.localdomain for vnic_type normal with profile  bind_port /usr/lib/python2.7/site-packages/neutron/plugins/ml2/managers.py:744
2018-09-13 01:09:24.130 6996 DEBUG neutron.plugins.ml2.managers [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Attempting to bind port 8ff3e230-be05-4691-9768-a085ebd465a5 on host localhost.localdomain at level 0 using segments [{'network_id': 'b79c584b-ba75-4632-8c03-295dba0c7e68', 'segmentation_id': 73, 'physical_network': None, 'id': '2435ad6f-8874-4f7f-9014-772bdb4da3e7', 'network_type': u'vxlan'}] _bind_port_level /usr/lib/python2.7/site-packages/neutron/plugins/ml2/managers.py:765
2018-09-13 01:09:24.131 6996 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Attempting to bind port 8ff3e230-be05-4691-9768-a085ebd465a5 on network b79c584b-ba75-4632-8c03-295dba0c7e68 bind_port /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:88
2018-09-13 01:09:24.144 6996 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Checking agent: {'binary': u'neutron-openvswitch-agent', 'description': None, 'admin_state_up': True, 'heartbeat_timestamp': datetime.datetime(2018, 9, 13, 5, 9, 15), 'availability_zone': None, 'alive': True, 'topic': u'N/A', 'host': u'localhost.localdomain', 'agent_type': u'Open vSwitch agent', 'resource_versions': {u'Subnet': u'1.0', u'Network': u'1.0', u'SubPort': u'1.0', u'SecurityGroup': u'1.0', u'SecurityGroupRule': u'1.0', u'Trunk': u'1.1', u'QosPolicy': u'1.6', u'Port': u'1.1', u'Log': u'1.0'}, 'created_at': datetime.datetime(2018, 8, 30, 12, 16, 32), 'started_at': datetime.datetime(2018, 9, 13, 4, 56, 32), 'id': u'dfab843a-4b42-4d9d-8912-9976c6319977', 'configurations': {u'ovs_hybrid_plug': True, u'in_distributed_mode': False, u'datapath_type': u'system', u'vhostuser_socket_dir': u'/var/run/openvswitch', u'tunneling_ip': u'10.0.20.20', u'arp_responder_enabled': False, u'devices': 3, u'ovs_capabilities': {u'datapath_types': [u'netdev', u'system'], u'iface_types': [u'geneve', u'gre', u'internal', u'lisp', u'patch', u'stt', u'system', u'tap', u'vxlan']}, u'log_agent_heartbeats': False, u'l2_population': False, u'tunnel_types': [u'vxlan'], u'extensions': [], u'enable_distributed_routing': False, u'bridge_mappings': {u'extnet': u'br-ex'}}} bind_port /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:104
2018-09-13 01:09:24.146 6996 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Checking segment: {'network_id': 'b79c584b-ba75-4632-8c03-295dba0c7e68', 'segmentation_id': 73, 'physical_network': None, 'id': '2435ad6f-8874-4f7f-9014-772bdb4da3e7', 'network_type': u'vxlan'} for mappings: {u'extnet': u'br-ex'} with network types: [u'vxlan', 'local', 'flat', 'vlan'] check_segment_for_agent /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:237
2018-09-13 01:09:24.148 6996 DEBUG neutron_lib.callbacks.manager [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Notify callbacks [] for ovs_bridge_name, before_read _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:24.149 6996 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Bound using segment: {'network_id': 'b79c584b-ba75-4632-8c03-295dba0c7e68', 'segmentation_id': 73, 'physical_network': None, 'id': '2435ad6f-8874-4f7f-9014-772bdb4da3e7', 'network_type': u'vxlan'} bind_port /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:109
2018-09-13 01:09:24.150 6996 DEBUG neutron.plugins.ml2.managers [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Bound port: 8ff3e230-be05-4691-9768-a085ebd465a5, host: localhost.localdomain, vif_type: ovs, vif_details: {"port_filter": true, "datapath_type": "system", "ovs_hybrid_plug": true}, binding_levels: [{'bound_driver': 'openvswitch', 'bound_segment': {'network_id': 'b79c584b-ba75-4632-8c03-295dba0c7e68', 'segmentation_id': 73, 'physical_network': None, 'id': '2435ad6f-8874-4f7f-9014-772bdb4da3e7', 'network_type': u'vxlan'}}] _bind_port_level /usr/lib/python2.7/site-packages/neutron/plugins/ml2/managers.py:813
2018-09-13 01:09:24.151 6996 DEBUG neutron_lib.callbacks.manager [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler-3840738'] for port, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:24.391 6996 DEBUG neutron.plugins.ml2.db [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] For port 8ff3e230-be05-4691-9768-a085ebd465a5, host localhost.localdomain, cleared binding levels clear_binding_levels /usr/lib/python2.7/site-packages/neutron/plugins/ml2/db.py:119
2018-09-13 01:09:24.399 6996 DEBUG neutron.plugins.ml2.db [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] For port 8ff3e230-be05-4691-9768-a085ebd465a5, host localhost.localdomain, set binding levels [<neutron.plugins.ml2.driver_context.InstanceSnapshot object at 0x7ff7ec1b4e50>] set_binding_levels /usr/lib/python2.7/site-packages/neutron/plugins/ml2/db.py:90
2018-09-13 01:09:24.417 6996 DEBUG neutron_lib.callbacks.manager [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Notify callbacks ['neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-1633017', 'neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-1319628', 'neutron.db.l3_dvrscheduler_db._notify_l3_agent_port_update--9223363242929256060', 'neutron.plugins.ml2.plugin.Ml2Plugin.notify_sg_on_port_change-3840670', 'neutron.db.l3_hascheduler_db._notify_l3_agent_ha_port_update--9223363242929255985'] for port, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:24.449 6996 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:09:24.773 6996 DEBUG neutron.api.rpc.handlers.resources_rpc [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7ff7ec1427d0>, [Port(admin_state_up=True,allowed_address_pairs=[],binding=PortBinding,binding_levels=[PortBindingLevel],created_at=2018-09-13T05:09:22Z,data_plane_status=<?>,description='',device_id='dhcpcd8f5f9f-e3e8-569f-87ef-f03c6cfc29bc-b79c584b-ba75-4632-8c03-295dba0c7e68',device_owner='network:dhcp',dhcp_options=[],distributed_binding=None,dns=None,fixed_ips=[IPAllocation],id=8ff3e230-be05-4691-9768-a085ebd465a5,mac_address=fa:16:3e:32:f8:c6,name='',network_id=b79c584b-ba75-4632-8c03-295dba0c7e68,project_id='357e75d6aa164dcc935b6f8538becf91',qos_policy_id=None,revision_number=4,security=PortSecurity(8ff3e230-be05-4691-9768-a085ebd465a5),security_group_ids=set([]),status='DOWN',updated_at=2018-09-13T05:09:24Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-09-13 01:09:24.791 6996 DEBUG oslo_concurrency.lockutils [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.342s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:09:24.844 6996 DEBUG neutron.quota.resource [req-df9df4a6-9438-42c7-9d73-c30603719423 - - - - -] Persisted dirty status for tenant:357e75d6aa164dcc935b6f8538becf91 on resource:port mark_dirty /usr/lib/python2.7/site-packages/neutron/quota/resource.py:207
2018-09-13 01:09:25.807 6992 DEBUG neutron.api.rpc.handlers.dhcp_rpc [req-84d9390b-6263-44c7-a56a-ba7940f2245b - - - - -] Network b79c584b-ba75-4632-8c03-295dba0c7e68 requested from localhost.localdomain get_network_info /usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/dhcp_rpc.py:199
2018-09-13 01:09:25.924 6990 DEBUG neutron.db.provisioning_blocks [req-449ce04c-f8de-4ce8-ab8a-6b157d32e3ce - - - - -] Provisioning for port 8ff3e230-be05-4691-9768-a085ebd465a5 completed by entity DHCP. provisioning_complete /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:132
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server [req-7a6cc9d0-5eae-4675-aaa9-167e668b39bd - - - - -] Exception during message handling: TypeError: 'NoneType' object is not iterable
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server Traceback (most recent call last):
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server     result = func(ctxt, **new_args)
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 232, in inner
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server     return func(*args, **kwargs)
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/resources_rpc.py", line 143, in bulk_pull
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server     **filter_kwargs)]
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/objects/base.py", line 466, in get_objects
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server     **cls.modify_fields_to_db(kwargs)
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/objects/db/api.py", line 53, in get_objects
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server     **(_pager.to_kwargs(context, model) if _pager else {}))
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server     for c in query
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server TypeError: 'NoneType' object is not iterable
2018-09-13 01:09:26.203 6994 ERROR oslo_messaging.rpc.server 
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server [req-388a578b-0327-4611-a497-073dce604c95 - - - - -] Exception during message handling: TypeError: 'NoneType' object is not iterable
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server Traceback (most recent call last):
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server     result = func(ctxt, **new_args)
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 232, in inner
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server     return func(*args, **kwargs)
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/resources_rpc.py", line 143, in bulk_pull
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server     **filter_kwargs)]
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/objects/base.py", line 466, in get_objects
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server     **cls.modify_fields_to_db(kwargs)
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/objects/db/api.py", line 53, in get_objects
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server     **(_pager.to_kwargs(context, model) if _pager else {}))
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server     for c in query
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server TypeError: 'NoneType' object is not iterable
2018-09-13 01:09:28.194 6988 ERROR oslo_messaging.rpc.server 
2018-09-13 01:09:29.170 6981 DEBUG neutron.wsgi [-] (6981) accepted ('10.0.20.20', 44168) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-09-13 01:09:29.177 6981 INFO neutron.wsgi [-] 10.0.20.20 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0033278
2018-09-13 01:09:30.133 6981 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-5d1cd0c8-c9ac-4c11-9a37-636c005c012a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:09:30.135 6981 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-5d1cd0c8-c9ac-4c11-9a37-636c005c012a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:09:30.137 6981 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-5d1cd0c8-c9ac-4c11-9a37-636c005c012a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:09:30.139 6981 DEBUG neutron.quota.resource [req-5d1cd0c8-c9ac-4c11-9a37-636c005c012a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Synchronizing usage tracker for tenant:357e75d6aa164dcc935b6f8538becf91 on resource:subnet resync /usr/lib/python2.7/site-packages/neutron/quota/resource.py:245
2018-09-13 01:09:30.202 6981 DEBUG neutron.quota.resource [req-5d1cd0c8-c9ac-4c11-9a37-636c005c012a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Unset dirty status for tenant:357e75d6aa164dcc935b6f8538becf91 on resource:subnet _resync /usr/lib/python2.7/site-packages/neutron/quota/resource.py:237
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server [req-d194ae50-0933-470c-a205-4edb3404924d - - - - -] Exception during message handling: TypeError: 'NoneType' object is not iterable
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server Traceback (most recent call last):
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server     result = func(ctxt, **new_args)
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 232, in inner
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server     return func(*args, **kwargs)
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/resources_rpc.py", line 143, in bulk_pull
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server     **filter_kwargs)]
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/objects/base.py", line 466, in get_objects
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server     **cls.modify_fields_to_db(kwargs)
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/objects/db/api.py", line 53, in get_objects
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server     **(_pager.to_kwargs(context, model) if _pager else {}))
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server     for c in query
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server TypeError: 'NoneType' object is not iterable
2018-09-13 01:09:30.200 6991 ERROR oslo_messaging.rpc.server 
2018-09-13 01:09:30.206 6981 INFO neutron.wsgi [req-5d1cd0c8-c9ac-4c11-9a37-636c005c012a d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/subnets HTTP/1.1" status: 200  len: 2050 time: 1.0217850
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server [req-fda91395-624a-46fa-a4f3-af6f71534cd8 - - - - -] Exception during message handling: TypeError: 'NoneType' object is not iterable
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server Traceback (most recent call last):
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server     result = func(ctxt, **new_args)
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 232, in inner
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server     return func(*args, **kwargs)
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/resources_rpc.py", line 143, in bulk_pull
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server     **filter_kwargs)]
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/objects/base.py", line 466, in get_objects
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server     **cls.modify_fields_to_db(kwargs)
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/objects/db/api.py", line 53, in get_objects
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server     **(_pager.to_kwargs(context, model) if _pager else {}))
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server     for c in query
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server TypeError: 'NoneType' object is not iterable
2018-09-13 01:09:32.196 6996 ERROR oslo_messaging.rpc.server 
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server [req-a87b56a4-0281-4fa9-a955-48a77c6949c1 - - - - -] Exception during message handling: TypeError: 'NoneType' object is not iterable
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server Traceback (most recent call last):
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server     result = func(ctxt, **new_args)
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 232, in inner
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server     return func(*args, **kwargs)
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/resources_rpc.py", line 143, in bulk_pull
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server     **filter_kwargs)]
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/objects/base.py", line 466, in get_objects
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server     **cls.modify_fields_to_db(kwargs)
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/objects/db/api.py", line 53, in get_objects
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server     **(_pager.to_kwargs(context, model) if _pager else {}))
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server     for c in query
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server TypeError: 'NoneType' object is not iterable
2018-09-13 01:09:34.197 6992 ERROR oslo_messaging.rpc.server 
2018-09-13 01:09:35.061 6991 DEBUG neutron_lib.callbacks.manager [req-e4990998-82bc-48a9-88c8-2e53d0d01da2 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server [req-4e617d83-5631-4f7f-bf08-ac25a3054c0e - - - - -] Exception during message handling: TypeError: 'NoneType' object is not iterable
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server Traceback (most recent call last):
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server     result = func(ctxt, **new_args)
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 232, in inner
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server     return func(*args, **kwargs)
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/resources_rpc.py", line 143, in bulk_pull
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server     **filter_kwargs)]
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/objects/base.py", line 466, in get_objects
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server     **cls.modify_fields_to_db(kwargs)
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/objects/db/api.py", line 53, in get_objects
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server     **(_pager.to_kwargs(context, model) if _pager else {}))
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server     for c in query
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server TypeError: 'NoneType' object is not iterable
2018-09-13 01:09:36.204 6990 ERROR oslo_messaging.rpc.server 
2018-09-13 01:09:37.147 6998 DEBUG neutron.db.agents_db [req-e7d632cc-c71a-4e5f-b431-dc86ed3c6a24 - - - - -] Agent healthcheck: found 5 active agents agent_health_check /usr/lib/python2.7/site-packages/neutron/db/agents_db.py:281
2018-09-13 01:09:41.688 6984 DEBUG neutron.wsgi [-] (6984) accepted ('10.0.20.20', 44358) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-09-13 01:09:41.715 6984 INFO neutron.wsgi [-] 10.0.20.20 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0155780
2018-09-13 01:09:41.734 6984 WARNING keystonemiddleware.auth_token [-] Using the in-process token cache is deprecated as of the 4.2.0 release and may be removed in the 5.0.0 release or the 'O' development cycle. The in-process cache causes inconsistent results and high memory usage. When the feature is removed the auth_token middleware will not cache tokens by default which may result in performance issues. It is recommended to use  memcache for the auth_token token cache by setting the memcached_servers option.
2018-09-13 01:09:42.310 6994 DEBUG neutron_lib.callbacks.manager [req-c31545e6-1eee-4aee-a6a7-2069af66a3c4 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:42.355 6996 DEBUG neutron_lib.callbacks.manager [req-f3538dd4-87e7-4bd8-a54f-097a3fc03243 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:42.403 6990 DEBUG neutron_lib.callbacks.manager [req-2564fe7f-93a0-46e1-a229-0c60cd8d0c2c - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:43.739 6984 DEBUG oslo_policy._cache_handler [req-8c70d569-c14c-42e2-8164-0d9acc4a6f2b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-09-13 01:09:43.809 6984 DEBUG oslo_policy.policy [req-8c70d569-c14c-42e2-8164-0d9acc4a6f2b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:685
2018-09-13 01:09:44.450 6984 DEBUG neutron.api.v2.base [req-8c70d569-c14c-42e2-8164-0d9acc4a6f2b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Request body: {u'router': {u'name': u'tempest-router-1536815180', u'admin_state_up': True}} prepare_request_body /usr/lib/python2.7/site-packages/neutron/api/v2/base.py:695
2018-09-13 01:09:44.453 6984 DEBUG oslo_policy._cache_handler [req-8c70d569-c14c-42e2-8164-0d9acc4a6f2b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-09-13 01:09:44.491 6984 DEBUG oslo_policy.policy [req-8c70d569-c14c-42e2-8164-0d9acc4a6f2b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:685
2018-09-13 01:09:44.501 6984 INFO neutron.quota [req-8c70d569-c14c-42e2-8164-0d9acc4a6f2b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Loaded quota_driver: <neutron.db.quota.driver.DbQuotaDriver object at 0x7ff7ec8a7e90>.
2018-09-13 01:09:44.600 6984 DEBUG neutron.db.quota.driver [req-8c70d569-c14c-42e2-8164-0d9acc4a6f2b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Resources subnetpool have unlimited quota limit. It is not required to calculate headroom  make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:223
2018-09-13 01:09:44.619 6984 DEBUG neutron.quota.resource [req-8c70d569-c14c-42e2-8164-0d9acc4a6f2b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Usage tracker for resource:router and tenant:357e75d6aa164dcc935b6f8538becf91 is out of sync, need to count used quota count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:274
2018-09-13 01:09:44.641 6984 DEBUG neutron.quota.resource [req-8c70d569-c14c-42e2-8164-0d9acc4a6f2b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Quota usage for router was recalculated. Used quota:0. count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:293
2018-09-13 01:09:44.663 6984 DEBUG neutron.db.quota.driver [req-8c70d569-c14c-42e2-8164-0d9acc4a6f2b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attempting to reserve 1 items for resource router. Total usage: 0; quota limit: 10; headroom:10 make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:255
2018-09-13 01:09:44.712 6984 DEBUG neutron_lib.callbacks.manager [req-8c70d569-c14c-42e2-8164-0d9acc4a6f2b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.services.l3_router.service_providers.driver_controller.DriverController._check_router_request--9223372036854749446', 'neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._before_router_create--9223372036853170670'] for router, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:44.716 6984 DEBUG neutron_lib.callbacks.manager [req-8c70d569-c14c-42e2-8164-0d9acc4a6f2b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.services.l3_router.service_providers.driver_controller.DriverController._set_router_provider-26338', 'neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._set_distributed_flag--9223372036853151154', 'neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._precommit_router_create--9223372036853170561', 'neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._process_az_request-1636787'] for router, precommit_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:44.828 6984 DEBUG neutron_lib.callbacks.manager [req-8c70d569-c14c-42e2-8164-0d9acc4a6f2b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._after_router_create--9223372036853170580', 'neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._create_snat_interfaces_after_change--9223372036853151124'] for router, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:44.880 6984 DEBUG neutron.quota.resource [req-8c70d569-c14c-42e2-8164-0d9acc4a6f2b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Persisted dirty status for tenant:357e75d6aa164dcc935b6f8538becf91 on resource:router mark_dirty /usr/lib/python2.7/site-packages/neutron/quota/resource.py:207
2018-09-13 01:09:44.893 6984 DEBUG neutron_lib.callbacks.manager [req-8c70d569-c14c-42e2-8164-0d9acc4a6f2b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks [] for router, before_response _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:44.897 6984 INFO neutron.wsgi [req-8c70d569-c14c-42e2-8164-0d9acc4a6f2b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "POST /v2.0/routers HTTP/1.1" status: 201  len: 727 time: 3.1737359
2018-09-13 01:09:45.723 6993 DEBUG neutron_lib.callbacks.manager [req-008d69a7-905e-46dc-893e-1ebcd45e8487 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:09:53.273 6984 DEBUG neutron.wsgi [-] (6984) accepted ('10.0.20.20', 45216) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-09-13 01:09:53.282 6984 INFO neutron.wsgi [-] 10.0.20.20 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0042660
2018-09-13 01:09:53.932 6984 INFO neutron.api.v2.resource [req-ee689a45-e41e-4372-8421-fc3469ff2f91 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] show failed (client error): The resource could not be found.
2018-09-13 01:09:53.935 6984 INFO neutron.wsgi [req-ee689a45-e41e-4372-8421-fc3469ff2f91 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/routers/tempest-router-1536815180 HTTP/1.1" status: 404  len: 330 time: 0.6415710
2018-09-13 01:09:54.603 6984 DEBUG neutron.quota.resource [req-7352d453-0b45-4dda-bdbe-3beec176b0a1 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Synchronizing usage tracker for tenant:357e75d6aa164dcc935b6f8538becf91 on resource:router resync /usr/lib/python2.7/site-packages/neutron/quota/resource.py:245
2018-09-13 01:09:54.669 6984 DEBUG neutron.quota.resource [req-7352d453-0b45-4dda-bdbe-3beec176b0a1 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Unset dirty status for tenant:357e75d6aa164dcc935b6f8538becf91 on resource:router _resync /usr/lib/python2.7/site-packages/neutron/quota/resource.py:237
2018-09-13 01:09:54.672 6984 INFO neutron.wsgi [req-7352d453-0b45-4dda-bdbe-3beec176b0a1 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/routers HTTP/1.1" status: 200  len: 1406 time: 0.7284129
2018-09-13 01:10:05.078 6989 DEBUG neutron_lib.callbacks.manager [req-74367248-3471-4026-85a8-ef78a1670e0f - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:10:05.921 6984 DEBUG neutron.wsgi [-] (6984) accepted ('10.0.20.20', 45222) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-09-13 01:10:05.925 6984 INFO neutron.wsgi [-] 10.0.20.20 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0026760
2018-09-13 01:10:06.622 6984 INFO neutron.pecan_wsgi.hooks.translation [req-3847c5b9-5c7a-4e69-a436-431711b58161 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] GET failed (client error): The resource could not be found.
2018-09-13 01:10:06.625 6984 INFO neutron.wsgi [req-3847c5b9-5c7a-4e69-a436-431711b58161 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/subnets/tempest-private-subnet-1536815180 HTTP/1.1" status: 404  len: 339 time: 0.6904068
2018-09-13 01:10:06.795 6984 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-15d1c796-7f70-48e2-9710-7574f8295ea5 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:10:06.796 6984 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-15d1c796-7f70-48e2-9710-7574f8295ea5 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:10:06.797 6984 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-15d1c796-7f70-48e2-9710-7574f8295ea5 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:10:06.800 6984 INFO neutron.wsgi [req-15d1c796-7f70-48e2-9710-7574f8295ea5 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/subnets HTTP/1.1" status: 200  len: 2050 time: 0.1654580
2018-09-13 01:10:06.936 6984 INFO neutron.api.v2.resource [req-dd68133b-1378-4373-8190-2552607409ed d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] show failed (client error): The resource could not be found.
2018-09-13 01:10:06.938 6984 INFO neutron.wsgi [req-dd68133b-1378-4373-8190-2552607409ed d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/routers/tempest-router-1536815180 HTTP/1.1" status: 404  len: 330 time: 0.1307399
2018-09-13 01:10:07.157 6984 INFO neutron.wsgi [req-464f50dd-847b-4334-8f50-2fc8ca078bf2 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/routers HTTP/1.1" status: 200  len: 1406 time: 0.2122359
2018-09-13 01:10:08.034 6984 DEBUG neutron_lib.callbacks.manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler-3840738'] for port, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:10:08.840 6984 DEBUG neutron.db.db_base_plugin_common [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Allocated IP 11.39.1.1 (b79c584b-ba75-4632-8c03-295dba0c7e68/ce9120e9-ae8a-4c3b-bf21-c0905c75aace/324f7776-e2c3-48af-b729-c6a1f361062f) _store_ip_allocation /usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_common.py:122
2018-09-13 01:10:09.475 6984 DEBUG neutron_lib.callbacks.manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks [] for port, precommit_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:10:09.529 6984 DEBUG neutron.db.provisioning_blocks [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Transition to ACTIVE for port object 324f7776-e2c3-48af-b729-c6a1f361062f will not be triggered until provisioned by entity DHCP. add_provisioning_component /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:73
2018-09-13 01:10:09.639 6984 DEBUG neutron_lib.callbacks.manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-1633017', 'neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-1319628', 'neutron.plugins.ml2.plugin.Ml2Plugin.notify_sg_on_port_change-3840670', 'neutron.db.l3_dvrscheduler_db._notify_l3_agent_new_port--9223363242929256075'] for port, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:10:09.665 6984 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:10:09.939 6984 DEBUG neutron.api.rpc.handlers.resources_rpc [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7ff7ebffd110>, [Port(admin_state_up=True,allowed_address_pairs=[],binding=PortBinding,binding_levels=[],created_at=2018-09-13T05:10:08Z,data_plane_status=<?>,description='',device_id='fd7e9be7-ec95-4b6c-a7d0-61503f5ade17',device_owner='network:router_interface',dhcp_options=[],distributed_binding=None,dns=None,fixed_ips=[IPAllocation],id=324f7776-e2c3-48af-b729-c6a1f361062f,mac_address=fa:16:3e:0f:ad:d6,name='',network_id=b79c584b-ba75-4632-8c03-295dba0c7e68,project_id='357e75d6aa164dcc935b6f8538becf91',qos_policy_id=None,revision_number=3,security=PortSecurity(324f7776-e2c3-48af-b729-c6a1f361062f),security_group_ids=set([]),status='DOWN',updated_at=2018-09-13T05:10:09Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-09-13 01:10:09.986 6984 DEBUG neutron.api.rpc.callbacks.version_manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Subnet changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:10:09.987 6984 DEBUG neutron.api.rpc.callbacks.version_manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Network changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:10:09.988 6984 DEBUG neutron.api.rpc.callbacks.version_manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type SubPort changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:10:09.988 6984 DEBUG neutron.api.rpc.callbacks.version_manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type SecurityGroup changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:10:09.989 6984 DEBUG neutron.api.rpc.callbacks.version_manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type SecurityGroupRule changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:10:09.990 6984 DEBUG neutron.api.rpc.callbacks.version_manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Trunk changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:10:09.991 6984 DEBUG neutron.api.rpc.callbacks.version_manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type QosPolicy changed None to 1.6 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:10:09.991 6984 DEBUG neutron.api.rpc.callbacks.version_manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Port changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:10:09.992 6984 DEBUG neutron.api.rpc.callbacks.version_manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Version for resource type Log changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-09-13 01:10:09.995 6984 DEBUG neutron.api.rpc.callbacks.version_manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Tracked resource versions report:
pushed versions:
{   'Log': set(['1.0']),
    'Network': set(['1.0']),
    'Port': set(['1.1']),
    'QosPolicy': set(['1.6']),
    'SecurityGroup': set(['1.0']),
    'SecurityGroupRule': set(['1.0']),
    'SubPort': set(['1.0']),
    'Subnet': set(['1.0']),
    'Trunk': set(['1.1'])}

consumer versions:
{   DHCP agent@localhost.localdomain: {   },
    L3 agent@localhost.localdomain: {   },
    Metadata agent@localhost.localdomain: {   },
    Metering agent@localhost.localdomain: {   },
    Open vSwitch agent@localhost.localdomain: {   u'Log': u'1.0',
                                                  u'Network': u'1.0',
                                                  u'Port': u'1.1',
                                                  u'QosPolicy': u'1.6',
                                                  u'SecurityGroup': u'1.0',
                                                  u'SecurityGroupRule': u'1.0',
                                                  u'SubPort': u'1.0',
                                                  u'Subnet': u'1.0',
                                                  u'Trunk': u'1.1'}}
 report /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:178
2018-09-13 01:10:10.090 6984 DEBUG oslo_concurrency.lockutils [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.425s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:10:10.104 6984 DEBUG neutron.scheduler.dhcp_agent_scheduler [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Network b79c584b-ba75-4632-8c03-295dba0c7e68 is already hosted by enough agents. _get_dhcp_agents_hosting_network /usr/lib/python2.7/site-packages/neutron/scheduler/dhcp_agent_scheduler.py:243
2018-09-13 01:10:10.127 6984 DEBUG neutron.db.l3_dvrscheduler_db [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Received port after_create _notify_l3_agent_new_port /usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py:392
2018-09-13 01:10:10.129 6984 DEBUG neutron_lib.callbacks.manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._add_csnat_on_interface_create--9223372036853150473'] for router_interface, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:10:10.277 6994 DEBUG neutron.db.provisioning_blocks [req-051eff65-dca6-442f-afea-ec736806e788 - - - - -] Provisioning for port 324f7776-e2c3-48af-b729-c6a1f361062f completed by entity DHCP. provisioning_complete /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:132
2018-09-13 01:10:10.297 6994 DEBUG neutron.db.provisioning_blocks [req-051eff65-dca6-442f-afea-ec736806e788 - - - - -] Provisioning complete for port 324f7776-e2c3-48af-b729-c6a1f361062f triggered by entity DHCP. provisioning_complete /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:138
2018-09-13 01:10:10.298 6994 DEBUG neutron_lib.callbacks.manager [req-051eff65-dca6-442f-afea-ec736806e788 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._port_provisioned--9223372036851300526'] for port, provisioning_complete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:10:10.348 6984 DEBUG neutron_lib.callbacks.manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler-3840738'] for port, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:10:10.417 6994 DEBUG neutron.plugins.ml2.plugin [req-051eff65-dca6-442f-afea-ec736806e788 - - - - -] Port 324f7776-e2c3-48af-b729-c6a1f361062f cannot update to ACTIVE because it is not bound. _port_provisioned /usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py:244
2018-09-13 01:10:11.042 6984 DEBUG neutron_lib.callbacks.manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks [] for port, precommit_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:10:11.054 6984 DEBUG neutron_lib.callbacks.manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-1633017', 'neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-1319628', 'neutron.db.l3_dvrscheduler_db._notify_l3_agent_port_update--9223363242929256060', 'neutron.plugins.ml2.plugin.Ml2Plugin.notify_sg_on_port_change-3840670', 'neutron.db.l3_hascheduler_db._notify_l3_agent_ha_port_update--9223363242929255985'] for port, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:10:11.056 6984 DEBUG neutron_lib.callbacks.manager [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify callbacks ['neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._update_snat_v6_addrs_after_intf_update-1625229', 'neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._after_router_interface_created-1319647'] for router_interface, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:10:11.090 6984 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:10:11.361 6984 DEBUG neutron.api.rpc.handlers.resources_rpc [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7ff7ec5d56d0>, [Port(admin_state_up=True,allowed_address_pairs=[],binding=PortBinding,binding_levels=[],created_at=2018-09-13T05:10:08Z,data_plane_status=<?>,description='',device_id='fd7e9be7-ec95-4b6c-a7d0-61503f5ade17',device_owner='network:router_interface',dhcp_options=[],distributed_binding=None,dns=None,fixed_ips=[IPAllocation],id=324f7776-e2c3-48af-b729-c6a1f361062f,mac_address=fa:16:3e:0f:ad:d6,name='',network_id=b79c584b-ba75-4632-8c03-295dba0c7e68,project_id='357e75d6aa164dcc935b6f8538becf91',qos_policy_id=None,revision_number=4,security=PortSecurity(324f7776-e2c3-48af-b729-c6a1f361062f),security_group_ids=set([]),status='DOWN',updated_at=2018-09-13T05:10:10Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-09-13 01:10:11.372 6984 DEBUG oslo_concurrency.lockutils [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.282s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:10:11.488 6984 DEBUG neutron.scheduler.dhcp_agent_scheduler [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Network b79c584b-ba75-4632-8c03-295dba0c7e68 is already hosted by enough agents. _get_dhcp_agents_hosting_network /usr/lib/python2.7/site-packages/neutron/scheduler/dhcp_agent_scheduler.py:243
2018-09-13 01:10:11.678 6993 DEBUG neutron.db.provisioning_blocks [req-fdef8d49-8aaf-45b7-845b-3cc87c895249 - - - - -] Provisioning complete for port 324f7776-e2c3-48af-b729-c6a1f361062f triggered by entity DHCP. provisioning_complete /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:138
2018-09-13 01:10:11.680 6993 DEBUG neutron_lib.callbacks.manager [req-fdef8d49-8aaf-45b7-845b-3cc87c895249 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._port_provisioned--9223372036851300526'] for port, provisioning_complete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:10:11.744 6984 DEBUG neutron.scheduler.l3_agent_scheduler [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Router fd7e9be7-ec95-4b6c-a7d0-61503f5ade17 is scheduled to L3 agent dc541052-a402-4423-8a23-121d937110f6 with binding_index 1 bind_router /usr/lib/python2.7/site-packages/neutron/scheduler/l3_agent_scheduler.py:225
2018-09-13 01:10:11.803 6993 DEBUG neutron.plugins.ml2.plugin [req-fdef8d49-8aaf-45b7-845b-3cc87c895249 - - - - -] Port 324f7776-e2c3-48af-b729-c6a1f361062f cannot update to ACTIVE because it is not bound. _port_provisioned /usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py:244
2018-09-13 01:10:11.944 6984 DEBUG neutron.api.rpc.agentnotifiers.l3_rpc_agent_api [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Notify agent at l3_agent.localhost.localdomain the message routers_updated _agent_notification /usr/lib/python2.7/site-packages/neutron/api/rpc/agentnotifiers/l3_rpc_agent_api.py:69
2018-09-13 01:10:11.981 6984 DEBUG neutron.quota.resource [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Persisted dirty status for tenant:357e75d6aa164dcc935b6f8538becf91 on resource:port mark_dirty /usr/lib/python2.7/site-packages/neutron/quota/resource.py:207
2018-09-13 01:10:11.987 6984 INFO neutron.wsgi [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "PUT /v2.0/routers/fd7e9be7-ec95-4b6c-a7d0-61503f5ade17/add_router_interface HTTP/1.1" status: 200  len: 508 time: 4.8198919
2018-09-13 01:10:12.008 6993 DEBUG neutron.db.l3_hamode_db [req-bd0b2694-220c-4c5e-aa26-576443149cb5 - - - - -] neutron.services.l3_router.l3_router_plugin.L3RouterPlugin method get_ha_sync_data_for_host called with arguments (<neutron_lib.context.Context object at 0x7ff7ec76dc90>, u'localhost.localdomain', <neutron.db.models.agent.Agent[object at 7ff7ec6179d0] {id=u'dc541052-a402-4423-8a23-121d937110f6', agent_type=u'L3 agent', binary=u'neutron-l3-agent', topic=u'l3_agent', host=u'localhost.localdomain', availability_zone=u'nova', admin_state_up=True, created_at=datetime.datetime(2018, 8, 30, 12, 16, 29), started_at=datetime.datetime(2018, 9, 13, 4, 59, 35), heartbeat_timestamp=datetime.datetime(2018, 9, 13, 5, 10, 5), description=None, configurations=u'{"agent_mode": "legacy", "gateway_external_network_id": "", "handle_internal_only_routers": true, "routers": 1, "interfaces": 1, "floating_ips": 0, "interface_driver": "neutron.agent.linux.interface.OVSInterfaceDriver", "log_agent_heartbeats": false, "external_network_bridge": "", "ex_gw_ports": 1}', resource_versions=None, load=0}>) {'active': True, 'router_ids': ['fd7e9be7-ec95-4b6c-a7d0-61503f5ade17']} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-09-13 01:10:12.308 6997 DEBUG neutron_lib.callbacks.manager [req-c31545e6-1eee-4aee-a6a7-2069af66a3c4 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:10:12.358 6988 DEBUG neutron_lib.callbacks.manager [req-f3538dd4-87e7-4bd8-a54f-097a3fc03243 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:10:12.415 6992 DEBUG neutron_lib.callbacks.manager [req-7c06f755-0c25-4d96-878f-1e81c3bc3afd - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server [req-bd0b2694-220c-4c5e-aa26-576443149cb5 - - - - -] Exception during message handling: TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server Traceback (most recent call last):
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     result = func(ctxt, **new_args)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     ectxt.value = e.inner_exc
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     context, host, router_ids))
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     context, host, agent, scheduled_router_ids)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     active=True)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     router_ids, active)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     mtus_by_network = self._get_mtus_by_network_list(context, network_ids)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     fields=fields)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     ectxt.value = e.inner_exc
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     context, filters, None, sorts, limit, marker, page_reverse)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     page_reverse=page_reverse)
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server     for c in query
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:12.414 6993 ERROR oslo_messaging.rpc.server 
2018-09-13 01:10:12.534 6996 DEBUG neutron.db.l3_hamode_db [req-3c19d5bb-9b05-4146-96b3-6c5f63e4d350 - - - - -] neutron.services.l3_router.l3_router_plugin.L3RouterPlugin method get_ha_sync_data_for_host called with arguments (<neutron_lib.context.Context object at 0x7ff7ec1af550>, u'localhost.localdomain', <neutron.db.models.agent.Agent[object at 7ff7ec724d10] {id=u'dc541052-a402-4423-8a23-121d937110f6', agent_type=u'L3 agent', binary=u'neutron-l3-agent', topic=u'l3_agent', host=u'localhost.localdomain', availability_zone=u'nova', admin_state_up=True, created_at=datetime.datetime(2018, 8, 30, 12, 16, 29), started_at=datetime.datetime(2018, 9, 13, 4, 59, 35), heartbeat_timestamp=datetime.datetime(2018, 9, 13, 5, 10, 5), description=None, configurations=u'{"agent_mode": "legacy", "gateway_external_network_id": "", "handle_internal_only_routers": true, "routers": 1, "interfaces": 1, "floating_ips": 0, "interface_driver": "neutron.agent.linux.interface.OVSInterfaceDriver", "log_agent_heartbeats": false, "external_network_bridge": "", "ex_gw_ports": 1}', resource_versions=None, load=0}>) {'active': True, 'router_ids': ['fd7e9be7-ec95-4b6c-a7d0-61503f5ade17']} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server [req-3c19d5bb-9b05-4146-96b3-6c5f63e4d350 - - - - -] Exception during message handling: TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server Traceback (most recent call last):
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     result = func(ctxt, **new_args)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     ectxt.value = e.inner_exc
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     context, host, router_ids))
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     context, host, agent, scheduled_router_ids)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     active=True)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     router_ids, active)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     mtus_by_network = self._get_mtus_by_network_list(context, network_ids)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     fields=fields)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     ectxt.value = e.inner_exc
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     context, filters, None, sorts, limit, marker, page_reverse)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     page_reverse=page_reverse)
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server     for c in query
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:12.874 6996 ERROR oslo_messaging.rpc.server 
2018-09-13 01:10:12.935 6988 DEBUG neutron.db.l3_hamode_db [req-72a13ef0-5262-4285-85bb-7a5513471db3 - - - - -] neutron.services.l3_router.l3_router_plugin.L3RouterPlugin method get_ha_sync_data_for_host called with arguments (<neutron_lib.context.Context object at 0x7ff7ec790410>, u'localhost.localdomain', <neutron.db.models.agent.Agent[object at 7ff7ec685810] {id=u'dc541052-a402-4423-8a23-121d937110f6', agent_type=u'L3 agent', binary=u'neutron-l3-agent', topic=u'l3_agent', host=u'localhost.localdomain', availability_zone=u'nova', admin_state_up=True, created_at=datetime.datetime(2018, 8, 30, 12, 16, 29), started_at=datetime.datetime(2018, 9, 13, 4, 59, 35), heartbeat_timestamp=datetime.datetime(2018, 9, 13, 5, 10, 5), description=None, configurations=u'{"agent_mode": "legacy", "gateway_external_network_id": "", "handle_internal_only_routers": true, "routers": 1, "interfaces": 1, "floating_ips": 0, "interface_driver": "neutron.agent.linux.interface.OVSInterfaceDriver", "log_agent_heartbeats": false, "external_network_bridge": "", "ex_gw_ports": 1}', resource_versions=None, load=0}>) {'active': True, 'router_ids': ['fd7e9be7-ec95-4b6c-a7d0-61503f5ade17']} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server [req-72a13ef0-5262-4285-85bb-7a5513471db3 - - - - -] Exception during message handling: TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server Traceback (most recent call last):
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     result = func(ctxt, **new_args)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     ectxt.value = e.inner_exc
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     context, host, router_ids))
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     context, host, agent, scheduled_router_ids)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     active=True)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     router_ids, active)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     mtus_by_network = self._get_mtus_by_network_list(context, network_ids)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     fields=fields)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     ectxt.value = e.inner_exc
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     context, filters, None, sorts, limit, marker, page_reverse)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     page_reverse=page_reverse)
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server     for c in query
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:13.269 6988 ERROR oslo_messaging.rpc.server 
2018-09-13 01:10:13.337 6992 DEBUG neutron.db.l3_hamode_db [req-45f59093-335a-4fda-8f62-517de82fcd4c - - - - -] neutron.services.l3_router.l3_router_plugin.L3RouterPlugin method get_ha_sync_data_for_host called with arguments (<neutron_lib.context.Context object at 0x7ff7ec66cd90>, u'localhost.localdomain', <neutron.db.models.agent.Agent[object at 7ff7ec5146d0] {id=u'dc541052-a402-4423-8a23-121d937110f6', agent_type=u'L3 agent', binary=u'neutron-l3-agent', topic=u'l3_agent', host=u'localhost.localdomain', availability_zone=u'nova', admin_state_up=True, created_at=datetime.datetime(2018, 8, 30, 12, 16, 29), started_at=datetime.datetime(2018, 9, 13, 4, 59, 35), heartbeat_timestamp=datetime.datetime(2018, 9, 13, 5, 10, 5), description=None, configurations=u'{"agent_mode": "legacy", "gateway_external_network_id": "", "handle_internal_only_routers": true, "routers": 1, "interfaces": 1, "floating_ips": 0, "interface_driver": "neutron.agent.linux.interface.OVSInterfaceDriver", "log_agent_heartbeats": false, "external_network_bridge": "", "ex_gw_ports": 1}', resource_versions=None, load=0}>) {'active': True, 'router_ids': ['fd7e9be7-ec95-4b6c-a7d0-61503f5ade17']} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server [req-45f59093-335a-4fda-8f62-517de82fcd4c - - - - -] Exception during message handling: TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server Traceback (most recent call last):
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     result = func(ctxt, **new_args)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     ectxt.value = e.inner_exc
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     context, host, router_ids))
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     context, host, agent, scheduled_router_ids)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     active=True)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     router_ids, active)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     mtus_by_network = self._get_mtus_by_network_list(context, network_ids)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     fields=fields)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     ectxt.value = e.inner_exc
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     context, filters, None, sorts, limit, marker, page_reverse)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     page_reverse=page_reverse)
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server     for c in query
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:13.697 6992 ERROR oslo_messaging.rpc.server 
2018-09-13 01:10:13.761 6989 DEBUG neutron.db.l3_hamode_db [req-915d3450-ffb9-4cab-9806-cca22ebdef1f - - - - -] neutron.services.l3_router.l3_router_plugin.L3RouterPlugin method get_ha_sync_data_for_host called with arguments (<neutron_lib.context.Context object at 0x7ff7ec7e5810>, u'localhost.localdomain', <neutron.db.models.agent.Agent[object at 7ff7ec5f8490] {id=u'dc541052-a402-4423-8a23-121d937110f6', agent_type=u'L3 agent', binary=u'neutron-l3-agent', topic=u'l3_agent', host=u'localhost.localdomain', availability_zone=u'nova', admin_state_up=True, created_at=datetime.datetime(2018, 8, 30, 12, 16, 29), started_at=datetime.datetime(2018, 9, 13, 4, 59, 35), heartbeat_timestamp=datetime.datetime(2018, 9, 13, 5, 10, 5), description=None, configurations=u'{"agent_mode": "legacy", "gateway_external_network_id": "", "handle_internal_only_routers": true, "routers": 1, "interfaces": 1, "floating_ips": 0, "interface_driver": "neutron.agent.linux.interface.OVSInterfaceDriver", "log_agent_heartbeats": false, "external_network_bridge": "", "ex_gw_ports": 1}', resource_versions=None, load=0}>) {'active': True, 'router_ids': ['fd7e9be7-ec95-4b6c-a7d0-61503f5ade17']} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server [req-915d3450-ffb9-4cab-9806-cca22ebdef1f - - - - -] Exception during message handling: TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server Traceback (most recent call last):
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     result = func(ctxt, **new_args)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     ectxt.value = e.inner_exc
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     context, host, router_ids))
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     context, host, agent, scheduled_router_ids)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     active=True)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     router_ids, active)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     mtus_by_network = self._get_mtus_by_network_list(context, network_ids)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     fields=fields)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     ectxt.value = e.inner_exc
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     context, filters, None, sorts, limit, marker, page_reverse)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     page_reverse=page_reverse)
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server     for c in query
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:14.261 6989 ERROR oslo_messaging.rpc.server 
2018-09-13 01:10:14.584 6998 DEBUG neutron.db.agents_db [req-e7d632cc-c71a-4e5f-b431-dc86ed3c6a24 - - - - -] Agent healthcheck: found 5 active agents agent_health_check /usr/lib/python2.7/site-packages/neutron/db/agents_db.py:281
2018-09-13 01:10:14.612 6998 DEBUG neutron.db.l3_hamode_db [req-35a3f148-f119-42d8-9aba-f6caaafbe659 - - - - -] neutron.services.l3_router.l3_router_plugin.L3RouterPlugin method get_ha_sync_data_for_host called with arguments (<neutron_lib.context.Context object at 0x7ff7ec538bd0>, u'localhost.localdomain', <neutron.db.models.agent.Agent[object at 7ff7ec4c4150] {id=u'dc541052-a402-4423-8a23-121d937110f6', agent_type=u'L3 agent', binary=u'neutron-l3-agent', topic=u'l3_agent', host=u'localhost.localdomain', availability_zone=u'nova', admin_state_up=True, created_at=datetime.datetime(2018, 8, 30, 12, 16, 29), started_at=datetime.datetime(2018, 9, 13, 4, 59, 35), heartbeat_timestamp=datetime.datetime(2018, 9, 13, 5, 10, 5), description=None, configurations=u'{"agent_mode": "legacy", "gateway_external_network_id": "", "handle_internal_only_routers": true, "routers": 1, "interfaces": 1, "floating_ips": 0, "interface_driver": "neutron.agent.linux.interface.OVSInterfaceDriver", "log_agent_heartbeats": false, "external_network_bridge": "", "ex_gw_ports": 1}', resource_versions=None, load=0}>) {'active': True, 'router_ids': ['fd7e9be7-ec95-4b6c-a7d0-61503f5ade17']} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server [req-35a3f148-f119-42d8-9aba-f6caaafbe659 - - - - -] Exception during message handling: TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server Traceback (most recent call last):
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     result = func(ctxt, **new_args)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     ectxt.value = e.inner_exc
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     context, host, router_ids))
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     context, host, agent, scheduled_router_ids)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     active=True)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     router_ids, active)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     mtus_by_network = self._get_mtus_by_network_list(context, network_ids)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     fields=fields)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     ectxt.value = e.inner_exc
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     self.force_reraise()
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     context, filters, None, sorts, limit, marker, page_reverse)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     return method(*args, **kwargs)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     page_reverse=page_reverse)
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server     for c in query
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:14.899 6998 ERROR oslo_messaging.rpc.server 
2018-09-13 01:10:15.704 6991 DEBUG neutron_lib.callbacks.manager [req-008d69a7-905e-46dc-893e-1ebcd45e8487 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:10:21.084 6980 DEBUG neutron.wsgi [-] (6980) accepted ('10.0.20.20', 45234) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-09-13 01:10:21.106 6980 WARNING keystonemiddleware.auth_token [-] Using the in-process token cache is deprecated as of the 4.2.0 release and may be removed in the 5.0.0 release or the 'O' development cycle. The in-process cache causes inconsistent results and high memory usage. When the feature is removed the auth_token middleware will not cache tokens by default which may result in performance issues. It is recommended to use  memcache for the auth_token token cache by setting the memcached_servers option.
2018-09-13 01:10:22.969 6980 DEBUG oslo_policy._cache_handler [req-845a6442-3c2f-4852-bcc6-86fda1e6d095 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-09-13 01:10:23.028 6980 DEBUG oslo_policy.policy [req-845a6442-3c2f-4852-bcc6-86fda1e6d095 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:685
2018-09-13 01:10:23.519 6980 DEBUG oslo_policy._cache_handler [req-845a6442-3c2f-4852-bcc6-86fda1e6d095 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-09-13 01:10:23.555 6980 DEBUG oslo_policy.policy [req-845a6442-3c2f-4852-bcc6-86fda1e6d095 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:685
2018-09-13 01:10:23.947 6980 INFO neutron.wsgi [req-845a6442-3c2f-4852-bcc6-86fda1e6d095 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/routers?fields=id&name=tempest-router-1536815180 HTTP/1.1" status: 200  len: 259 time: 2.8506389
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation [req-8f9fa848-5790-45df-aa65-960d559a5e7e d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] GET failed.: AttributeError: 'NoneType' object has no attribute 'order_by'
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation Traceback (most recent call last):
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/pecan/core.py", line 678, in __call__
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     self.invoke_controller(controller, args, kwargs, state)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/pecan/core.py", line 569, in invoke_controller
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     result = controller(*args, **kwargs)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     self.force_reraise()
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     return f(*args, **kwargs)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     ectxt.value = e.inner_exc
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     self.force_reraise()
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     return f(*args, **kwargs)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     self.force_reraise()
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/pecan_wsgi/controllers/utils.py", line 76, in wrapped
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     return f(*args, **kwargs)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/pecan_wsgi/controllers/resource.py", line 131, in index
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     return self.get(*args, **kwargs)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/pecan_wsgi/controllers/resource.py", line 141, in get
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     **query_params)}
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     return method(*args, **kwargs)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     self.force_reraise()
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     return f(*args, **kwargs)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     ectxt.value = e.inner_exc
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     self.force_reraise()
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     return f(*args, **kwargs)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     self.force_reraise()
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     context, filters, None, sorts, limit, marker, page_reverse)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     return method(*args, **kwargs)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     page_reverse=page_reverse)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 288, in get_collection
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     page_reverse=page_reverse)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 269, in get_collection_query
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     sort_dirs=sort_dirs)
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_db/sqlalchemy/utils.py", line 221, in paginate_query
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation     query = query.order_by(sort_dir_func(sort_key_attr))
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation AttributeError: 'NoneType' object has no attribute 'order_by'
2018-09-13 01:10:23.996 6980 ERROR neutron.pecan_wsgi.hooks.translation 
2018-09-13 01:10:24.028 6980 INFO neutron.wsgi [req-8f9fa848-5790-45df-aa65-960d559a5e7e d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/networks?fields=id&name=public HTTP/1.1" status: 500  len: 368 time: 0.0581479
2018-09-13 01:10:34.138 6984 DEBUG neutron.wsgi [-] (6984) accepted ('10.0.20.20', 45250) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-09-13 01:10:34.141 6984 INFO neutron.wsgi [-] 10.0.20.20 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0016840
2018-09-13 01:10:34.682 6984 INFO neutron.pecan_wsgi.hooks.translation [req-3eb18e3e-ae13-47bb-9836-d953b0a5230b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] GET failed (client error): The resource could not be found.
2018-09-13 01:10:34.684 6984 INFO neutron.wsgi [req-3eb18e3e-ae13-47bb-9836-d953b0a5230b d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/networks/tempest-private-1536815180 HTTP/1.1" status: 404  len: 334 time: 0.5377450
2018-09-13 01:10:34.975 6984 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-11b1e6bd-3f02-4f66-a7b2-73442df1e09d d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:10:34.977 6984 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-11b1e6bd-3f02-4f66-a7b2-73442df1e09d d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:10:34.978 6984 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-11b1e6bd-3f02-4f66-a7b2-73442df1e09d d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-09-13 01:10:34.981 6984 INFO neutron.wsgi [req-11b1e6bd-3f02-4f66-a7b2-73442df1e09d d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/networks HTTP/1.1" status: 200  len: 2214 time: 0.2887511
2018-09-13 01:10:35.039 6984 INFO neutron.api.v2.resource [req-1f1aa966-f2fe-4bea-a3b6-6f32797409c9 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] show failed (client error): The resource could not be found.
2018-09-13 01:10:35.043 6984 INFO neutron.wsgi [req-1f1aa966-f2fe-4bea-a3b6-6f32797409c9 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/security-groups/tempest-SECURITY_GROUP_SAMPLE-1536815180 HTTP/1.1" status: 404  len: 356 time: 0.0445430
2018-09-13 01:10:35.068 6994 DEBUG neutron_lib.callbacks.manager [req-ec2a67c9-a5bf-4a02-bb81-ad2bb58640bd - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent--9223363242928714484'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-09-13 01:10:35.352 6984 INFO neutron.wsgi [req-f71e7718-e3cb-4779-89da-881d61e038fe d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/security-groups HTTP/1.1" status: 200  len: 40407 time: 0.3039501
2018-09-13 01:10:38.808 6983 DEBUG neutron.wsgi [-] (6983) accepted ('10.0.20.20', 45264) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-09-13 01:10:39.375 6983 WARNING keystonemiddleware.auth_token [-] A valid token was submitted as a service token, but it was not a valid service token. This is incorrect but backwards compatible behaviour. This will be removed in future releases.
2018-09-13 01:10:40.648 6983 INFO neutron.wsgi [req-6c5dd290-bcf3-4c4f-ab50-d1ddbb978d4d d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/security-groups?fields=id&id=ae8c57de-d729-4ade-83ea-376f8a234116 HTTP/1.1" status: 200  len: 267 time: 1.8357751
2018-09-13 01:10:40.783 6983 INFO neutron.wsgi [req-9e134ccd-ce91-47c1-8b00-3862f7c4ae89 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/security-groups/ae8c57de-d729-4ade-83ea-376f8a234116 HTTP/1.1" status: 200  len: 2115 time: 0.1259329
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation [req-9715d650-a37d-4a1a-9f30-aa4ae9257866 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] GET failed.: AttributeError: 'NoneType' object has no attribute 'order_by'
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation Traceback (most recent call last):
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/pecan/core.py", line 678, in __call__
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     self.invoke_controller(controller, args, kwargs, state)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/pecan/core.py", line 569, in invoke_controller
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     result = controller(*args, **kwargs)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     self.force_reraise()
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     return f(*args, **kwargs)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     ectxt.value = e.inner_exc
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     self.force_reraise()
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     return f(*args, **kwargs)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     self.force_reraise()
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/pecan_wsgi/controllers/utils.py", line 76, in wrapped
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     return f(*args, **kwargs)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/pecan_wsgi/controllers/resource.py", line 131, in index
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     return self.get(*args, **kwargs)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/pecan_wsgi/controllers/resource.py", line 141, in get
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     **query_params)}
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     return method(*args, **kwargs)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     self.force_reraise()
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     return f(*args, **kwargs)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     ectxt.value = e.inner_exc
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     self.force_reraise()
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     return f(*args, **kwargs)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     self.force_reraise()
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     context, filters, None, sorts, limit, marker, page_reverse)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     return method(*args, **kwargs)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     page_reverse=page_reverse)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 288, in get_collection
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     page_reverse=page_reverse)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 269, in get_collection_query
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     sort_dirs=sort_dirs)
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation   File "/usr/lib/python2.7/site-packages/oslo_db/sqlalchemy/utils.py", line 221, in paginate_query
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation     query = query.order_by(sort_dir_func(sort_key_attr))
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation AttributeError: 'NoneType' object has no attribute 'order_by'
2018-09-13 01:10:40.814 6983 ERROR neutron.pecan_wsgi.hooks.translation 
2018-09-13 01:10:40.823 6983 INFO neutron.wsgi [req-9715d650-a37d-4a1a-9f30-aa4ae9257866 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - af938b61572e4353a0565b142c454f80 af938b61572e4353a0565b142c454f80] 10.0.20.20 "GET /v2.0/networks?id=b79c584b-ba75-4632-8c03-295dba0c7e68 HTTP/1.1" status: 500  len: 368 time: 0.0259550

2018-09-13 01:06:23.882 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:06:23.886 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.005s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:06:34.557 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:06:34.560 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:06:59.145 6388 DEBUG oslo_service.periodic_task [req-775724c8-c30a-49ab-a1da-9904e467c3ae - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-13 01:07:23.884 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:07:23.889 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.005s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:07:34.567 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:07:34.568 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:07:39.149 6388 DEBUG oslo_service.periodic_task [req-775724c8-c30a-49ab-a1da-9904e467c3ae - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-13 01:08:19.159 6388 DEBUG oslo_service.periodic_task [req-775724c8-c30a-49ab-a1da-9904e467c3ae - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-13 01:08:23.886 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:08:23.891 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:08:34.577 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:08:34.578 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:08:59.166 6388 DEBUG oslo_service.periodic_task [req-775724c8-c30a-49ab-a1da-9904e467c3ae - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-13 01:09:23.889 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:09:23.892 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:09:34.587 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:09:34.588 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:09:39.170 6388 DEBUG oslo_service.periodic_task [req-775724c8-c30a-49ab-a1da-9904e467c3ae - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-13 01:10:11.959 6388 DEBUG neutron.agent.l3.agent [req-1d002175-fd14-4910-b8f6-74ea89ad80c0 d4e5f0856af742f28911950122d8b6bc 357e75d6aa164dcc935b6f8538becf91 - - -] Got routers updated notification :[u'fd7e9be7-ec95-4b6c-a7d0-61503f5ade17'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-09-13 01:10:11.963 6388 DEBUG neutron.agent.l3.agent [-] Starting router update for fd7e9be7-ec95-4b6c-a7d0-61503f5ade17, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent [-] Failed to fetch router information for 'fd7e9be7-ec95-4b6c-a7d0-61503f5ade17': TypeError: 'NoneType' object is not iterable
Traceback (most recent call last):

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
    res = self.dispatcher.dispatch(message)

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
    return self._do_dispatch(endpoint, method, ctxt, args)

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
    result = func(ctxt, **new_args)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
    setattr(e, '_RETRY_EXCEEDED', True)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
    ectxt.value = e.inner_exc

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
    LOG.debug("Retry wrapper got retriable exception: %s", e)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
    return f(*dup_args, **dup_kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
    context, host, router_ids))

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
    context, host, agent, scheduled_router_ids)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
    active=True)

  File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
    router_ids, active)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
    self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
    mtus_by_network = self._get_mtus_by_network_list(context, network_ids)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
    fields=fields)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
    setattr(e, '_RETRY_EXCEEDED', True)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
    ectxt.value = e.inner_exc

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
    LOG.debug("Retry wrapper got retriable exception: %s", e)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
    return f(*dup_args, **dup_kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
    context, filters, None, sorts, limit, marker, page_reverse)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
    page_reverse=page_reverse)

  File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
    for c in query

TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent Traceback (most recent call last):
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py", line 544, in _process_router_update
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     [update.id])
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py", line 106, in get_routers
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     router_ids=router_ids)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/common/rpc.py", line 162, in call
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     return self._original_context.call(ctxt, method, **kwargs)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/client.py", line 169, in call
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     retry=self.retry)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/transport.py", line 123, in _send
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     timeout=timeout, retry=retry)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 566, in send
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     retry=retry)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 557, in _send
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     raise result
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent Traceback (most recent call last):
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     res = self.dispatcher.dispatch(message)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     result = func(ctxt, **new_args)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     ectxt.value = e.inner_exc
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     context, host, router_ids))
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     context, host, agent, scheduled_router_ids)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     active=True)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     router_ids, active)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     mtus_by_network = self._get_mtus_by_network_list(context, network_ids)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     fields=fields)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     ectxt.value = e.inner_exc
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     context, filters, None, sorts, limit, marker, page_reverse)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     page_reverse=page_reverse)
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent     for c in query
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.492 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.499 6388 DEBUG neutron.agent.l3.agent [-] Starting router update for fd7e9be7-ec95-4b6c-a7d0-61503f5ade17, action None, priority 1 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent [-] Failed to fetch router information for 'fd7e9be7-ec95-4b6c-a7d0-61503f5ade17': TypeError: 'NoneType' object is not iterable
Traceback (most recent call last):

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
    res = self.dispatcher.dispatch(message)

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
    return self._do_dispatch(endpoint, method, ctxt, args)

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
    result = func(ctxt, **new_args)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
    setattr(e, '_RETRY_EXCEEDED', True)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
    ectxt.value = e.inner_exc

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
    LOG.debug("Retry wrapper got retriable exception: %s", e)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
    return f(*dup_args, **dup_kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
    context, host, router_ids))

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
    context, host, agent, scheduled_router_ids)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
    active=True)

  File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
    router_ids, active)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
    self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
    mtus_by_network = self._get_mtus_by_network_list(context, network_ids)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
    fields=fields)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
    setattr(e, '_RETRY_EXCEEDED', True)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
    ectxt.value = e.inner_exc

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
    LOG.debug("Retry wrapper got retriable exception: %s", e)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
    return f(*dup_args, **dup_kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
    context, filters, None, sorts, limit, marker, page_reverse)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
    page_reverse=page_reverse)

  File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
    for c in query

TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent Traceback (most recent call last):
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py", line 544, in _process_router_update
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     [update.id])
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py", line 106, in get_routers
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     router_ids=router_ids)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/common/rpc.py", line 162, in call
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     return self._original_context.call(ctxt, method, **kwargs)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/client.py", line 169, in call
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     retry=self.retry)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/transport.py", line 123, in _send
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     timeout=timeout, retry=retry)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 566, in send
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     retry=retry)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 557, in _send
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     raise result
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent Traceback (most recent call last):
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     res = self.dispatcher.dispatch(message)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     result = func(ctxt, **new_args)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     ectxt.value = e.inner_exc
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     context, host, router_ids))
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     context, host, agent, scheduled_router_ids)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     active=True)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     router_ids, active)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     mtus_by_network = self._get_mtus_by_network_list(context, network_ids)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     fields=fields)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     ectxt.value = e.inner_exc
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     context, filters, None, sorts, limit, marker, page_reverse)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     page_reverse=page_reverse)
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent     for c in query
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.892 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:12.897 6388 DEBUG neutron.agent.l3.agent [-] Starting router update for fd7e9be7-ec95-4b6c-a7d0-61503f5ade17, action None, priority 1 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent [-] Failed to fetch router information for 'fd7e9be7-ec95-4b6c-a7d0-61503f5ade17': TypeError: 'NoneType' object is not iterable
Traceback (most recent call last):

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
    res = self.dispatcher.dispatch(message)

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
    return self._do_dispatch(endpoint, method, ctxt, args)

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
    result = func(ctxt, **new_args)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
    setattr(e, '_RETRY_EXCEEDED', True)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
    ectxt.value = e.inner_exc

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
    LOG.debug("Retry wrapper got retriable exception: %s", e)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
    return f(*dup_args, **dup_kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
    context, host, router_ids))

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
    context, host, agent, scheduled_router_ids)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
    active=True)

  File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
    router_ids, active)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
    self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
    mtus_by_network = self._get_mtus_by_network_list(context, network_ids)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
    fields=fields)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
    setattr(e, '_RETRY_EXCEEDED', True)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
    ectxt.value = e.inner_exc

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
    LOG.debug("Retry wrapper got retriable exception: %s", e)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
    return f(*dup_args, **dup_kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
    context, filters, None, sorts, limit, marker, page_reverse)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
    page_reverse=page_reverse)

  File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
    for c in query

TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent Traceback (most recent call last):
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py", line 544, in _process_router_update
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     [update.id])
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py", line 106, in get_routers
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     router_ids=router_ids)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/common/rpc.py", line 162, in call
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     return self._original_context.call(ctxt, method, **kwargs)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/client.py", line 169, in call
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     retry=self.retry)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/transport.py", line 123, in _send
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     timeout=timeout, retry=retry)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 566, in send
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     retry=retry)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 557, in _send
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     raise result
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent Traceback (most recent call last):
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     res = self.dispatcher.dispatch(message)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     result = func(ctxt, **new_args)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     ectxt.value = e.inner_exc
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     context, host, router_ids))
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     context, host, agent, scheduled_router_ids)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     active=True)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     router_ids, active)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     mtus_by_network = self._get_mtus_by_network_list(context, network_ids)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     fields=fields)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     ectxt.value = e.inner_exc
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     context, filters, None, sorts, limit, marker, page_reverse)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     page_reverse=page_reverse)
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent     for c in query
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.290 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.296 6388 DEBUG neutron.agent.l3.agent [-] Starting router update for fd7e9be7-ec95-4b6c-a7d0-61503f5ade17, action None, priority 1 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent [-] Failed to fetch router information for 'fd7e9be7-ec95-4b6c-a7d0-61503f5ade17': TypeError: 'NoneType' object is not iterable
Traceback (most recent call last):

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
    res = self.dispatcher.dispatch(message)

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
    return self._do_dispatch(endpoint, method, ctxt, args)

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
    result = func(ctxt, **new_args)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
    setattr(e, '_RETRY_EXCEEDED', True)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
    ectxt.value = e.inner_exc

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
    LOG.debug("Retry wrapper got retriable exception: %s", e)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
    return f(*dup_args, **dup_kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
    context, host, router_ids))

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
    context, host, agent, scheduled_router_ids)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
    active=True)

  File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
    router_ids, active)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
    self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
    mtus_by_network = self._get_mtus_by_network_list(context, network_ids)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
    fields=fields)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
    setattr(e, '_RETRY_EXCEEDED', True)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
    ectxt.value = e.inner_exc

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
    LOG.debug("Retry wrapper got retriable exception: %s", e)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
    return f(*dup_args, **dup_kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
    context, filters, None, sorts, limit, marker, page_reverse)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
    page_reverse=page_reverse)

  File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
    for c in query

TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent Traceback (most recent call last):
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py", line 544, in _process_router_update
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     [update.id])
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py", line 106, in get_routers
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     router_ids=router_ids)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/common/rpc.py", line 162, in call
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     return self._original_context.call(ctxt, method, **kwargs)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/client.py", line 169, in call
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     retry=self.retry)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/transport.py", line 123, in _send
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     timeout=timeout, retry=retry)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 566, in send
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     retry=retry)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 557, in _send
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     raise result
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent Traceback (most recent call last):
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     res = self.dispatcher.dispatch(message)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     result = func(ctxt, **new_args)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     ectxt.value = e.inner_exc
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     context, host, router_ids))
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     context, host, agent, scheduled_router_ids)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     active=True)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     router_ids, active)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     mtus_by_network = self._get_mtus_by_network_list(context, network_ids)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     fields=fields)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     ectxt.value = e.inner_exc
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     context, filters, None, sorts, limit, marker, page_reverse)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     page_reverse=page_reverse)
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent     for c in query
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.713 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:13.718 6388 DEBUG neutron.agent.l3.agent [-] Starting router update for fd7e9be7-ec95-4b6c-a7d0-61503f5ade17, action None, priority 1 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent [-] Failed to fetch router information for 'fd7e9be7-ec95-4b6c-a7d0-61503f5ade17': TypeError: 'NoneType' object is not iterable
Traceback (most recent call last):

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
    res = self.dispatcher.dispatch(message)

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
    return self._do_dispatch(endpoint, method, ctxt, args)

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
    result = func(ctxt, **new_args)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
    setattr(e, '_RETRY_EXCEEDED', True)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
    ectxt.value = e.inner_exc

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
    LOG.debug("Retry wrapper got retriable exception: %s", e)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
    return f(*dup_args, **dup_kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
    context, host, router_ids))

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
    context, host, agent, scheduled_router_ids)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
    active=True)

  File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
    router_ids, active)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
    self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
    mtus_by_network = self._get_mtus_by_network_list(context, network_ids)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
    fields=fields)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
    setattr(e, '_RETRY_EXCEEDED', True)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
    ectxt.value = e.inner_exc

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
    LOG.debug("Retry wrapper got retriable exception: %s", e)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
    return f(*dup_args, **dup_kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
    context, filters, None, sorts, limit, marker, page_reverse)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
    page_reverse=page_reverse)

  File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
    for c in query

TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent Traceback (most recent call last):
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py", line 544, in _process_router_update
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     [update.id])
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py", line 106, in get_routers
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     router_ids=router_ids)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/common/rpc.py", line 162, in call
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     return self._original_context.call(ctxt, method, **kwargs)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/client.py", line 169, in call
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     retry=self.retry)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/transport.py", line 123, in _send
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     timeout=timeout, retry=retry)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 566, in send
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     retry=retry)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 557, in _send
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     raise result
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent Traceback (most recent call last):
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     res = self.dispatcher.dispatch(message)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     result = func(ctxt, **new_args)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     ectxt.value = e.inner_exc
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     context, host, router_ids))
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     context, host, agent, scheduled_router_ids)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     active=True)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     router_ids, active)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     mtus_by_network = self._get_mtus_by_network_list(context, network_ids)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     fields=fields)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     ectxt.value = e.inner_exc
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     context, filters, None, sorts, limit, marker, page_reverse)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     page_reverse=page_reverse)
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent     for c in query
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.286 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.293 6388 DEBUG neutron.agent.l3.agent [-] Starting router update for fd7e9be7-ec95-4b6c-a7d0-61503f5ade17, action None, priority 1 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent [-] Failed to fetch router information for 'fd7e9be7-ec95-4b6c-a7d0-61503f5ade17': TypeError: 'NoneType' object is not iterable
Traceback (most recent call last):

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
    res = self.dispatcher.dispatch(message)

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
    return self._do_dispatch(endpoint, method, ctxt, args)

  File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
    result = func(ctxt, **new_args)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
    setattr(e, '_RETRY_EXCEEDED', True)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
    ectxt.value = e.inner_exc

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
    LOG.debug("Retry wrapper got retriable exception: %s", e)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
    return f(*dup_args, **dup_kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
    context, host, router_ids))

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
    context, host, agent, scheduled_router_ids)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
    active=True)

  File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
    router_ids, active)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
    self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
    mtus_by_network = self._get_mtus_by_network_list(context, network_ids)

  File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
    fields=fields)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
    setattr(e, '_RETRY_EXCEEDED', True)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
    ectxt.value = e.inner_exc

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
    return f(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
    LOG.debug("Retry wrapper got retriable exception: %s", e)

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
    self.force_reraise()

  File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
    six.reraise(self.type_, self.value, self.tb)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
    return f(*dup_args, **dup_kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
    context, filters, None, sorts, limit, marker, page_reverse)

  File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
    return method(*args, **kwargs)

  File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
    page_reverse=page_reverse)

  File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
    for c in query

TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent Traceback (most recent call last):
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py", line 544, in _process_router_update
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     [update.id])
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py", line 106, in get_routers
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     router_ids=router_ids)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/common/rpc.py", line 162, in call
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     return self._original_context.call(ctxt, method, **kwargs)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/client.py", line 169, in call
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     retry=self.retry)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/transport.py", line 123, in _send
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     timeout=timeout, retry=retry)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 566, in send
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     retry=retry)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 557, in _send
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     raise result
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent Traceback (most recent call last):
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     res = self.dispatcher.dispatch(message)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     return self._do_dispatch(endpoint, method, ctxt, args)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     result = func(ctxt, **new_args)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     ectxt.value = e.inner_exc
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py", line 124, in sync_routers
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     context, host, router_ids))
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_agentschedulers_db.py", line 339, in list_active_sync_routers_on_active_l3_agent
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     context, host, agent, scheduled_router_ids)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py", line 233, in _get_active_l3_agent_routers_sync_data
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     active=True)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_log/helpers.py", line 67, in wrapper
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_hamode_db.py", line 671, in get_ha_sync_data_for_host
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     router_ids, active)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1743, in get_sync_data
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     self._populate_mtu_and_subnets_for_ports(context, ports_to_populate)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1668, in _populate_mtu_and_subnets_for_ports
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     mtus_by_network = self._get_mtus_by_network_list(context, network_ids)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/l3_db.py", line 1655, in _get_mtus_by_network_list
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     fields=fields)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 93, in wrapped
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     setattr(e, '_RETRY_EXCEEDED', True)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 89, in wrapped
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 150, in wrapper
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     ectxt.value = e.inner_exc
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_db/api.py", line 138, in wrapper
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     return f(*args, **kwargs)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 128, in wrapped
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     LOG.debug("Retry wrapper got retriable exception: %s", e)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 220, in __exit__
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     self.force_reraise()
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/oslo_utils/excutils.py", line 196, in force_reraise
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     six.reraise(self.type_, self.value, self.tb)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 124, in wrapped
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     return f(*dup_args, **dup_kwargs)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py", line 950, in get_networks
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     context, filters, None, sorts, limit, marker, page_reverse)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/api.py", line 163, in wrapped
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     return method(*args, **kwargs)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_v2.py", line 506, in _get_networks
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     page_reverse=page_reverse)
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent   File "/usr/lib/python2.7/site-packages/neutron/db/_model_query.py", line 292, in get_collection
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent     for c in query
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent TypeError: 'NoneType' object is not iterable
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.921 6388 ERROR neutron.agent.l3.agent 
2018-09-13 01:10:14.926 6388 WARNING neutron.agent.l3.agent [-] Hit retry limit with router update for fd7e9be7-ec95-4b6c-a7d0-61503f5ade17, action None
2018-09-13 01:10:14.928 6388 DEBUG neutron.agent.l3.agent [-] Deleting router fd7e9be7-ec95-4b6c-a7d0-61503f5ade17 _resync_router /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:523
2018-09-13 01:10:14.928 6388 WARNING neutron.agent.l3.agent [-] Info for router fd7e9be7-ec95-4b6c-a7d0-61503f5ade17 was not found. Performing router cleanup
2018-09-13 01:10:14.929 6388 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-09-13 01:10:19.174 6388 DEBUG oslo_service.periodic_task [req-775724c8-c30a-49ab-a1da-9904e467c3ae - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-09-13 01:10:23.891 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:10:23.894 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-09-13 01:10:34.591 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-09-13 01:10:34.592 6388 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282

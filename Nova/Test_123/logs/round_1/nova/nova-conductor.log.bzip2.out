2018-06-28 01:34:14.819 2611 ERROR nova.conductor.manager [req-5b8c36f6-d739-4a43-b5ec-a04cc5cc4a47 8b61ba503b2e487bbb0df8ec7a5d1b86 bdd00abf109741b0bc337b873391494e - 2576c862fc2e40f287558d88801cc32e 2576c862fc2e40f287558d88801cc32e] Failed to schedule instances: TypeError: setup_instance_group() takes exactly 2 arguments (1 given)
2018-06-28 01:34:14.819 2611 ERROR nova.conductor.manager Traceback (most recent call last):
2018-06-28 01:34:14.819 2611 ERROR nova.conductor.manager   File "/usr/lib/python2.7/site-packages/nova/conductor/manager.py", line 584, in schedule_and_build_instances
2018-06-28 01:34:14.819 2611 ERROR nova.conductor.manager     hosts = self._schedule_instances(context, request_specs[0], instance_uuids)
2018-06-28 01:34:14.819 2611 ERROR nova.conductor.manager   File "/usr/lib/python2.7/site-packages/nova/conductor/manager.py", line 361, in _schedule_instances
2018-06-28 01:34:14.819 2611 ERROR nova.conductor.manager     scheduler_utils.setup_instance_group(request_spec)
2018-06-28 01:34:14.819 2611 ERROR nova.conductor.manager TypeError: setup_instance_group() takes exactly 2 arguments (1 given)
2018-06-28 01:34:14.819 2611 ERROR nova.conductor.manager 
2018-06-28 01:34:14.860 2611 DEBUG oslo_db.sqlalchemy.engines [req-5b8c36f6-d739-4a43-b5ec-a04cc5cc4a47 8b61ba503b2e487bbb0df8ec7a5d1b86 bdd00abf109741b0bc337b873391494e - 2576c862fc2e40f287558d88801cc32e 2576c862fc2e40f287558d88801cc32e] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION _check_effective_sql_mode /usr/lib/python2.7/site-packages/oslo_db/sqlalchemy/engines.py:285
2018-06-28 01:34:14.904 2611 DEBUG oslo_concurrency.lockutils [req-5b8c36f6-d739-4a43-b5ec-a04cc5cc4a47 8b61ba503b2e487bbb0df8ec7a5d1b86 bdd00abf109741b0bc337b873391494e - 2576c862fc2e40f287558d88801cc32e 2576c862fc2e40f287558d88801cc32e] Lock "00000000-0000-0000-0000-000000000000" acquired by "nova.context.get_or_set_cached_cell_and_set_connections" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 01:34:14.907 2611 DEBUG oslo_concurrency.lockutils [req-5b8c36f6-d739-4a43-b5ec-a04cc5cc4a47 8b61ba503b2e487bbb0df8ec7a5d1b86 bdd00abf109741b0bc337b873391494e - 2576c862fc2e40f287558d88801cc32e 2576c862fc2e40f287558d88801cc32e] Lock "00000000-0000-0000-0000-000000000000" released by "nova.context.get_or_set_cached_cell_and_set_connections" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 01:34:14.946 2611 DEBUG oslo_db.sqlalchemy.engines [req-5b8c36f6-d739-4a43-b5ec-a04cc5cc4a47 8b61ba503b2e487bbb0df8ec7a5d1b86 bdd00abf109741b0bc337b873391494e - 2576c862fc2e40f287558d88801cc32e 2576c862fc2e40f287558d88801cc32e] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION _check_effective_sql_mode /usr/lib/python2.7/site-packages/oslo_db/sqlalchemy/engines.py:285
2018-06-28 01:34:15.343 2611 DEBUG nova.conductor.manager [req-5b8c36f6-d739-4a43-b5ec-a04cc5cc4a47 8b61ba503b2e487bbb0df8ec7a5d1b86 bdd00abf109741b0bc337b873391494e - 2576c862fc2e40f287558d88801cc32e 2576c862fc2e40f287558d88801cc32e] [instance: 3d6c275e-f6e2-4ec0-bca2-63b8ca17cefb] block_device_mapping [BlockDeviceMapping(attachment_id=<?>,boot_index=0,connection_info=None,created_at=<?>,delete_on_termination=True,deleted=<?>,deleted_at=<?>,destination_type='local',device_name=None,device_type='disk',disk_bus=None,guest_format=None,id=<?>,image_id='da91df47-b4df-44ac-8960-3e106a5db5f8',instance=<?>,instance_uuid=<?>,no_device=False,snapshot_id=None,source_type='image',tag=None,updated_at=<?>,volume_id=None,volume_size=None)] _create_block_device_mapping /usr/lib/python2.7/site-packages/nova/conductor/manager.py:527
2018-06-28 01:34:15.349 2611 DEBUG oslo_concurrency.lockutils [req-5b8c36f6-d739-4a43-b5ec-a04cc5cc4a47 8b61ba503b2e487bbb0df8ec7a5d1b86 bdd00abf109741b0bc337b873391494e - 2576c862fc2e40f287558d88801cc32e 2576c862fc2e40f287558d88801cc32e] Lock "00000000-0000-0000-0000-000000000000" acquired by "nova.context.get_or_set_cached_cell_and_set_connections" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 01:34:15.351 2611 DEBUG oslo_concurrency.lockutils [req-5b8c36f6-d739-4a43-b5ec-a04cc5cc4a47 8b61ba503b2e487bbb0df8ec7a5d1b86 bdd00abf109741b0bc337b873391494e - 2576c862fc2e40f287558d88801cc32e 2576c862fc2e40f287558d88801cc32e] Lock "00000000-0000-0000-0000-000000000000" released by "nova.context.get_or_set_cached_cell_and_set_connections" :: held 0.002s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 01:34:15.380 2611 WARNING nova.scheduler.utils [req-5b8c36f6-d739-4a43-b5ec-a04cc5cc4a47 8b61ba503b2e487bbb0df8ec7a5d1b86 bdd00abf109741b0bc337b873391494e - 2576c862fc2e40f287558d88801cc32e 2576c862fc2e40f287558d88801cc32e] Failed to compute_task_build_instances: setup_instance_group() takes exactly 2 arguments (1 given)
2018-06-28 01:34:15.382 2611 WARNING nova.scheduler.utils [req-5b8c36f6-d739-4a43-b5ec-a04cc5cc4a47 8b61ba503b2e487bbb0df8ec7a5d1b86 bdd00abf109741b0bc337b873391494e - 2576c862fc2e40f287558d88801cc32e 2576c862fc2e40f287558d88801cc32e] [instance: 3d6c275e-f6e2-4ec0-bca2-63b8ca17cefb] Setting instance to ERROR state.
2018-06-28 01:34:15.563 2611 WARNING nova.image.glance [req-5b8c36f6-d739-4a43-b5ec-a04cc5cc4a47 8b61ba503b2e487bbb0df8ec7a5d1b86 bdd00abf109741b0bc337b873391494e - 2576c862fc2e40f287558d88801cc32e 2576c862fc2e40f287558d88801cc32e] No protocol specified in for api_server 'http://10.0.20.46:9292', please update [glance] api_servers with fully qualified url including scheme (http / https)
2018-06-28 01:34:15.564 2611 DEBUG nova.objects.instance [req-5b8c36f6-d739-4a43-b5ec-a04cc5cc4a47 8b61ba503b2e487bbb0df8ec7a5d1b86 bdd00abf109741b0bc337b873391494e - 2576c862fc2e40f287558d88801cc32e 2576c862fc2e40f287558d88801cc32e] Lazy-loading 'metadata' on Instance uuid 3d6c275e-f6e2-4ec0-bca2-63b8ca17cefb obj_load_attr /usr/lib/python2.7/site-packages/nova/objects/instance.py:1049
2018-06-28 01:34:15.676 2611 DEBUG nova.objects.instance [req-5b8c36f6-d739-4a43-b5ec-a04cc5cc4a47 8b61ba503b2e487bbb0df8ec7a5d1b86 bdd00abf109741b0bc337b873391494e - 2576c862fc2e40f287558d88801cc32e 2576c862fc2e40f287558d88801cc32e] Lazy-loading 'info_cache' on Instance uuid 3d6c275e-f6e2-4ec0-bca2-63b8ca17cefb obj_load_attr /usr/lib/python2.7/site-packages/nova/objects/instance.py:1049
2018-06-28 01:34:15.837 2611 DEBUG nova.notifications.objects.base [req-5b8c36f6-d739-4a43-b5ec-a04cc5cc4a47 8b61ba503b2e487bbb0df8ec7a5d1b86 bdd00abf109741b0bc337b873391494e - 2576c862fc2e40f287558d88801cc32e 2576c862fc2e40f287558d88801cc32e] Defaulting the value of the field 'projects' to None in FlavorPayload due to 'Cannot call _load_projects on orphaned Flavor object' populate_schema /usr/lib/python2.7/site-packages/nova/notifications/objects/base.py:125
2018-06-28 01:34:15.841 2611 DEBUG nova.objects.instance [req-5b8c36f6-d739-4a43-b5ec-a04cc5cc4a47 8b61ba503b2e487bbb0df8ec7a5d1b86 bdd00abf109741b0bc337b873391494e - 2576c862fc2e40f287558d88801cc32e 2576c862fc2e40f287558d88801cc32e] Lazy-loading 'tags' on Instance uuid 3d6c275e-f6e2-4ec0-bca2-63b8ca17cefb obj_load_attr /usr/lib/python2.7/site-packages/nova/objects/instance.py:1049

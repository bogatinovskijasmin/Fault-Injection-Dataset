2018-06-28 17:00:02.761 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:00:02.761 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:00:07.069 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:00:07.072 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:00:24.299 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:01:02.772 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:01:02.773 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:01:04.301 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:01:07.070 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:01:07.074 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:01:44.306 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:02:02.782 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:02:02.783 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:02:07.070 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:02:07.073 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:02:24.309 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:03:02.791 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:03:02.792 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:03:03.652 6320 DEBUG neutron.agent.l3.agent [req-27b1a5fb-579e-409e-b87b-04c48b70c216 ebf32bb049964a6b915c4ac95806a8c3 ba2956d5796946a28882d1702f3b1095 - - -] Got routers updated notification :[u'21d09e2b-67ad-43a0-acbc-977ad18a9828'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 17:03:03.655 6320 DEBUG neutron.agent.l3.agent [-] Starting router update for 21d09e2b-67ad-43a0-acbc-977ad18a9828, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 17:03:04.311 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:03:06.555 6320 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.linux.pd.add_router-8754704945518'] for router, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 17:03:06.556 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:03:06.557 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.add_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:03:06.557 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:06.570 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'add', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:06.587 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:06.605 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', 'link', 'set', 'lo', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:06.618 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'sysctl', '-w', 'net.ipv4.ip_forward=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:06.632 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'sysctl', '-w', 'net.ipv4.conf.all.arp_ignore=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:06.649 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'sysctl', '-w', 'net.ipv4.conf.all.arp_announce=2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:06.665 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:06.678 6320 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 17:03:06.679 6320 DEBUG neutron.agent.l3.router_info [-] adding internal network: prefix(qr-), port(4b90f113-d5b1-4247-857f-830d3ffe0893) _internal_network_added /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:444
2018-06-28 17:03:06.679 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-o', 'link', 'show', 'qr-4b90f113-d5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:06.701 6320 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-06-28 17:03:06.937 6320 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=None, port=qr-4b90f113-d5) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 17:03:06.938 6320 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Transaction caused no change do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:114
2018-06-28 17:03:06.940 6320 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): AddPortCommand(bridge=br-int, may_exist=False, port=qr-4b90f113-d5) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 17:03:06.941 6320 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=1): DbSetCommand(table=Interface, col_values=(('type', 'internal'), ('external_ids', {'iface-id': u'4b90f113-d5b1-4247-857f-830d3ffe0893', 'iface-status': 'active', 'attached-mac': u'fa:16:3e:03:26:be'})), record=qr-4b90f113-d5) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 17:03:06.969 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qr-4b90f113-d5', 'address', 'fa:16:3e:03:26:be'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:06.983 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:06.995 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qr-4b90f113-d5', 'netns', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.016 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', 'link', 'set', 'qr-4b90f113-d5', 'mtu', '1450'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.030 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', 'link', 'set', 'qr-4b90f113-d5', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.046 6320 DEBUG neutron.agent.linux.interface [-] init_router_port: device_name(qr-4b90f113-d5), namespace(qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828) init_router_port /usr/lib/python2.7/site-packages/neutron/agent/linux/interface.py:180
2018-06-28 17:03:07.047 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-o', 'link', 'show', 'qr-4b90f113-d5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.059 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', 'addr', 'show', 'qr-4b90f113-d5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.071 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:03:07.074 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-4', 'addr', 'add', '11.219.1.1/24', 'scope', 'global', 'dev', 'qr-4b90f113-d5', 'brd', '11.219.1.255'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.075 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:03:07.085 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-4', 'route', 'list', 'dev', 'qr-4b90f113-d5', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.098 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-6', 'route', 'list', 'dev', 'qr-4b90f113-d5', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.111 6320 DEBUG neutron.agent.l3.router_info [-] appending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-06-28T15:03:02Z', u'device_owner': u'network:router_interface', u'revision_number': 4, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'4cb26693-0aa3-45f2-90c3-c4edb5daa4fe', u'prefixlen': 24, u'ip_address': u'11.219.1.1'}], u'id': u'4b90f113-d5b1-4247-857f-830d3ffe0893', u'security_groups': [], u'binding:vif_details': {}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:03:26:be', u'project_id': u'ba2956d5796946a28882d1702f3b1095', u'status': u'DOWN', u'subnets': [{u'dns_nameservers': [u'8.8.4.4'], u'ipv6_ra_mode': None, u'gateway_ip': u'11.219.1.1', u'cidr': u'11.219.1.0/24', u'id': u'4cb26693-0aa3-45f2-90c3-c4edb5daa4fe', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'21d09e2b-67ad-43a0-acbc-977ad18a9828', u'name': u'', u'admin_state_up': True, u'network_id': u'408fcd7b-9a84-4c18-bba2-33382db35421', u'tenant_id': u'ba2956d5796946a28882d1702f3b1095', u'created_at': u'2018-06-28T15:03:00Z', u'mtu': 1450, u'extra_subnets': []} to internal_ports cache _process_internal_ports /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:555
2018-06-28 17:03:07.114 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.115 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-U', '-I', 'qr-4b90f113-d5', '-c', '1', '-w', '1.5', '11.219.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.128 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:03:07.128 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:03:07.129 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.142 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-A', '-I', 'qr-4b90f113-d5', '-c', '1', '-w', '1.5', '11.219.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.144 6320 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 17:03:07.146 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.169 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.185 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.203 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip6tables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.217 6320 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 106 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 17:03:07.219 6320 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 17:03:07.220 6320 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 17:03:07.221 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.238 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.253 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.271 6320 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 10 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 17:03:07.272 6320 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 17:03:07.273 6320 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_added--9223363282150369509'] for router, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 17:03:07.274 6320 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 17:03:07.275 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.298 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.315 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.329 6320 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 17 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 17:03:07.330 6320 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 17:03:07.331 6320 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/21d09e2b-67ad-43a0-acbc-977ad18a9828.pid get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-06-28 17:03:07.332 6320 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/21d09e2b-67ad-43a0-acbc-977ad18a9828.pid get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-06-28 17:03:07.334 6320 DEBUG neutron.agent.metadata.driver [-] haproxy_cfg = 
global
    log         /dev/log local0 debug
    log-tag     haproxy-metadata-proxy-21d09e2b-67ad-43a0-acbc-977ad18a9828
    user        neutron
    group       neutron
    maxconn     1024
    pidfile     /var/lib/neutron/external/pids/21d09e2b-67ad-43a0-acbc-977ad18a9828.pid
    daemon

defaults
    log global
    mode http
    option httplog
    option dontlognull
    option http-server-close
    option forwardfor
    retries                 3
    timeout http-request    30s
    timeout connect         30s
    timeout client          32s
    timeout server          32s
    timeout http-keep-alive 30s

listen listener
    bind 0.0.0.0:9697
    server metadata /var/lib/neutron/metadata_proxy
    http-request add-header X-Neutron-Router-ID 21d09e2b-67ad-43a0-acbc-977ad18a9828
 create_config_file /usr/lib/python2.7/site-packages/neutron/agent/metadata/driver.py:135
2018-06-28 17:03:07.336 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'haproxy', '-f', '/var/lib/neutron/ns-metadata-proxy/21d09e2b-67ad-43a0-acbc-977ad18a9828.conf'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:07.371 6320 DEBUG neutron.agent.l3.agent [-] Finished a router update for 21d09e2b-67ad-43a0-acbc-977ad18a9828 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 17:03:09.162 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-U', '-I', 'qr-4b90f113-d5', '-c', '1', '-w', '1.5', '11.219.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:09.186 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-A', '-I', 'qr-4b90f113-d5', '-c', '1', '-w', '1.5', '11.219.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:11.213 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-U', '-I', 'qr-4b90f113-d5', '-c', '1', '-w', '1.5', '11.219.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:11.236 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-A', '-I', 'qr-4b90f113-d5', '-c', '1', '-w', '1.5', '11.219.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:15.387 6320 DEBUG neutron.agent.l3.agent [req-c88288a0-d91d-42c0-8c8c-9b6796264169 ebf32bb049964a6b915c4ac95806a8c3 ba2956d5796946a28882d1702f3b1095 - - -] Got routers updated notification :[u'21d09e2b-67ad-43a0-acbc-977ad18a9828'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 17:03:15.391 6320 DEBUG neutron.agent.l3.agent [-] Starting router update for 21d09e2b-67ad-43a0-acbc-977ad18a9828, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 17:03:19.093 6320 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 17:03:19.094 6320 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 17:03:19.095 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.115 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:03:19.115 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:03:19.116 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.get_preserve_ips" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:03:19.116 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.get_preserve_ips" :: held 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:03:19.117 6320 DEBUG neutron.agent.l3.router_info [-] External gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-06-28T15:03:13Z', u'device_owner': u'network:router_gateway', u'revision_number': 3, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'606cc7a3-2eae-4ba0-be88-1f3c9fd67e5e', u'prefixlen': 24, u'ip_address': u'172.24.4.11'}], u'id': u'a77ef32e-db64-4091-b9e9-e3746b566e7d', u'security_groups': [], u'binding:vif_details': {}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:60:3d:b6', u'project_id': u'', u'status': u'DOWN', u'subnets': [{u'dns_nameservers': [], u'ipv6_ra_mode': None, u'gateway_ip': u'172.24.4.1', u'cidr': u'172.24.4.0/24', u'id': u'606cc7a3-2eae-4ba0-be88-1f3c9fd67e5e', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'21d09e2b-67ad-43a0-acbc-977ad18a9828', u'name': u'', u'admin_state_up': True, u'network_id': u'8fa9a212-be1e-480a-988d-8a3f899b6e3c', u'tenant_id': u'', u'created_at': u'2018-06-28T15:03:13Z', u'mtu': 1500, u'extra_subnets': []}), interface(qg-a77ef32e-db), ns(qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828) _external_gateway_added /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:692
2018-06-28 17:03:19.118 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-o', 'link', 'show', 'qg-a77ef32e-db'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.146 6320 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-06-28 17:03:19.167 6320 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=None, port=qg-a77ef32e-db) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 17:03:19.168 6320 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Transaction caused no change do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:114
2018-06-28 17:03:19.169 6320 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): AddPortCommand(bridge=br-int, may_exist=False, port=qg-a77ef32e-db) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 17:03:19.170 6320 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=1): DbSetCommand(table=Interface, col_values=(('type', 'internal'), ('external_ids', {'iface-id': u'a77ef32e-db64-4091-b9e9-e3746b566e7d', 'iface-status': 'active', 'attached-mac': u'fa:16:3e:60:3d:b6'})), record=qg-a77ef32e-db) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 17:03:19.210 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qg-a77ef32e-db', 'address', 'fa:16:3e:60:3d:b6'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.229 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.251 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qg-a77ef32e-db', 'netns', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.280 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', 'link', 'set', 'qg-a77ef32e-db', 'mtu', '1500'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.296 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', 'link', 'set', 'qg-a77ef32e-db', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.313 6320 DEBUG neutron.agent.linux.interface [-] init_router_port: device_name(qg-a77ef32e-db), namespace(qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828) init_router_port /usr/lib/python2.7/site-packages/neutron/agent/linux/interface.py:180
2018-06-28 17:03:19.314 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-o', 'link', 'show', 'qg-a77ef32e-db'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.331 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', 'addr', 'show', 'qg-a77ef32e-db'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.349 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-4', 'addr', 'add', '172.24.4.11/24', 'scope', 'global', 'dev', 'qg-a77ef32e-db', 'brd', '172.24.4.255'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.363 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-4', 'route', 'list', 'dev', 'qg-a77ef32e-db', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.383 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-6', 'route', 'list', 'dev', 'qg-a77ef32e-db', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.400 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-4', 'route', 'list', 'dev', 'qg-a77ef32e-db'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.415 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-6', 'route', 'list', 'dev', 'qg-a77ef32e-db'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.429 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-a77ef32e-db'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.446 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'sysctl', '-w', 'net.ipv6.conf.qg-a77ef32e-db.accept_ra=2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.466 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'sysctl', '-w', 'net.ipv6.conf.qg-a77ef32e-db.forwarding=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.492 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_gw_interface" :: waited 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:03:19.493 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.add_gw_interface" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:03:19.494 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.495 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-U', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.11'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.522 6320 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 17:03:19.524 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.546 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-A', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.11'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.555 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.572 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.594 6320 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 14 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 17:03:19.595 6320 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 17:03:19.595 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', 'addr', 'show', 'qg-a77ef32e-db'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.612 6320 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 17:03:19.615 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.640 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.657 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:19.677 6320 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 5 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 17:03:19.678 6320 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 17:03:19.679 6320 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.linux.pd.update_router-8754704945533', 'neutron.agent.metadata.driver.after_router_updated-8754704408340'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 17:03:19.680 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:03:19.681 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:03:19.681 6320 DEBUG neutron.agent.l3.agent [-] Finished a router update for 21d09e2b-67ad-43a0-acbc-977ad18a9828 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 17:03:21.580 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-U', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.11'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:21.613 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-A', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.11'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:23.638 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-U', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.11'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:23.663 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-A', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.11'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:03:44.314 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:04:02.801 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:04:02.802 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.002s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:04:07.072 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.002s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:04:07.076 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:04:24.317 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:04:41.381 6320 DEBUG neutron.agent.l3.agent [req-62d5a78c-30d4-4eb4-8437-da74ebb5c4b0 ebf32bb049964a6b915c4ac95806a8c3 ba2956d5796946a28882d1702f3b1095 - - -] Got routers updated notification :[u'21d09e2b-67ad-43a0-acbc-977ad18a9828'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 17:04:41.384 6320 DEBUG neutron.agent.l3.agent [-] Starting router update for 21d09e2b-67ad-43a0-acbc-977ad18a9828, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 17:04:42.328 6320 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 17:04:42.329 6320 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 17:04:42.329 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.357 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:04:42.358 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:04:42.359 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.get_preserve_ips" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:04:42.360 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.get_preserve_ips" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:04:42.360 6320 DEBUG neutron.agent.l3.router_info [-] External gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-06-28T15:03:21Z', u'device_owner': u'network:router_gateway', u'revision_number': 6, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'606cc7a3-2eae-4ba0-be88-1f3c9fd67e5e', u'prefixlen': 24, u'ip_address': u'172.24.4.11'}], u'id': u'a77ef32e-db64-4091-b9e9-e3746b566e7d', u'security_groups': [], u'binding:vif_details': {u'port_filter': True, u'datapath_type': u'system', u'ovs_hybrid_plug': True}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:60:3d:b6', u'project_id': u'', u'status': u'ACTIVE', u'subnets': [{u'dns_nameservers': [], u'ipv6_ra_mode': None, u'gateway_ip': u'172.24.4.1', u'cidr': u'172.24.4.0/24', u'id': u'606cc7a3-2eae-4ba0-be88-1f3c9fd67e5e', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'21d09e2b-67ad-43a0-acbc-977ad18a9828', u'name': u'', u'admin_state_up': True, u'network_id': u'8fa9a212-be1e-480a-988d-8a3f899b6e3c', u'tenant_id': u'', u'created_at': u'2018-06-28T15:03:13Z', u'mtu': 1500, u'extra_subnets': []}), interface(qg-a77ef32e-db), ns(qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828) _external_gateway_added /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:692
2018-06-28 17:04:42.360 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-o', 'link', 'show', 'qg-a77ef32e-db'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.378 6320 INFO neutron.agent.linux.interface [-] Device qg-a77ef32e-db already exists
2018-06-28 17:04:42.379 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', 'link', 'set', 'qg-a77ef32e-db', 'mtu', '1500'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.392 6320 DEBUG neutron.agent.linux.interface [-] init_router_port: device_name(qg-a77ef32e-db), namespace(qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828) init_router_port /usr/lib/python2.7/site-packages/neutron/agent/linux/interface.py:180
2018-06-28 17:04:42.393 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-o', 'link', 'show', 'qg-a77ef32e-db'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.406 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', 'addr', 'show', 'qg-a77ef32e-db'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.419 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-4', 'route', 'list', 'dev', 'qg-a77ef32e-db', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.431 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-6', 'route', 'list', 'dev', 'qg-a77ef32e-db', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.441 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-4', 'route', 'list', 'dev', 'qg-a77ef32e-db'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.458 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-6', 'route', 'list', 'dev', 'qg-a77ef32e-db'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.468 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-a77ef32e-db'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.481 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'sysctl', '-w', 'net.ipv6.conf.qg-a77ef32e-db.accept_ra=2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.497 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'sysctl', '-w', 'net.ipv6.conf.qg-a77ef32e-db.forwarding=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.515 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.516 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-U', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.11'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.536 6320 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 17:04:42.537 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.547 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-A', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.11'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.564 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.580 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.596 6320 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 7 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 17:04:42.596 6320 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 17:04:42.597 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', 'addr', 'show', 'qg-a77ef32e-db'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.609 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-4', 'addr', 'add', '172.24.4.2/32', 'scope', 'global', 'dev', 'qg-a77ef32e-db', 'brd', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.624 6320 DEBUG neutron.agent.l3.router_info [-] Floating ip 85de513a-9154-46ae-a2e0-ab835dbc51e0 added, status ACTIVE process_floating_ip_addresses /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:361
2018-06-28 17:04:42.625 6320 DEBUG neutron.agent.l3.router_info [-] Sending floating ip statuses: {u'85de513a-9154-46ae-a2e0-ab835dbc51e0': 'ACTIVE'} update_fip_statuses /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:942
2018-06-28 17:04:42.632 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-U', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.655 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-A', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.879 6320 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 17:04:42.880 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.912 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:42.931 6320 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 0 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 17:04:42.932 6320 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 17:04:42.933 6320 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.linux.pd.update_router-8754704945533', 'neutron.agent.metadata.driver.after_router_updated-8754704408340'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 17:04:42.934 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:04:42.935 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:04:42.936 6320 DEBUG neutron.agent.l3.agent [-] Finished a router update for 21d09e2b-67ad-43a0-acbc-977ad18a9828 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 17:04:44.566 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-U', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.11'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:44.588 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-A', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.11'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:44.719 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-U', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:44.745 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-A', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:46.609 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-U', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.11'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:46.652 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-A', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.11'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:46.777 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-U', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:04:46.814 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'arping', '-A', '-I', 'qg-a77ef32e-db', '-c', '1', '-w', '1.5', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:05:02.802 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:05:02.806 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:05:04.320 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:05:07.071 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:05:07.074 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:05:44.323 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:06:02.804 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:06:02.805 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:06:07.071 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:06:07.075 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:06:24.327 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:07:02.806 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:07:02.807 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:07:04.330 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:07:07.071 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:07:07.074 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:07:44.332 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:08:02.807 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:08:02.809 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.002s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:08:07.072 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:08:07.076 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:08:24.336 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:09:02.816 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:09:02.817 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.002s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:09:04.338 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:09:07.073 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:09:07.075 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.002s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:09:44.341 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:10:02.818 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:10:02.818 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:10:07.073 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:10:07.075 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.002s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:10:24.343 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:11:02.819 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:11:02.820 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:11:04.346 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:11:07.073 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:11:07.077 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:11:33.781 6320 DEBUG neutron.agent.l3.agent [req-69e54c2a-fe95-4e70-8f07-e207562a60fe ebf32bb049964a6b915c4ac95806a8c3 ba2956d5796946a28882d1702f3b1095 - - -] Got routers updated notification :[u'21d09e2b-67ad-43a0-acbc-977ad18a9828'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 17:11:33.783 6320 DEBUG neutron.agent.l3.agent [-] Starting router update for 21d09e2b-67ad-43a0-acbc-977ad18a9828, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 17:11:34.707 6320 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 17:11:34.708 6320 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 17:11:34.709 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:11:34.732 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:11:34.733 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:11:34.734 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:11:34.748 6320 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 17:11:34.750 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:11:34.773 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:11:34.786 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:11:34.802 6320 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 7 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 17:11:34.803 6320 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 17:11:34.803 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', 'addr', 'show', 'qg-a77ef32e-db'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:11:34.818 6320 DEBUG neutron.agent.l3.router_info [-] Removing floating ip 172.24.4.2/32 from interface qg-a77ef32e-db in namespace qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828 process_floating_ip_addresses /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:384
2018-06-28 17:11:34.819 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-4', 'addr', 'del', '172.24.4.2/32', 'dev', 'qg-a77ef32e-db'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:11:34.836 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'conntrack', '-D', '-d', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:11:34.851 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'conntrack', '-D', '-q', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:11:34.866 6320 DEBUG neutron.agent.l3.router_info [-] Sending floating ip statuses: {u'85de513a-9154-46ae-a2e0-ab835dbc51e0': 'DOWN'} update_fip_statuses /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:942
2018-06-28 17:11:34.932 6320 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 17:11:34.933 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:11:34.952 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:11:34.967 6320 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 0 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 17:11:34.968 6320 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 17:11:34.968 6320 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.linux.pd.update_router-8754704945533', 'neutron.agent.metadata.driver.after_router_updated-8754704408340'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 17:11:34.969 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:11:34.970 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:11:34.970 6320 DEBUG neutron.agent.l3.agent [-] Finished a router update for 21d09e2b-67ad-43a0-acbc-977ad18a9828 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 17:11:44.348 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:12:02.821 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:12:02.823 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:12:07.074 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:12:07.077 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:12:24.350 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:12:30.811 6320 DEBUG neutron.agent.l3.agent [req-18bb5125-cd47-4adb-8512-89739b3af597 95cf4ee261b740498c206cbae584ebbe 046e8009a8b544bfbe9ff50b26903464 - - -] Got routers updated notification :[u'21d09e2b-67ad-43a0-acbc-977ad18a9828'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 17:12:30.814 6320 DEBUG neutron.agent.l3.agent [-] Starting router update for 21d09e2b-67ad-43a0-acbc-977ad18a9828, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 17:12:31.878 6320 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 17:12:31.880 6320 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 17:12:31.881 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:31.906 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:12:31.907 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:12:31.907 6320 DEBUG neutron.agent.l3.router_info [-] External gateway removed: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-06-28T15:03:21Z', u'device_owner': u'network:router_gateway', u'revision_number': 6, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'606cc7a3-2eae-4ba0-be88-1f3c9fd67e5e', u'prefixlen': 24, u'ip_address': u'172.24.4.11'}], u'id': u'a77ef32e-db64-4091-b9e9-e3746b566e7d', u'security_groups': [], u'binding:vif_details': {u'port_filter': True, u'datapath_type': u'system', u'ovs_hybrid_plug': True}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:60:3d:b6', u'project_id': u'', u'status': u'ACTIVE', u'subnets': [{u'dns_nameservers': [], u'ipv6_ra_mode': None, u'gateway_ip': u'172.24.4.1', u'cidr': u'172.24.4.0/24', u'id': u'606cc7a3-2eae-4ba0-be88-1f3c9fd67e5e', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'21d09e2b-67ad-43a0-acbc-977ad18a9828', u'name': u'', u'admin_state_up': True, u'network_id': u'8fa9a212-be1e-480a-988d-8a3f899b6e3c', u'tenant_id': u'', u'created_at': u'2018-06-28T15:03:13Z', u'mtu': 1500, u'extra_subnets': []}), interface(qg-a77ef32e-db) external_gateway_removed /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:753
2018-06-28 17:12:31.909 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-4', 'addr', 'del', '172.24.4.11/24', 'dev', 'qg-a77ef32e-db'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:31.930 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'conntrack', '-D', '-d', '172.24.4.11'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:31.946 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'conntrack', '-D', '-q', '172.24.4.11'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:31.967 6320 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-06-28 17:12:31.992 6320 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=br-int, port=qg-a77ef32e-db) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 17:12:32.026 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_gw_interface" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:12:32.027 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_gw_interface" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:12:32.028 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:32.051 6320 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 17:12:32.053 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:32.079 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:32.098 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:32.121 6320 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 13 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 17:12:32.122 6320 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 17:12:32.123 6320 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 17:12:32.125 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:32.159 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:32.179 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:32.208 6320 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 5 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 17:12:32.208 6320 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 17:12:32.209 6320 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.linux.pd.update_router-8754704945533', 'neutron.agent.metadata.driver.after_router_updated-8754704408340'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 17:12:32.210 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:12:32.210 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:12:32.211 6320 DEBUG neutron.agent.l3.agent [-] Finished a router update for 21d09e2b-67ad-43a0-acbc-977ad18a9828 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 17:12:54.705 6320 DEBUG neutron.agent.l3.agent [req-fd164eab-47a5-4fe7-b33a-437f37b57bcf 95cf4ee261b740498c206cbae584ebbe 046e8009a8b544bfbe9ff50b26903464 - - -] Got routers updated notification :[u'21d09e2b-67ad-43a0-acbc-977ad18a9828'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 17:12:54.708 6320 DEBUG neutron.agent.l3.agent [-] Starting router update for 21d09e2b-67ad-43a0-acbc-977ad18a9828, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 17:12:55.273 6320 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 17:12:55.273 6320 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 17:12:55.274 6320 DEBUG neutron.agent.l3.router_info [-] removing internal network: port(4b90f113-d5b1-4247-857f-830d3ffe0893) interface(qr-4b90f113-d5) internal_network_removed /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:477
2018-06-28 17:12:55.274 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip', '-o', 'link', 'show', 'qr-4b90f113-d5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:55.290 6320 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-06-28 17:12:55.305 6320 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=br-int, port=qr-4b90f113-d5) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 17:12:55.333 6320 DEBUG neutron.agent.l3.router_info [-] removing port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-06-28T15:03:02Z', u'device_owner': u'network:router_interface', u'revision_number': 4, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'4cb26693-0aa3-45f2-90c3-c4edb5daa4fe', u'prefixlen': 24, u'ip_address': u'11.219.1.1'}], u'id': u'4b90f113-d5b1-4247-857f-830d3ffe0893', u'security_groups': [], u'binding:vif_details': {}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:03:26:be', u'project_id': u'ba2956d5796946a28882d1702f3b1095', u'status': u'DOWN', u'subnets': [{u'dns_nameservers': [u'8.8.4.4'], u'ipv6_ra_mode': None, u'gateway_ip': u'11.219.1.1', u'cidr': u'11.219.1.0/24', u'id': u'4cb26693-0aa3-45f2-90c3-c4edb5daa4fe', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'21d09e2b-67ad-43a0-acbc-977ad18a9828', u'name': u'', u'admin_state_up': True, u'network_id': u'408fcd7b-9a84-4c18-bba2-33382db35421', u'tenant_id': u'ba2956d5796946a28882d1702f3b1095', u'created_at': u'2018-06-28T15:03:00Z', u'mtu': 1450, u'extra_subnets': []} from internal_ports cache _process_internal_ports /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:567
2018-06-28 17:12:55.335 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:55.348 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:12:55.349 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:12:55.349 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:55.361 6320 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 17:12:55.362 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:55.378 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:55.391 6320 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 0 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 17:12:55.398 6320 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 17:12:55.399 6320 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 17:12:55.399 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:55.414 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:55.424 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:12:55.438 6320 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 10 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 17:12:55.438 6320 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 17:12:55.439 6320 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.linux.pd.update_router-8754704945533', 'neutron.agent.metadata.driver.after_router_updated-8754704408340'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 17:12:55.439 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:12:55.440 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:12:55.440 6320 DEBUG neutron.agent.l3.agent [-] Finished a router update for 21d09e2b-67ad-43a0-acbc-977ad18a9828 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 17:13:02.821 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:13:02.822 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:13:03.806 6320 DEBUG neutron.agent.l3.agent [req-882026b6-20b7-4c5c-9f03-74b005b75410 95cf4ee261b740498c206cbae584ebbe 046e8009a8b544bfbe9ff50b26903464 - - -] Got router deleted notification for 21d09e2b-67ad-43a0-acbc-977ad18a9828 router_deleted /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:424
2018-06-28 17:13:03.808 6320 DEBUG neutron.agent.l3.agent [-] Starting router update for 21d09e2b-67ad-43a0-acbc-977ad18a9828, action 1, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 17:13:03.809 6320 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.before_router_removed--9223363282150367461'] for router, before_delete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 17:13:03.814 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['kill', '-9', '10560'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:13:03.831 6320 DEBUG neutron.agent.l3.router_info [-] process router delete process_delete /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1114
2018-06-28 17:13:03.832 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:13:03.856 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:13:03.871 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:13:03.872 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:13:03.872 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:13:03.886 6320 DEBUG neutron.agent.l3.router_info [-] Terminating radvd daemon in router device: 21d09e2b-67ad-43a0-acbc-977ad18a9828 disable_radvd /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:520
2018-06-28 17:13:03.887 6320 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/21d09e2b-67ad-43a0-acbc-977ad18a9828.pid.radvd get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-06-28 17:13:03.888 6320 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/21d09e2b-67ad-43a0-acbc-977ad18a9828.pid.radvd get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-06-28 17:13:03.888 6320 DEBUG neutron.agent.linux.external_process [-] No process started for 21d09e2b-67ad-43a0-acbc-977ad18a9828 disable /usr/lib/python2.7/site-packages/neutron/agent/linux/external_process.py:126
2018-06-28 17:13:03.889 6320 DEBUG neutron.agent.linux.ra [-] radvd disabled for router 21d09e2b-67ad-43a0-acbc-977ad18a9828 disable /usr/lib/python2.7/site-packages/neutron/agent/linux/ra.py:190
2018-06-28 17:13:03.890 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:13:03.899 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:13:03.915 6320 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'delete', 'qrouter-21d09e2b-67ad-43a0-acbc-977ad18a9828'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 17:13:03.926 6320 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.linux.pd.remove_router--9223363282149830313'] for router, after_delete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 17:13:03.927 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:13:03.928 6320 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:13:03.928 6320 DEBUG neutron.agent.l3.agent [-] Finished a router update for 21d09e2b-67ad-43a0-acbc-977ad18a9828 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:564
2018-06-28 17:13:04.353 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:13:07.074 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:13:07.077 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:13:44.359 6320 DEBUG oslo_service.periodic_task [req-95692be3-668d-4a52-b663-b2df5f49ecc3 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 17:14:02.823 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:14:02.824 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 17:14:07.074 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 17:14:07.077 6320 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282

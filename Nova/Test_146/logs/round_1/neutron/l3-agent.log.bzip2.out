2018-06-28 18:32:50.515 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:32:50.516 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:32:54.622 5943 DEBUG oslo_service.periodic_task [req-4e1f437b-c135-4915-b8df-ab44141e354e - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 18:33:10.195 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:33:10.198 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:33:34.629 5943 DEBUG oslo_service.periodic_task [req-4e1f437b-c135-4915-b8df-ab44141e354e - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 18:33:50.523 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:33:50.524 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:34:10.197 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:34:10.199 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.002s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:34:14.635 5943 DEBUG oslo_service.periodic_task [req-4e1f437b-c135-4915-b8df-ab44141e354e - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 18:34:50.531 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:34:50.532 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:34:54.694 5943 DEBUG oslo_service.periodic_task [req-4e1f437b-c135-4915-b8df-ab44141e354e - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 18:35:10.200 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:35:10.202 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.002s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:35:34.269 5943 DEBUG neutron.agent.l3.agent [req-e3c87c91-0500-4efe-afd9-3d520e21a368 ba41ff9cbcfb44fb8e09d452f78a1486 84cac79835b94f1e95ff5083f3dab328 - - -] Got routers updated notification :[u'adfb2125-797f-46f6-860f-c40cfa25f2c5'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 18:35:34.271 5943 DEBUG neutron.agent.l3.agent [-] Starting router update for adfb2125-797f-46f6-860f-c40cfa25f2c5, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 18:35:34.697 5943 DEBUG oslo_service.periodic_task [req-4e1f437b-c135-4915-b8df-ab44141e354e - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 18:35:37.579 5943 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.linux.pd.add_router-8730959383376'] for router, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 18:35:37.580 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:35:37.580 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.add_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:35:37.581 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:37.592 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'add', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:37.611 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:37.633 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', 'link', 'set', 'lo', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:37.645 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'sysctl', '-w', 'net.ipv4.ip_forward=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:37.658 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'sysctl', '-w', 'net.ipv4.conf.all.arp_ignore=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:37.671 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'sysctl', '-w', 'net.ipv4.conf.all.arp_announce=2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:37.688 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:37.705 5943 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 18:35:37.706 5943 DEBUG neutron.agent.l3.router_info [-] adding internal network: prefix(qr-), port(3df495cf-9b02-4a7c-8e56-d825da7dff12) _internal_network_added /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:444
2018-06-28 18:35:37.706 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-o', 'link', 'show', 'qr-3df495cf-9b'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:37.727 5943 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-06-28 18:35:37.969 5943 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=None, port=qr-3df495cf-9b) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 18:35:37.970 5943 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Transaction caused no change do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:114
2018-06-28 18:35:37.971 5943 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): AddPortCommand(bridge=br-int, may_exist=False, port=qr-3df495cf-9b) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 18:35:37.973 5943 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=1): DbSetCommand(table=Interface, col_values=(('type', 'internal'), ('external_ids', {'iface-id': u'3df495cf-9b02-4a7c-8e56-d825da7dff12', 'iface-status': 'active', 'attached-mac': u'fa:16:3e:40:71:95'})), record=qr-3df495cf-9b) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 18:35:38.010 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qr-3df495cf-9b', 'address', 'fa:16:3e:40:71:95'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.021 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.031 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qr-3df495cf-9b', 'netns', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.053 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', 'link', 'set', 'qr-3df495cf-9b', 'mtu', '1450'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.066 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', 'link', 'set', 'qr-3df495cf-9b', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.079 5943 DEBUG neutron.agent.linux.interface [-] init_router_port: device_name(qr-3df495cf-9b), namespace(qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5) init_router_port /usr/lib/python2.7/site-packages/neutron/agent/linux/interface.py:180
2018-06-28 18:35:38.080 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-o', 'link', 'show', 'qr-3df495cf-9b'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.093 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', 'addr', 'show', 'qr-3df495cf-9b'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.106 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-4', 'addr', 'add', '11.98.1.1/24', 'scope', 'global', 'dev', 'qr-3df495cf-9b', 'brd', '11.98.1.255'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.120 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-4', 'route', 'list', 'dev', 'qr-3df495cf-9b', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.133 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-6', 'route', 'list', 'dev', 'qr-3df495cf-9b', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.144 5943 DEBUG neutron.agent.l3.router_info [-] appending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-06-28T16:35:33Z', u'device_owner': u'network:router_interface', u'revision_number': 4, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'6478efe1-95ea-4037-ad8c-420be33bff8c', u'prefixlen': 24, u'ip_address': u'11.98.1.1'}], u'id': u'3df495cf-9b02-4a7c-8e56-d825da7dff12', u'security_groups': [], u'binding:vif_details': {}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:40:71:95', u'project_id': u'84cac79835b94f1e95ff5083f3dab328', u'status': u'DOWN', u'subnets': [{u'dns_nameservers': [u'8.8.4.4'], u'ipv6_ra_mode': None, u'gateway_ip': u'11.98.1.1', u'cidr': u'11.98.1.0/24', u'id': u'6478efe1-95ea-4037-ad8c-420be33bff8c', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'adfb2125-797f-46f6-860f-c40cfa25f2c5', u'name': u'', u'admin_state_up': True, u'network_id': u'd0047faf-791e-4a9b-9e64-c727c5f741c4', u'tenant_id': u'84cac79835b94f1e95ff5083f3dab328', u'created_at': u'2018-06-28T16:35:31Z', u'mtu': 1450, u'extra_subnets': []} to internal_ports cache _process_internal_ports /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:555
2018-06-28 18:35:38.145 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.146 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-U', '-I', 'qr-3df495cf-9b', '-c', '1', '-w', '1.5', '11.98.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.159 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:35:38.161 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:35:38.161 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.176 5943 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 18:35:38.179 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.181 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-A', '-I', 'qr-3df495cf-9b', '-c', '1', '-w', '1.5', '11.98.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.201 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.218 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.234 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip6tables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.250 5943 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 106 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 18:35:38.251 5943 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 18:35:38.253 5943 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 18:35:38.254 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.274 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.288 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.305 5943 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 10 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 18:35:38.306 5943 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 18:35:38.307 5943 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_added-8730958844421'] for router, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 18:35:38.308 5943 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 18:35:38.309 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.329 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.343 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.362 5943 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 17 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 18:35:38.362 5943 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 18:35:38.363 5943 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/adfb2125-797f-46f6-860f-c40cfa25f2c5.pid get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-06-28 18:35:38.364 5943 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/adfb2125-797f-46f6-860f-c40cfa25f2c5.pid get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-06-28 18:35:38.366 5943 DEBUG neutron.agent.metadata.driver [-] haproxy_cfg = 
global
    log         /dev/log local0 debug
    log-tag     haproxy-metadata-proxy-adfb2125-797f-46f6-860f-c40cfa25f2c5
    user        neutron
    group       neutron
    maxconn     1024
    pidfile     /var/lib/neutron/external/pids/adfb2125-797f-46f6-860f-c40cfa25f2c5.pid
    daemon

defaults
    log global
    mode http
    option httplog
    option dontlognull
    option http-server-close
    option forwardfor
    retries                 3
    timeout http-request    30s
    timeout connect         30s
    timeout client          32s
    timeout server          32s
    timeout http-keep-alive 30s

listen listener
    bind 0.0.0.0:9697
    server metadata /var/lib/neutron/metadata_proxy
    http-request add-header X-Neutron-Router-ID adfb2125-797f-46f6-860f-c40cfa25f2c5
 create_config_file /usr/lib/python2.7/site-packages/neutron/agent/metadata/driver.py:135
2018-06-28 18:35:38.366 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'haproxy', '-f', '/var/lib/neutron/ns-metadata-proxy/adfb2125-797f-46f6-860f-c40cfa25f2c5.conf'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:38.399 5943 DEBUG neutron.agent.l3.agent [-] Finished a router update for adfb2125-797f-46f6-860f-c40cfa25f2c5 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 18:35:40.207 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-U', '-I', 'qr-3df495cf-9b', '-c', '1', '-w', '1.5', '11.98.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:40.229 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-A', '-I', 'qr-3df495cf-9b', '-c', '1', '-w', '1.5', '11.98.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:42.251 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-U', '-I', 'qr-3df495cf-9b', '-c', '1', '-w', '1.5', '11.98.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:42.271 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-A', '-I', 'qr-3df495cf-9b', '-c', '1', '-w', '1.5', '11.98.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:45.592 5943 DEBUG neutron.agent.l3.agent [req-8c739984-7609-49cb-97ce-44b348cf4112 ba41ff9cbcfb44fb8e09d452f78a1486 84cac79835b94f1e95ff5083f3dab328 - - -] Got routers updated notification :[u'adfb2125-797f-46f6-860f-c40cfa25f2c5'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 18:35:45.595 5943 DEBUG neutron.agent.l3.agent [-] Starting router update for adfb2125-797f-46f6-860f-c40cfa25f2c5, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 18:35:48.751 5943 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 18:35:48.752 5943 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 18:35:48.752 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:48.772 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:35:48.773 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:35:48.773 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.get_preserve_ips" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:35:48.774 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.get_preserve_ips" :: held 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:35:48.774 5943 DEBUG neutron.agent.l3.router_info [-] External gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-06-28T16:35:44Z', u'device_owner': u'network:router_gateway', u'revision_number': 3, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'0db29b77-dce9-468d-9f4c-d777953f217f', u'prefixlen': 24, u'ip_address': u'172.24.4.14'}], u'id': u'6a56a25c-a50c-4042-89de-95006e7c6cdf', u'security_groups': [], u'binding:vif_details': {}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:f9:7d:c1', u'project_id': u'', u'status': u'DOWN', u'subnets': [{u'dns_nameservers': [], u'ipv6_ra_mode': None, u'gateway_ip': u'172.24.4.1', u'cidr': u'172.24.4.0/24', u'id': u'0db29b77-dce9-468d-9f4c-d777953f217f', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'adfb2125-797f-46f6-860f-c40cfa25f2c5', u'name': u'', u'admin_state_up': True, u'network_id': u'65a63b5d-4ab6-4a89-8fc5-4ab4c578efe5', u'tenant_id': u'', u'created_at': u'2018-06-28T16:35:43Z', u'mtu': 1500, u'extra_subnets': []}), interface(qg-6a56a25c-a5), ns(qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5) _external_gateway_added /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:692
2018-06-28 18:35:48.774 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-o', 'link', 'show', 'qg-6a56a25c-a5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:48.790 5943 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-06-28 18:35:48.813 5943 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=None, port=qg-6a56a25c-a5) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 18:35:48.815 5943 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Transaction caused no change do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:114
2018-06-28 18:35:48.816 5943 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): AddPortCommand(bridge=br-int, may_exist=False, port=qg-6a56a25c-a5) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 18:35:48.819 5943 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=1): DbSetCommand(table=Interface, col_values=(('type', 'internal'), ('external_ids', {'iface-id': u'6a56a25c-a50c-4042-89de-95006e7c6cdf', 'iface-status': 'active', 'attached-mac': u'fa:16:3e:f9:7d:c1'})), record=qg-6a56a25c-a5) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 18:35:48.848 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qg-6a56a25c-a5', 'address', 'fa:16:3e:f9:7d:c1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:48.859 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:48.872 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qg-6a56a25c-a5', 'netns', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:48.894 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', 'link', 'set', 'qg-6a56a25c-a5', 'mtu', '1500'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:48.904 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', 'link', 'set', 'qg-6a56a25c-a5', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:48.919 5943 DEBUG neutron.agent.linux.interface [-] init_router_port: device_name(qg-6a56a25c-a5), namespace(qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5) init_router_port /usr/lib/python2.7/site-packages/neutron/agent/linux/interface.py:180
2018-06-28 18:35:48.920 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-o', 'link', 'show', 'qg-6a56a25c-a5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:48.932 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', 'addr', 'show', 'qg-6a56a25c-a5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:48.944 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-4', 'addr', 'add', '172.24.4.14/24', 'scope', 'global', 'dev', 'qg-6a56a25c-a5', 'brd', '172.24.4.255'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:48.956 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-4', 'route', 'list', 'dev', 'qg-6a56a25c-a5', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:48.969 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-6', 'route', 'list', 'dev', 'qg-6a56a25c-a5', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:48.980 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-4', 'route', 'list', 'dev', 'qg-6a56a25c-a5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:48.990 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-6', 'route', 'list', 'dev', 'qg-6a56a25c-a5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:49.002 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-6a56a25c-a5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:49.014 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'sysctl', '-w', 'net.ipv6.conf.qg-6a56a25c-a5.accept_ra=2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:49.029 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'sysctl', '-w', 'net.ipv6.conf.qg-6a56a25c-a5.forwarding=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:49.042 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_gw_interface" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:35:49.043 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.add_gw_interface" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:35:49.043 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:49.044 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-U', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.14'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:49.061 5943 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 18:35:49.063 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:49.071 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-A', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.14'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:49.083 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:49.097 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:49.111 5943 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 14 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 18:35:49.111 5943 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 18:35:49.112 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', 'addr', 'show', 'qg-6a56a25c-a5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:49.126 5943 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 18:35:49.126 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:49.146 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:49.159 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:49.174 5943 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 5 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 18:35:49.175 5943 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 18:35:49.175 5943 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_updated--9223363305895931155', 'neutron.agent.linux.pd.update_router-8730959383391'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 18:35:49.176 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:35:49.177 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:35:49.178 5943 DEBUG neutron.agent.l3.agent [-] Finished a router update for adfb2125-797f-46f6-860f-c40cfa25f2c5 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 18:35:50.532 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:35:50.532 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:35:51.090 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-U', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.14'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:51.114 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-A', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.14'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:53.133 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-U', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.14'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:35:53.153 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-A', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.14'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:36:10.203 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:36:10.207 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:36:14.700 5943 DEBUG oslo_service.periodic_task [req-4e1f437b-c135-4915-b8df-ab44141e354e - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 18:36:50.533 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:36:50.534 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.002s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:36:54.702 5943 DEBUG oslo_service.periodic_task [req-4e1f437b-c135-4915-b8df-ab44141e354e - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 18:37:09.393 5943 DEBUG neutron.agent.l3.agent [req-019f47fd-d032-4c89-9223-ae1c0c61eae4 ba41ff9cbcfb44fb8e09d452f78a1486 84cac79835b94f1e95ff5083f3dab328 - - -] Got routers updated notification :[u'adfb2125-797f-46f6-860f-c40cfa25f2c5'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 18:37:09.395 5943 DEBUG neutron.agent.l3.agent [-] Starting router update for adfb2125-797f-46f6-860f-c40cfa25f2c5, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 18:37:10.200 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:37:10.204 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:37:10.757 5943 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 18:37:10.759 5943 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 18:37:10.760 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:10.785 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:37:10.786 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:37:10.787 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.get_preserve_ips" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:37:10.787 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.get_preserve_ips" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:37:10.788 5943 DEBUG neutron.agent.l3.router_info [-] External gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-06-28T16:35:49Z', u'device_owner': u'network:router_gateway', u'revision_number': 6, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'0db29b77-dce9-468d-9f4c-d777953f217f', u'prefixlen': 24, u'ip_address': u'172.24.4.14'}], u'id': u'6a56a25c-a50c-4042-89de-95006e7c6cdf', u'security_groups': [], u'binding:vif_details': {u'port_filter': True, u'datapath_type': u'system', u'ovs_hybrid_plug': True}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:f9:7d:c1', u'project_id': u'', u'status': u'ACTIVE', u'subnets': [{u'dns_nameservers': [], u'ipv6_ra_mode': None, u'gateway_ip': u'172.24.4.1', u'cidr': u'172.24.4.0/24', u'id': u'0db29b77-dce9-468d-9f4c-d777953f217f', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'adfb2125-797f-46f6-860f-c40cfa25f2c5', u'name': u'', u'admin_state_up': True, u'network_id': u'65a63b5d-4ab6-4a89-8fc5-4ab4c578efe5', u'tenant_id': u'', u'created_at': u'2018-06-28T16:35:43Z', u'mtu': 1500, u'extra_subnets': []}), interface(qg-6a56a25c-a5), ns(qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5) _external_gateway_added /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:692
2018-06-28 18:37:10.789 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-o', 'link', 'show', 'qg-6a56a25c-a5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:10.801 5943 INFO neutron.agent.linux.interface [-] Device qg-6a56a25c-a5 already exists
2018-06-28 18:37:10.802 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', 'link', 'set', 'qg-6a56a25c-a5', 'mtu', '1500'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:10.815 5943 DEBUG neutron.agent.linux.interface [-] init_router_port: device_name(qg-6a56a25c-a5), namespace(qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5) init_router_port /usr/lib/python2.7/site-packages/neutron/agent/linux/interface.py:180
2018-06-28 18:37:10.816 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-o', 'link', 'show', 'qg-6a56a25c-a5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:10.830 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', 'addr', 'show', 'qg-6a56a25c-a5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:10.850 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-4', 'route', 'list', 'dev', 'qg-6a56a25c-a5', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:10.866 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-6', 'route', 'list', 'dev', 'qg-6a56a25c-a5', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:10.882 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-4', 'route', 'list', 'dev', 'qg-6a56a25c-a5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:10.896 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-6', 'route', 'list', 'dev', 'qg-6a56a25c-a5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:10.910 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-6a56a25c-a5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:10.923 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'sysctl', '-w', 'net.ipv6.conf.qg-6a56a25c-a5.accept_ra=2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:10.939 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'sysctl', '-w', 'net.ipv6.conf.qg-6a56a25c-a5.forwarding=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:10.953 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:10.954 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-U', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.14'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:10.968 5943 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 18:37:10.969 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:10.982 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-A', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.14'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:10.996 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:11.011 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:11.027 5943 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 7 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 18:37:11.028 5943 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 18:37:11.029 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', 'addr', 'show', 'qg-6a56a25c-a5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:11.041 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-4', 'addr', 'add', '172.24.4.2/32', 'scope', 'global', 'dev', 'qg-6a56a25c-a5', 'brd', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:11.054 5943 DEBUG neutron.agent.l3.router_info [-] Floating ip 2353824d-5b29-4e68-ae3e-980b6174edd3 added, status ACTIVE process_floating_ip_addresses /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:361
2018-06-28 18:37:11.055 5943 DEBUG neutron.agent.l3.router_info [-] Sending floating ip statuses: {u'2353824d-5b29-4e68-ae3e-980b6174edd3': 'ACTIVE'} update_fip_statuses /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:942
2018-06-28 18:37:11.061 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-U', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:11.085 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-A', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:11.129 5943 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 18:37:11.130 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:11.149 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:11.163 5943 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 0 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 18:37:11.164 5943 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 18:37:11.165 5943 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_updated--9223363305895931155', 'neutron.agent.linux.pd.update_router-8730959383391'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 18:37:11.165 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:37:11.166 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:37:11.167 5943 DEBUG neutron.agent.l3.agent [-] Finished a router update for adfb2125-797f-46f6-860f-c40cfa25f2c5 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 18:37:13.002 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-U', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.14'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:13.020 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-A', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.14'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:13.104 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-U', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:13.124 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-A', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:15.040 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-U', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.14'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:15.066 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-A', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.14'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:15.144 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-U', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:15.169 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'arping', '-A', '-I', 'qg-6a56a25c-a5', '-c', '1', '-w', '1.5', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:37:34.705 5943 DEBUG oslo_service.periodic_task [req-4e1f437b-c135-4915-b8df-ab44141e354e - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 18:37:50.533 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:37:50.534 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:38:10.200 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:38:10.204 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:38:14.707 5943 DEBUG oslo_service.periodic_task [req-4e1f437b-c135-4915-b8df-ab44141e354e - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 18:38:50.533 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:38:50.534 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:38:54.710 5943 DEBUG oslo_service.periodic_task [req-4e1f437b-c135-4915-b8df-ab44141e354e - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 18:39:10.201 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:39:10.204 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:39:34.712 5943 DEBUG oslo_service.periodic_task [req-4e1f437b-c135-4915-b8df-ab44141e354e - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 18:39:50.534 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:39:50.534 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:40:10.201 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:40:10.204 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:40:14.715 5943 DEBUG oslo_service.periodic_task [req-4e1f437b-c135-4915-b8df-ab44141e354e - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 18:40:44.987 5943 DEBUG neutron.agent.l3.agent [req-85c7f9cd-160c-487c-88ee-73f5d3d2bbb0 ba41ff9cbcfb44fb8e09d452f78a1486 84cac79835b94f1e95ff5083f3dab328 - - -] Got routers updated notification :[u'adfb2125-797f-46f6-860f-c40cfa25f2c5'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 18:40:44.990 5943 DEBUG neutron.agent.l3.agent [-] Starting router update for adfb2125-797f-46f6-860f-c40cfa25f2c5, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 18:40:45.849 5943 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 18:40:45.850 5943 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 18:40:45.851 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:40:45.880 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:40:45.881 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:40:45.882 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:40:45.899 5943 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 18:40:45.900 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:40:45.925 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:40:45.938 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:40:45.958 5943 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 7 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 18:40:45.959 5943 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 18:40:45.960 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', 'addr', 'show', 'qg-6a56a25c-a5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:40:45.975 5943 DEBUG neutron.agent.l3.router_info [-] Removing floating ip 172.24.4.2/32 from interface qg-6a56a25c-a5 in namespace qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5 process_floating_ip_addresses /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:384
2018-06-28 18:40:45.976 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-4', 'addr', 'del', '172.24.4.2/32', 'dev', 'qg-6a56a25c-a5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:40:45.991 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'conntrack', '-D', '-d', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:40:46.007 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'conntrack', '-D', '-q', '172.24.4.2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:40:46.029 5943 DEBUG neutron.agent.l3.router_info [-] Sending floating ip statuses: {u'2353824d-5b29-4e68-ae3e-980b6174edd3': 'DOWN'} update_fip_statuses /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:942
2018-06-28 18:40:46.118 5943 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 18:40:46.119 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:40:46.141 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:40:46.166 5943 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 0 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 18:40:46.167 5943 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 18:40:46.168 5943 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_updated--9223363305895931155', 'neutron.agent.linux.pd.update_router-8730959383391'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 18:40:46.170 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:40:46.170 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:40:46.172 5943 DEBUG neutron.agent.l3.agent [-] Finished a router update for adfb2125-797f-46f6-860f-c40cfa25f2c5 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 18:40:50.534 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:40:50.534 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:40:54.717 5943 DEBUG oslo_service.periodic_task [req-4e1f437b-c135-4915-b8df-ab44141e354e - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 18:41:10.201 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:41:10.204 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:41:34.720 5943 DEBUG oslo_service.periodic_task [req-4e1f437b-c135-4915-b8df-ab44141e354e - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 18:41:42.567 5943 DEBUG neutron.agent.l3.agent [req-9da68d1b-78ec-4b6d-84e8-16fe5205273b 5feafc9ff48747df82912c2055bf7429 f4a570c942f04ee3b556f3e6756b5a50 - - -] Got routers updated notification :[u'adfb2125-797f-46f6-860f-c40cfa25f2c5'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 18:41:42.570 5943 DEBUG neutron.agent.l3.agent [-] Starting router update for adfb2125-797f-46f6-860f-c40cfa25f2c5, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 18:41:43.405 5943 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 18:41:43.406 5943 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 18:41:43.407 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:41:43.438 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:41:43.439 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:41:43.440 5943 DEBUG neutron.agent.l3.router_info [-] External gateway removed: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-06-28T16:35:49Z', u'device_owner': u'network:router_gateway', u'revision_number': 6, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'0db29b77-dce9-468d-9f4c-d777953f217f', u'prefixlen': 24, u'ip_address': u'172.24.4.14'}], u'id': u'6a56a25c-a50c-4042-89de-95006e7c6cdf', u'security_groups': [], u'binding:vif_details': {u'port_filter': True, u'datapath_type': u'system', u'ovs_hybrid_plug': True}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:f9:7d:c1', u'project_id': u'', u'status': u'ACTIVE', u'subnets': [{u'dns_nameservers': [], u'ipv6_ra_mode': None, u'gateway_ip': u'172.24.4.1', u'cidr': u'172.24.4.0/24', u'id': u'0db29b77-dce9-468d-9f4c-d777953f217f', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'adfb2125-797f-46f6-860f-c40cfa25f2c5', u'name': u'', u'admin_state_up': True, u'network_id': u'65a63b5d-4ab6-4a89-8fc5-4ab4c578efe5', u'tenant_id': u'', u'created_at': u'2018-06-28T16:35:43Z', u'mtu': 1500, u'extra_subnets': []}), interface(qg-6a56a25c-a5) external_gateway_removed /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:753
2018-06-28 18:41:43.441 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-4', 'addr', 'del', '172.24.4.14/24', 'dev', 'qg-6a56a25c-a5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:41:43.463 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'conntrack', '-D', '-d', '172.24.4.14'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:41:43.482 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'conntrack', '-D', '-q', '172.24.4.14'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:41:43.498 5943 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-06-28 18:41:43.519 5943 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=br-int, port=qg-6a56a25c-a5) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 18:41:43.558 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_gw_interface" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:41:43.559 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_gw_interface" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:41:43.560 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:41:43.576 5943 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 18:41:43.578 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:41:43.600 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:41:43.616 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:41:43.637 5943 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 13 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 18:41:43.638 5943 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 18:41:43.640 5943 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 18:41:43.641 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:41:43.666 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:41:43.680 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:41:43.700 5943 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 5 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 18:41:43.701 5943 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 18:41:43.701 5943 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_updated--9223363305895931155', 'neutron.agent.linux.pd.update_router-8730959383391'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 18:41:43.702 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:41:43.703 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:41:43.704 5943 DEBUG neutron.agent.l3.agent [-] Finished a router update for adfb2125-797f-46f6-860f-c40cfa25f2c5 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 18:41:50.534 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:41:50.535 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:42:05.015 5943 DEBUG neutron.agent.l3.agent [req-266578f7-0e5b-4bd9-a4a1-051c78a9f13c 5feafc9ff48747df82912c2055bf7429 f4a570c942f04ee3b556f3e6756b5a50 - - -] Got routers updated notification :[u'adfb2125-797f-46f6-860f-c40cfa25f2c5'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 18:42:05.017 5943 DEBUG neutron.agent.l3.agent [-] Starting router update for adfb2125-797f-46f6-860f-c40cfa25f2c5, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 18:42:05.370 5943 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 18:42:05.370 5943 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 18:42:05.371 5943 DEBUG neutron.agent.l3.router_info [-] removing internal network: port(3df495cf-9b02-4a7c-8e56-d825da7dff12) interface(qr-3df495cf-9b) internal_network_removed /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:477
2018-06-28 18:42:05.371 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip', '-o', 'link', 'show', 'qr-3df495cf-9b'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:42:05.394 5943 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-06-28 18:42:05.412 5943 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=br-int, port=qr-3df495cf-9b) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 18:42:05.454 5943 DEBUG neutron.agent.l3.router_info [-] removing port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-06-28T16:35:33Z', u'device_owner': u'network:router_interface', u'revision_number': 4, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'6478efe1-95ea-4037-ad8c-420be33bff8c', u'prefixlen': 24, u'ip_address': u'11.98.1.1'}], u'id': u'3df495cf-9b02-4a7c-8e56-d825da7dff12', u'security_groups': [], u'binding:vif_details': {}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:40:71:95', u'project_id': u'84cac79835b94f1e95ff5083f3dab328', u'status': u'DOWN', u'subnets': [{u'dns_nameservers': [u'8.8.4.4'], u'ipv6_ra_mode': None, u'gateway_ip': u'11.98.1.1', u'cidr': u'11.98.1.0/24', u'id': u'6478efe1-95ea-4037-ad8c-420be33bff8c', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'adfb2125-797f-46f6-860f-c40cfa25f2c5', u'name': u'', u'admin_state_up': True, u'network_id': u'd0047faf-791e-4a9b-9e64-c727c5f741c4', u'tenant_id': u'84cac79835b94f1e95ff5083f3dab328', u'created_at': u'2018-06-28T16:35:31Z', u'mtu': 1450, u'extra_subnets': []} from internal_ports cache _process_internal_ports /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:567
2018-06-28 18:42:05.455 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:42:05.468 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:42:05.469 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:42:05.470 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:42:05.488 5943 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 18:42:05.490 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:42:05.507 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:42:05.522 5943 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 0 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 18:42:05.522 5943 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 18:42:05.524 5943 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 18:42:05.524 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:42:05.547 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:42:05.558 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:42:05.579 5943 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 10 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 18:42:05.579 5943 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 18:42:05.580 5943 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_updated--9223363305895931155', 'neutron.agent.linux.pd.update_router-8730959383391'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 18:42:05.581 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:42:05.581 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:42:05.582 5943 DEBUG neutron.agent.l3.agent [-] Finished a router update for adfb2125-797f-46f6-860f-c40cfa25f2c5 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 18:42:10.201 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:42:10.205 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:42:11.631 5943 DEBUG neutron.agent.l3.agent [req-cc13baa1-5061-4383-93ac-5aa6f5c17027 5feafc9ff48747df82912c2055bf7429 f4a570c942f04ee3b556f3e6756b5a50 - - -] Got router deleted notification for adfb2125-797f-46f6-860f-c40cfa25f2c5 router_deleted /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:424
2018-06-28 18:42:11.634 5943 DEBUG neutron.agent.l3.agent [-] Starting router update for adfb2125-797f-46f6-860f-c40cfa25f2c5, action 1, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 18:42:11.635 5943 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.before_router_removed-8730958844661'] for router, before_delete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 18:42:11.636 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['kill', '-9', '10239'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:42:11.652 5943 DEBUG neutron.agent.l3.router_info [-] process router delete process_delete /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1114
2018-06-28 18:42:11.653 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:42:11.681 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:42:11.701 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:42:11.702 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:42:11.703 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:42:11.714 5943 DEBUG neutron.agent.l3.router_info [-] Terminating radvd daemon in router device: adfb2125-797f-46f6-860f-c40cfa25f2c5 disable_radvd /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:520
2018-06-28 18:42:11.715 5943 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/adfb2125-797f-46f6-860f-c40cfa25f2c5.pid.radvd get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-06-28 18:42:11.716 5943 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/adfb2125-797f-46f6-860f-c40cfa25f2c5.pid.radvd get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-06-28 18:42:11.716 5943 DEBUG neutron.agent.linux.external_process [-] No process started for adfb2125-797f-46f6-860f-c40cfa25f2c5 disable /usr/lib/python2.7/site-packages/neutron/agent/linux/external_process.py:126
2018-06-28 18:42:11.718 5943 DEBUG neutron.agent.linux.ra [-] radvd disabled for router adfb2125-797f-46f6-860f-c40cfa25f2c5 disable /usr/lib/python2.7/site-packages/neutron/agent/linux/ra.py:190
2018-06-28 18:42:11.718 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:42:11.728 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:42:11.741 5943 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'delete', 'qrouter-adfb2125-797f-46f6-860f-c40cfa25f2c5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 18:42:11.752 5943 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.linux.pd.remove_router--9223363305895392455'] for router, after_delete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 18:42:11.753 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:42:11.753 5943 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:42:11.754 5943 DEBUG neutron.agent.l3.agent [-] Finished a router update for adfb2125-797f-46f6-860f-c40cfa25f2c5 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:564
2018-06-28 18:42:14.723 5943 DEBUG oslo_service.periodic_task [req-4e1f437b-c135-4915-b8df-ab44141e354e - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 18:42:50.534 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:42:50.535 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 18:42:54.726 5943 DEBUG oslo_service.periodic_task [req-4e1f437b-c135-4915-b8df-ab44141e354e - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 18:43:10.202 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 18:43:10.205 5943 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282

2018-06-26 13:49:09.556 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:49:09.557 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:49:11.671 3339 DEBUG oslo_service.periodic_task [req-eb5238e5-3fa8-440e-b55e-85e35e92aa4c - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-26 13:49:39.033 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:49:39.036 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:49:51.676 3339 DEBUG oslo_service.periodic_task [req-eb5238e5-3fa8-440e-b55e-85e35e92aa4c - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-26 13:50:09.556 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:50:09.556 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:50:31.681 3339 DEBUG oslo_service.periodic_task [req-eb5238e5-3fa8-440e-b55e-85e35e92aa4c - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-26 13:50:39.033 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:50:39.036 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:51:09.556 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:51:09.557 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:51:11.684 3339 DEBUG oslo_service.periodic_task [req-eb5238e5-3fa8-440e-b55e-85e35e92aa4c - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-26 13:51:39.034 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:51:39.037 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:51:51.687 3339 DEBUG oslo_service.periodic_task [req-eb5238e5-3fa8-440e-b55e-85e35e92aa4c - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-26 13:51:55.271 3339 DEBUG neutron.agent.l3.agent [req-00451a28-257c-4e1b-adc9-d87763e7fc83 fe16031d290844eab31366b107fdf9f6 178c69cf1b8041e3831331685d41281a - - -] Got routers updated notification :[u'6ca8e7e6-2ac7-46d1-a896-f0fb003c028b'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-26 13:51:55.277 3339 DEBUG neutron.agent.l3.agent [-] Starting router update for 6ca8e7e6-2ac7-46d1-a896-f0fb003c028b, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-26 13:51:59.072 3339 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.linux.pd.add_router-8742893875310'] for router, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-26 13:51:59.073 3339 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:51:59.074 3339 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.add_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:51:59.074 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.097 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'add', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.126 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.149 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', 'link', 'set', 'lo', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.167 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'sysctl', '-w', 'net.ipv4.ip_forward=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.188 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'sysctl', '-w', 'net.ipv4.conf.all.arp_ignore=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.211 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'sysctl', '-w', 'net.ipv4.conf.all.arp_announce=2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.231 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.253 3339 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-26 13:51:59.254 3339 DEBUG neutron.agent.l3.router_info [-] adding internal network: prefix(qr-), port(040a437e-37a2-46c4-a6fa-149e82626920) _internal_network_added /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:444
2018-06-26 13:51:59.254 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', '-o', 'link', 'show', 'qr-040a437e-37'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.285 3339 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-06-26 13:51:59.307 3339 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=None, port=qr-040a437e-37) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-26 13:51:59.309 3339 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Transaction caused no change do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:114
2018-06-26 13:51:59.310 3339 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): AddPortCommand(bridge=br-int, may_exist=False, port=qr-040a437e-37) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-26 13:51:59.312 3339 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=1): DbSetCommand(table=Interface, col_values=(('type', 'internal'), ('external_ids', {'iface-id': u'040a437e-37a2-46c4-a6fa-149e82626920', 'iface-status': 'active', 'attached-mac': u'fa:16:3e:79:55:b9'})), record=qr-040a437e-37) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-26 13:51:59.350 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qr-040a437e-37', 'address', 'fa:16:3e:79:55:b9'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.367 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.385 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qr-040a437e-37', 'netns', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.411 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', 'link', 'set', 'qr-040a437e-37', 'mtu', '1450'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.428 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', 'link', 'set', 'qr-040a437e-37', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.447 3339 DEBUG neutron.agent.linux.interface [-] init_router_port: device_name(qr-040a437e-37), namespace(qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b) init_router_port /usr/lib/python2.7/site-packages/neutron/agent/linux/interface.py:180
2018-06-26 13:51:59.448 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', '-o', 'link', 'show', 'qr-040a437e-37'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.465 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', 'addr', 'show', 'qr-040a437e-37'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.481 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', '-4', 'addr', 'add', '11.30.1.1/24', 'scope', 'global', 'dev', 'qr-040a437e-37', 'brd', '11.30.1.255'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.496 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', '-4', 'route', 'list', 'dev', 'qr-040a437e-37', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.511 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', '-6', 'route', 'list', 'dev', 'qr-040a437e-37', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.526 3339 DEBUG neutron.agent.l3.router_info [-] appending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-06-26T11:51:54Z', u'device_owner': u'network:router_interface', u'revision_number': 4, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'e1bfc39f-e84a-446c-bdaf-f2c2430d263f', u'prefixlen': 24, u'ip_address': u'11.30.1.1'}], u'id': u'040a437e-37a2-46c4-a6fa-149e82626920', u'security_groups': [], u'binding:vif_details': {}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:79:55:b9', u'project_id': u'178c69cf1b8041e3831331685d41281a', u'status': u'DOWN', u'subnets': [{u'dns_nameservers': [u'8.8.4.4'], u'ipv6_ra_mode': None, u'gateway_ip': u'11.30.1.1', u'cidr': u'11.30.1.0/24', u'id': u'e1bfc39f-e84a-446c-bdaf-f2c2430d263f', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', u'name': u'', u'admin_state_up': True, u'network_id': u'05e1e883-0e8c-4192-9340-fd06d486de5c', u'tenant_id': u'178c69cf1b8041e3831331685d41281a', u'created_at': u'2018-06-26T11:51:52Z', u'mtu': 1450, u'extra_subnets': []} to internal_ports cache _process_internal_ports /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:555
2018-06-26 13:51:59.528 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.531 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'arping', '-U', '-I', 'qr-040a437e-37', '-c', '1', '-w', '1.5', '11.30.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.551 3339 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:51:59.553 3339 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:51:59.553 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.567 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'arping', '-A', '-I', 'qr-040a437e-37', '-c', '1', '-w', '1.5', '11.30.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.575 3339 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-26 13:51:59.577 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.606 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.625 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.648 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip6tables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.668 3339 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 106 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-26 13:51:59.670 3339 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-26 13:51:59.672 3339 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-26 13:51:59.675 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.697 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.720 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.748 3339 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 10 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-26 13:51:59.749 3339 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-26 13:51:59.750 3339 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_added--9223363293961439717'] for router, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-26 13:51:59.751 3339 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-26 13:51:59.752 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.774 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.794 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.815 3339 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 17 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-26 13:51:59.816 3339 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-26 13:51:59.817 3339 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/6ca8e7e6-2ac7-46d1-a896-f0fb003c028b.pid get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-06-26 13:51:59.818 3339 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/6ca8e7e6-2ac7-46d1-a896-f0fb003c028b.pid get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-06-26 13:51:59.819 3339 DEBUG neutron.agent.metadata.driver [-] haproxy_cfg = 
global
    log         /dev/log local0 debug
    log-tag     haproxy-metadata-proxy-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b
    user        neutron
    group       neutron
    maxconn     1024
    pidfile     /var/lib/neutron/external/pids/6ca8e7e6-2ac7-46d1-a896-f0fb003c028b.pid
    daemon

defaults
    log global
    mode http
    option httplog
    option dontlognull
    option http-server-close
    option forwardfor
    retries                 3
    timeout http-request    30s
    timeout connect         30s
    timeout client          32s
    timeout server          32s
    timeout http-keep-alive 30s

listen listener
    bind 0.0.0.0:9697
    server metadata /var/lib/neutron/metadata_proxy
    http-request add-header X-Neutron-Router-ID 6ca8e7e6-2ac7-46d1-a896-f0fb003c028b
 create_config_file /usr/lib/python2.7/site-packages/neutron/agent/metadata/driver.py:135
2018-06-26 13:51:59.820 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'haproxy', '-f', '/var/lib/neutron/ns-metadata-proxy/6ca8e7e6-2ac7-46d1-a896-f0fb003c028b.conf'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:51:59.860 3339 DEBUG neutron.agent.l3.agent [-] Finished a router update for 6ca8e7e6-2ac7-46d1-a896-f0fb003c028b _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-26 13:52:01.591 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'arping', '-U', '-I', 'qr-040a437e-37', '-c', '1', '-w', '1.5', '11.30.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:01.625 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'arping', '-A', '-I', 'qr-040a437e-37', '-c', '1', '-w', '1.5', '11.30.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:03.658 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'arping', '-U', '-I', 'qr-040a437e-37', '-c', '1', '-w', '1.5', '11.30.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:03.697 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'arping', '-A', '-I', 'qr-040a437e-37', '-c', '1', '-w', '1.5', '11.30.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:09.556 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:52:09.558 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.002s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:52:09.686 3339 DEBUG neutron.agent.l3.agent [req-b17e09a3-cf0a-41e5-a8a8-210888229151 fe16031d290844eab31366b107fdf9f6 178c69cf1b8041e3831331685d41281a - - -] Got routers updated notification :[u'6ca8e7e6-2ac7-46d1-a896-f0fb003c028b'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-26 13:52:09.691 3339 DEBUG neutron.agent.l3.agent [-] Starting router update for 6ca8e7e6-2ac7-46d1-a896-f0fb003c028b, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-26 13:52:13.974 3339 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-26 13:52:13.975 3339 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-26 13:52:13.976 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:13.998 3339 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:52:13.999 3339 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:52:14.000 3339 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.get_preserve_ips" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:52:14.001 3339 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.get_preserve_ips" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:52:14.002 3339 DEBUG neutron.agent.l3.router_info [-] External gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-06-26T11:52:08Z', u'device_owner': u'network:router_gateway', u'revision_number': 3, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'b6e216ca-b0fd-4778-9cc1-3aadc17c208f', u'prefixlen': 24, u'ip_address': u'172.24.4.5'}], u'id': u'7b0da777-24dd-4655-9b57-3b80cc61de0f', u'security_groups': [], u'binding:vif_details': {}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:60:52:df', u'project_id': u'', u'status': u'DOWN', u'subnets': [{u'dns_nameservers': [], u'ipv6_ra_mode': None, u'gateway_ip': u'172.24.4.1', u'cidr': u'172.24.4.0/24', u'id': u'b6e216ca-b0fd-4778-9cc1-3aadc17c208f', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', u'name': u'', u'admin_state_up': True, u'network_id': u'3a89a4af-574f-492a-9eb4-eae63d51f625', u'tenant_id': u'', u'created_at': u'2018-06-26T11:52:08Z', u'mtu': 1500, u'extra_subnets': []}), interface(qg-7b0da777-24), ns(qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b) _external_gateway_added /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:692
2018-06-26 13:52:14.003 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', '-o', 'link', 'show', 'qg-7b0da777-24'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.027 3339 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-06-26 13:52:14.056 3339 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=None, port=qg-7b0da777-24) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-26 13:52:14.058 3339 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Transaction caused no change do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:114
2018-06-26 13:52:14.060 3339 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): AddPortCommand(bridge=br-int, may_exist=False, port=qg-7b0da777-24) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-26 13:52:14.063 3339 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=1): DbSetCommand(table=Interface, col_values=(('type', 'internal'), ('external_ids', {'iface-id': u'7b0da777-24dd-4655-9b57-3b80cc61de0f', 'iface-status': 'active', 'attached-mac': u'fa:16:3e:60:52:df'})), record=qg-7b0da777-24) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-26 13:52:14.112 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qg-7b0da777-24', 'address', 'fa:16:3e:60:52:df'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.129 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.147 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qg-7b0da777-24', 'netns', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.179 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', 'link', 'set', 'qg-7b0da777-24', 'mtu', '1500'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.200 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', 'link', 'set', 'qg-7b0da777-24', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.218 3339 DEBUG neutron.agent.linux.interface [-] init_router_port: device_name(qg-7b0da777-24), namespace(qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b) init_router_port /usr/lib/python2.7/site-packages/neutron/agent/linux/interface.py:180
2018-06-26 13:52:14.220 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', '-o', 'link', 'show', 'qg-7b0da777-24'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.235 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', 'addr', 'show', 'qg-7b0da777-24'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.253 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', '-4', 'addr', 'add', '172.24.4.5/24', 'scope', 'global', 'dev', 'qg-7b0da777-24', 'brd', '172.24.4.255'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.274 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', '-4', 'route', 'list', 'dev', 'qg-7b0da777-24', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.296 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', '-6', 'route', 'list', 'dev', 'qg-7b0da777-24', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.319 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', '-4', 'route', 'list', 'dev', 'qg-7b0da777-24'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.335 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', '-6', 'route', 'list', 'dev', 'qg-7b0da777-24'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.357 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-7b0da777-24'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.377 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'sysctl', '-w', 'net.ipv6.conf.qg-7b0da777-24.accept_ra=2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.399 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'sysctl', '-w', 'net.ipv6.conf.qg-7b0da777-24.forwarding=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.420 3339 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_gw_interface" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:52:14.421 3339 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.add_gw_interface" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:52:14.422 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.424 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'arping', '-U', '-I', 'qg-7b0da777-24', '-c', '1', '-w', '1.5', '172.24.4.5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.443 3339 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-26 13:52:14.444 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.460 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'arping', '-A', '-I', 'qg-7b0da777-24', '-c', '1', '-w', '1.5', '172.24.4.5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.480 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.502 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.526 3339 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 14 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-26 13:52:14.526 3339 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-26 13:52:14.527 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip', 'addr', 'show', 'qg-7b0da777-24'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.544 3339 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-26 13:52:14.545 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.568 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.583 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:14.599 3339 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 5 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-26 13:52:14.600 3339 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-26 13:52:14.600 3339 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_updated-8742893338132', 'neutron.agent.linux.pd.update_router-8742893875325'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-26 13:52:14.601 3339 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:52:14.601 3339 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:52:14.602 3339 DEBUG neutron.agent.l3.agent [-] Finished a router update for 6ca8e7e6-2ac7-46d1-a896-f0fb003c028b _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-26 13:52:16.482 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'arping', '-U', '-I', 'qg-7b0da777-24', '-c', '1', '-w', '1.5', '172.24.4.5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:16.508 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'arping', '-A', '-I', 'qg-7b0da777-24', '-c', '1', '-w', '1.5', '172.24.4.5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:18.540 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'arping', '-U', '-I', 'qg-7b0da777-24', '-c', '1', '-w', '1.5', '172.24.4.5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:18.570 3339 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-6ca8e7e6-2ac7-46d1-a896-f0fb003c028b', 'arping', '-A', '-I', 'qg-7b0da777-24', '-c', '1', '-w', '1.5', '172.24.4.5'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-26 13:52:31.692 3339 DEBUG oslo_service.periodic_task [req-eb5238e5-3fa8-440e-b55e-85e35e92aa4c - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-26 13:52:39.035 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:52:39.047 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.012s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:53:09.556 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:53:09.558 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:53:11.695 3339 DEBUG oslo_service.periodic_task [req-eb5238e5-3fa8-440e-b55e-85e35e92aa4c - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-26 13:53:39.035 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:53:39.040 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:53:51.699 3339 DEBUG oslo_service.periodic_task [req-eb5238e5-3fa8-440e-b55e-85e35e92aa4c - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-26 13:54:09.556 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:54:09.558 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:54:31.702 3339 DEBUG oslo_service.periodic_task [req-eb5238e5-3fa8-440e-b55e-85e35e92aa4c - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-26 13:54:39.035 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:54:39.041 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.006s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:55:09.556 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:55:09.557 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:55:11.695 3339 DEBUG oslo_service.periodic_task [req-eb5238e5-3fa8-440e-b55e-85e35e92aa4c - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-26 13:55:39.037 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:55:39.042 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.006s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:55:51.699 3339 DEBUG oslo_service.periodic_task [req-eb5238e5-3fa8-440e-b55e-85e35e92aa4c - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-26 13:56:09.557 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:56:09.558 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:56:31.702 3339 DEBUG oslo_service.periodic_task [req-eb5238e5-3fa8-440e-b55e-85e35e92aa4c - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-26 13:56:39.037 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:56:39.041 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:57:09.558 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:57:09.559 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:57:11.708 3339 DEBUG oslo_service.periodic_task [req-eb5238e5-3fa8-440e-b55e-85e35e92aa4c - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-26 13:57:39.037 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:57:39.040 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:57:51.709 3339 DEBUG oslo_service.periodic_task [req-eb5238e5-3fa8-440e-b55e-85e35e92aa4c - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-26 13:58:09.557 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:58:09.558 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:58:31.714 3339 DEBUG oslo_service.periodic_task [req-eb5238e5-3fa8-440e-b55e-85e35e92aa4c - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-26 13:58:39.037 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:58:39.041 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:59:09.558 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:59:09.559 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:59:11.717 3339 DEBUG oslo_service.periodic_task [req-eb5238e5-3fa8-440e-b55e-85e35e92aa4c - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-26 13:59:39.038 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-26 13:59:39.043 3339 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.005s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-26 13:59:51.722 3339 DEBUG oslo_service.periodic_task [req-eb5238e5-3fa8-440e-b55e-85e35e92aa4c - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215

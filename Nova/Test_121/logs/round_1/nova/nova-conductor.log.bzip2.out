2018-06-28 00:23:24.011 746 DEBUG oslo_db.sqlalchemy.engines [req-51c9e761-184e-4f33-8f66-34b1ba820757 b946f71dca6e4291b1ac0b91e97ca2eb 05e2815a8542423ab1748094ef6c9f62 - 54bea3aadc5044579351ab6f337f5e72 54bea3aadc5044579351ab6f337f5e72] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION _check_effective_sql_mode /usr/lib/python2.7/site-packages/oslo_db/sqlalchemy/engines.py:285
2018-06-28 00:23:27.811 746 DEBUG oslo_concurrency.lockutils [req-51c9e761-184e-4f33-8f66-34b1ba820757 b946f71dca6e4291b1ac0b91e97ca2eb 05e2815a8542423ab1748094ef6c9f62 - 54bea3aadc5044579351ab6f337f5e72 54bea3aadc5044579351ab6f337f5e72] Lock "72c9866c-097e-4830-88cc-fbc19314d896" acquired by "nova.context.get_or_set_cached_cell_and_set_connections" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 00:23:27.817 746 DEBUG oslo_concurrency.lockutils [req-51c9e761-184e-4f33-8f66-34b1ba820757 b946f71dca6e4291b1ac0b91e97ca2eb 05e2815a8542423ab1748094ef6c9f62 - 54bea3aadc5044579351ab6f337f5e72 54bea3aadc5044579351ab6f337f5e72] Lock "72c9866c-097e-4830-88cc-fbc19314d896" released by "nova.context.get_or_set_cached_cell_and_set_connections" :: held 0.006s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 00:23:27.844 746 DEBUG oslo_db.sqlalchemy.engines [req-51c9e761-184e-4f33-8f66-34b1ba820757 b946f71dca6e4291b1ac0b91e97ca2eb 05e2815a8542423ab1748094ef6c9f62 - 54bea3aadc5044579351ab6f337f5e72 54bea3aadc5044579351ab6f337f5e72] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION _check_effective_sql_mode /usr/lib/python2.7/site-packages/oslo_db/sqlalchemy/engines.py:285
2018-06-28 00:23:28.075 746 ERROR oslo_messaging.rpc.server [req-51c9e761-184e-4f33-8f66-34b1ba820757 b946f71dca6e4291b1ac0b91e97ca2eb 05e2815a8542423ab1748094ef6c9f62 - 54bea3aadc5044579351ab6f337f5e72 54bea3aadc5044579351ab6f337f5e72] Exception during message handling: TypeError: check_num_instances_quota() takes at least 4 arguments (4 given)
2018-06-28 00:23:28.075 746 ERROR oslo_messaging.rpc.server Traceback (most recent call last):
2018-06-28 00:23:28.075 746 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/server.py", line 160, in _process_incoming
2018-06-28 00:23:28.075 746 ERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)
2018-06-28 00:23:28.075 746 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 213, in dispatch
2018-06-28 00:23:28.075 746 ERROR oslo_messaging.rpc.server     return self._do_dispatch(endpoint, method, ctxt, args)
2018-06-28 00:23:28.075 746 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/oslo_messaging/rpc/dispatcher.py", line 183, in _do_dispatch
2018-06-28 00:23:28.075 746 ERROR oslo_messaging.rpc.server     result = func(ctxt, **new_args)
2018-06-28 00:23:28.075 746 ERROR oslo_messaging.rpc.server   File "/usr/lib/python2.7/site-packages/nova/conductor/manager.py", line 620, in schedule_and_build_instances
2018-06-28 00:23:28.075 746 ERROR oslo_messaging.rpc.server     compute_utils.check_num_instances_quota(instance.flavor, 0, 0, orig_num_req=len(build_requests))
2018-06-28 00:23:28.075 746 ERROR oslo_messaging.rpc.server TypeError: check_num_instances_quota() takes at least 4 arguments (4 given)
2018-06-28 00:23:28.075 746 ERROR oslo_messaging.rpc.server 

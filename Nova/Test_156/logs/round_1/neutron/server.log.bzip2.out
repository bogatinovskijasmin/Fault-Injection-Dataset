2018-06-28 23:38:20.420 2482 DEBUG neutron_lib.callbacks.manager [req-c2ac235e-9b77-4a0b-bfef-5951c20a4040 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:38:20.436 2467 DEBUG neutron_lib.callbacks.manager [req-5f730e27-22d8-43a8-a52e-75429bd340ac - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:38:20.454 2466 DEBUG neutron_lib.callbacks.manager [req-cccca368-cf94-4a01-a789-4044ec56dfbd - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:38:22.194 2464 DEBUG neutron_lib.callbacks.manager [req-6c6a526f-a976-433b-9f8d-44c9801bbc21 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:38:23.184 2471 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:38:38.844 2483 DEBUG neutron.db.agents_db [req-cc6fac99-9da3-43fb-895f-4e0b06779f12 - - - - -] Agent healthcheck: found 5 active agents agent_health_check /usr/lib/python2.7/site-packages/neutron/db/agents_db.py:281
2018-06-28 23:38:39.333 2461 INFO neutron.wsgi [req-b8ae77cc-3a78-40f9-8dd4-3507f9e5792c 72eef6c8af39495084702b0217df08d6 4340e242277144a39aad7507a87ea19b - default default] 10.0.20.23 "GET /v2.0/ports?tenant_id=007e7f1ed2554995b505b934dd328646&device_id=f14c2b46-9095-4307-a38c-260473ea3ec3 HTTP/1.1" status: 200  len: 1125 time: 0.1318090
2018-06-28 23:38:39.570 2461 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-83d8b774-e81f-4153-bb90-9ba0ffab3797 72eef6c8af39495084702b0217df08d6 4340e242277144a39aad7507a87ea19b - default default] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:38:39.572 2461 INFO neutron.wsgi [req-83d8b774-e81f-4153-bb90-9ba0ffab3797 72eef6c8af39495084702b0217df08d6 4340e242277144a39aad7507a87ea19b - default default] 10.0.20.23 "GET /v2.0/networks?id=27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e HTTP/1.1" status: 200  len: 888 time: 0.2336600
2018-06-28 23:38:50.408 2480 DEBUG neutron_lib.callbacks.manager [req-c2ac235e-9b77-4a0b-bfef-5951c20a4040 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:38:50.429 2463 DEBUG neutron_lib.callbacks.manager [req-5f730e27-22d8-43a8-a52e-75429bd340ac - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:38:50.460 2469 DEBUG neutron_lib.callbacks.manager [req-a0597ecf-1b4c-4b83-957d-65e61ee6d7b3 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:38:52.192 2481 DEBUG neutron_lib.callbacks.manager [req-cc23c251-1833-4321-ae3a-6a89741c0664 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:38:53.175 2460 DEBUG neutron.wsgi [-] (2460) accepted ('10.0.20.23', 49762) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-28 23:38:53.179 2460 INFO neutron.wsgi [-] 10.0.20.23 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0025022
2018-06-28 23:38:53.189 2482 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:38:54.057 2460 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-1d3e3816-7306-4931-b0fb-d9e2b8b88d7d a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:38:54.058 2460 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-1d3e3816-7306-4931-b0fb-d9e2b8b88d7d a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:38:54.061 2460 INFO neutron.wsgi [req-1d3e3816-7306-4931-b0fb-d9e2b8b88d7d a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/subnets HTTP/1.1" status: 200  len: 1419 time: 0.8768771
2018-06-28 23:39:13.337 2461 INFO neutron.wsgi [req-a5b20f13-e519-48be-9b3b-f25576ed0e02 72eef6c8af39495084702b0217df08d6 4340e242277144a39aad7507a87ea19b - default default] 10.0.20.23 "GET /v2.0/ports?tenant_id=007e7f1ed2554995b505b934dd328646&device_id=f14c2b46-9095-4307-a38c-260473ea3ec3 HTTP/1.1" status: 200  len: 1125 time: 0.1328712
2018-06-28 23:39:13.567 2461 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-f6a09688-f99b-4835-9075-7c6a508d1c33 72eef6c8af39495084702b0217df08d6 4340e242277144a39aad7507a87ea19b - default default] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:39:13.570 2461 INFO neutron.wsgi [req-f6a09688-f99b-4835-9075-7c6a508d1c33 72eef6c8af39495084702b0217df08d6 4340e242277144a39aad7507a87ea19b - default default] 10.0.20.23 "GET /v2.0/networks?id=27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e HTTP/1.1" status: 200  len: 888 time: 0.2273271
2018-06-28 23:39:15.856 2483 DEBUG neutron.db.agents_db [req-cc6fac99-9da3-43fb-895f-4e0b06779f12 - - - - -] Agent healthcheck: found 5 active agents agent_health_check /usr/lib/python2.7/site-packages/neutron/db/agents_db.py:281
2018-06-28 23:39:20.419 2467 DEBUG neutron_lib.callbacks.manager [req-c2ac235e-9b77-4a0b-bfef-5951c20a4040 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:20.449 2466 DEBUG neutron_lib.callbacks.manager [req-5f730e27-22d8-43a8-a52e-75429bd340ac - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:20.453 2464 DEBUG neutron_lib.callbacks.manager [req-631bc6e8-939d-4649-b3b7-e57ac6b486ce - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:22.194 2471 DEBUG neutron_lib.callbacks.manager [req-e3a63255-c781-4458-b89c-19f75e81e323 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:23.181 2480 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:36.578 2461 DEBUG neutron.wsgi [-] (2461) accepted ('10.0.20.23', 50888) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-28 23:39:36.582 2461 INFO neutron.wsgi [-] 10.0.20.23 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0023499
2018-06-28 23:39:37.112 2461 DEBUG neutron.api.v2.base [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Request body: {u'security_group': {u'name': u'tempest-SECURITY_GROUP_SAMPLE-1530221895', u'description': u'tempest-SECURITY_GROUP_SAMPLE-1530221895'}} prepare_request_body /usr/lib/python2.7/site-packages/neutron/api/v2/base.py:695
2018-06-28 23:39:37.114 2461 INFO neutron.quota [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Loaded quota_driver: <neutron.db.quota.driver.DbQuotaDriver object at 0x7fd02142db10>.
2018-06-28 23:39:37.129 2461 DEBUG neutron.db.quota.driver [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Resources subnetpool have unlimited quota limit. It is not required to calculate headroom  make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:223
2018-06-28 23:39:37.139 2461 DEBUG neutron.quota.resource [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Usage tracker for resource:security_group and tenant:18163150e8884c51ba10086a3dc0c3ca is out of sync, need to count used quota count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:274
2018-06-28 23:39:37.153 2461 DEBUG neutron.quota.resource [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Quota usage for security_group was recalculated. Used quota:0. count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:293
2018-06-28 23:39:37.175 2461 DEBUG neutron.db.quota.driver [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attempting to reserve 1 items for resource security_group. Total usage: 0; quota limit: 10; headroom:10 make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:255
2018-06-28 23:39:37.579 2461 DEBUG neutron_lib.callbacks.manager [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks [] for security_group, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:37.614 2461 DEBUG neutron_lib.callbacks.manager [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks [] for security_group, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:37.998 2461 DEBUG neutron_lib.callbacks.manager [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks [] for security_group, precommit_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:38.017 2461 DEBUG neutron_lib.callbacks.manager [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-642282'] for security_group, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:38.023 2461 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 23:39:38.179 2461 DEBUG neutron.api.rpc.handlers.resources_rpc [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7fd0216adc10>, [SecurityGroup(created_at=2018-06-28T21:39:37Z,description='Gruppo di sicurezza predefinito',id=fcc055b2-7f82-4fd9-9440-28c8f9f23483,is_default=True,name='default',project_id='18163150e8884c51ba10086a3dc0c3ca',revision_number=4,rules=[SecurityGroupRule(23464c67-0fa2-4917-84e7-a761807bbc5b),SecurityGroupRule(909485fc-d527-4297-9df6-bb1dc11bfb1e),SecurityGroupRule(97864f1b-8ee1-4523-9962-20d2400c2337),SecurityGroupRule(ef2ad4fa-7859-4a39-be3d-5582eaee080b)],updated_at=2018-06-28T21:39:37Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:39:38.227 2461 DEBUG neutron.api.rpc.callbacks.version_manager [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Subnet changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:38.228 2461 DEBUG neutron.api.rpc.callbacks.version_manager [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Network changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:38.229 2461 DEBUG neutron.api.rpc.callbacks.version_manager [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type SubPort changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:38.229 2461 DEBUG neutron.api.rpc.callbacks.version_manager [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type SecurityGroup changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:38.230 2461 DEBUG neutron.api.rpc.callbacks.version_manager [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type SecurityGroupRule changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:38.231 2461 DEBUG neutron.api.rpc.callbacks.version_manager [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Trunk changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:38.231 2461 DEBUG neutron.api.rpc.callbacks.version_manager [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type QosPolicy changed None to 1.6 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:38.232 2461 DEBUG neutron.api.rpc.callbacks.version_manager [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Port changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:38.233 2461 DEBUG neutron.api.rpc.callbacks.version_manager [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Log changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:38.235 2461 DEBUG neutron.api.rpc.callbacks.version_manager [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Tracked resource versions report:
pushed versions:
{   'Log': set(['1.0']),
    'Network': set(['1.0']),
    'Port': set(['1.1']),
    'QosPolicy': set(['1.6']),
    'SecurityGroup': set(['1.0']),
    'SecurityGroupRule': set(['1.0']),
    'SubPort': set(['1.0']),
    'Subnet': set(['1.0']),
    'Trunk': set(['1.1'])}

consumer versions:
{   DHCP agent@localhost.localdomain: {   },
    L3 agent@localhost.localdomain: {   },
    Metadata agent@localhost.localdomain: {   },
    Metering agent@localhost.localdomain: {   },
    Open vSwitch agent@localhost.localdomain: {   u'Log': u'1.0',
                                                  u'Network': u'1.0',
                                                  u'Port': u'1.1',
                                                  u'QosPolicy': u'1.6',
                                                  u'SecurityGroup': u'1.0',
                                                  u'SecurityGroupRule': u'1.0',
                                                  u'SubPort': u'1.0',
                                                  u'Subnet': u'1.0',
                                                  u'Trunk': u'1.1'}}
 report /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:178
2018-06-28 23:39:38.607 2461 DEBUG oslo_concurrency.lockutils [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.584s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 23:39:38.720 2461 DEBUG neutron_lib.callbacks.manager [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks [] for security_group, precommit_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:38.730 2461 DEBUG neutron_lib.callbacks.manager [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-642282'] for security_group, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:38.742 2461 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 23:39:38.809 2461 DEBUG neutron.quota.resource [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Persisted dirty status for tenant:18163150e8884c51ba10086a3dc0c3ca on resource:security_group_rule mark_dirty /usr/lib/python2.7/site-packages/neutron/quota/resource.py:207
2018-06-28 23:39:38.820 2461 DEBUG neutron.quota.resource [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Persisted dirty status for tenant:18163150e8884c51ba10086a3dc0c3ca on resource:security_group mark_dirty /usr/lib/python2.7/site-packages/neutron/quota/resource.py:207
2018-06-28 23:39:38.826 2461 DEBUG neutron.api.rpc.handlers.resources_rpc [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7fd0217a3d10>, [SecurityGroup(created_at=2018-06-28T21:39:38Z,description='tempest-SECURITY_GROUP_SAMPLE-1530221895',id=e5560895-82c7-43c1-9970-0e8745131aff,is_default=False,name='tempest-SECURITY_GROUP_SAMPLE-1530221895',project_id='18163150e8884c51ba10086a3dc0c3ca',revision_number=2,rules=[SecurityGroupRule(11af11b2-f4e7-443c-ab05-4c5c64197d8d),SecurityGroupRule(61222331-24b5-45dc-a944-5186c6a0b969)],updated_at=2018-06-28T21:39:38Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:39:38.848 2461 DEBUG neutron_lib.callbacks.manager [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks [] for security_group, before_response _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:38.851 2461 INFO neutron.wsgi [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "POST /v2.0/security-groups HTTP/1.1" status: 201  len: 1617 time: 2.2637689
2018-06-28 23:39:38.854 2461 DEBUG oslo_concurrency.lockutils [req-d5ad02f4-3cff-48c6-80af-e37894979f28 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.112s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 23:39:45.496 2457 DEBUG neutron.wsgi [-] (2457) accepted ('10.0.20.23', 50912) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-28 23:39:45.533 2457 INFO neutron.wsgi [-] 10.0.20.23 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0088580
2018-06-28 23:39:45.544 2457 WARNING keystonemiddleware.auth_token [-] Using the in-process token cache is deprecated as of the 4.2.0 release and may be removed in the 5.0.0 release or the 'O' development cycle. The in-process cache causes inconsistent results and high memory usage. When the feature is removed the auth_token middleware will not cache tokens by default which may result in performance issues. It is recommended to use  memcache for the auth_token token cache by setting the memcached_servers option.
2018-06-28 23:39:46.935 2457 DEBUG oslo_policy._cache_handler [req-69be93e0-dcf8-4017-ba19-331bbd4e0f1b a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-06-28 23:39:46.976 2457 DEBUG oslo_policy.policy [req-69be93e0-dcf8-4017-ba19-331bbd4e0f1b a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:681
2018-06-28 23:39:47.389 2457 DEBUG oslo_policy._cache_handler [req-69be93e0-dcf8-4017-ba19-331bbd4e0f1b a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-06-28 23:39:47.404 2457 DEBUG oslo_policy.policy [req-69be93e0-dcf8-4017-ba19-331bbd4e0f1b a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:681
2018-06-28 23:39:47.465 2457 INFO neutron.api.v2.resource [req-69be93e0-dcf8-4017-ba19-331bbd4e0f1b a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] show failed (client error): The resource could not be found.
2018-06-28 23:39:47.467 2457 INFO neutron.wsgi [req-69be93e0-dcf8-4017-ba19-331bbd4e0f1b a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/security-groups/tempest-SECURITY_GROUP_SAMPLE-1530221895 HTTP/1.1" status: 404  len: 360 time: 1.9277248
2018-06-28 23:39:47.695 2457 INFO neutron.wsgi [req-6af941af-d433-45ae-896a-1ae94f416723 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/security-groups HTTP/1.1" status: 200  len: 20672 time: 0.2223320
2018-06-28 23:39:47.759 2457 DEBUG neutron.api.v2.base [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Request body: {u'security_group_rule': {u'direction': u'ingress', u'protocol': u'tcp', u'ethertype': u'IPv4', u'port_range_max': 22, u'security_group_id': u'e5560895-82c7-43c1-9970-0e8745131aff', u'port_range_min': 22, u'remote_ip_prefix': u'0.0.0.0/0'}} prepare_request_body /usr/lib/python2.7/site-packages/neutron/api/v2/base.py:695
2018-06-28 23:39:47.760 2457 INFO neutron.quota [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Loaded quota_driver: <neutron.db.quota.driver.DbQuotaDriver object at 0x7fd021bdba50>.
2018-06-28 23:39:47.771 2457 DEBUG neutron.db.quota.driver [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Resources subnetpool have unlimited quota limit. It is not required to calculate headroom  make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:223
2018-06-28 23:39:47.782 2457 DEBUG neutron.quota.resource [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Usage tracker for resource:security_group_rule and tenant:18163150e8884c51ba10086a3dc0c3ca is out of sync, need to count used quota count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:274
2018-06-28 23:39:47.791 2457 DEBUG neutron.quota.resource [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Quota usage for security_group_rule was recalculated. Used quota:6. count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:293
2018-06-28 23:39:47.802 2457 DEBUG neutron.db.quota.driver [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attempting to reserve 1 items for resource security_group_rule. Total usage: 6; quota limit: 100; headroom:94 make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:255
2018-06-28 23:39:48.134 2457 DEBUG neutron_lib.callbacks.manager [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks [] for security_group_rule, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:48.232 2457 DEBUG neutron_lib.callbacks.manager [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks [] for security_group_rule, precommit_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:48.244 2457 DEBUG neutron_lib.callbacks.manager [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-642106'] for security_group_rule, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:48.447 2457 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 23:39:48.467 2457 DEBUG neutron.api.rpc.handlers.resources_rpc [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7fd021b3ef50>, [SecurityGroupRule(created_at=2018-06-28T21:39:48Z,description='',direction='ingress',ethertype='IPv4',id=12f81802-2523-4164-9249-4a58a1bc5224,port_range_max=22,port_range_min=22,project_id='18163150e8884c51ba10086a3dc0c3ca',protocol='tcp',remote_group_id=<?>,remote_ip_prefix=0.0.0.0/0,revision_number=0,security_group_id=e5560895-82c7-43c1-9970-0e8745131aff,updated_at=2018-06-28T21:39:48Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:39:48.488 2457 DEBUG neutron.api.rpc.callbacks.version_manager [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Subnet changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:48.488 2457 DEBUG neutron.api.rpc.callbacks.version_manager [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Network changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:48.488 2457 DEBUG neutron.api.rpc.callbacks.version_manager [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type SubPort changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:48.489 2457 DEBUG neutron.api.rpc.callbacks.version_manager [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type SecurityGroup changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:48.489 2457 DEBUG neutron.api.rpc.callbacks.version_manager [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type SecurityGroupRule changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:48.490 2457 DEBUG neutron.api.rpc.callbacks.version_manager [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Trunk changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:48.490 2457 DEBUG neutron.api.rpc.callbacks.version_manager [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type QosPolicy changed None to 1.6 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:48.491 2457 DEBUG neutron.api.rpc.callbacks.version_manager [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Port changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:48.491 2457 DEBUG neutron.api.rpc.callbacks.version_manager [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Log changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:39:48.496 2457 DEBUG neutron.api.rpc.callbacks.version_manager [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Tracked resource versions report:
pushed versions:
{   'Log': set(['1.0']),
    'Network': set(['1.0']),
    'Port': set(['1.1']),
    'QosPolicy': set(['1.6']),
    'SecurityGroup': set(['1.0']),
    'SecurityGroupRule': set(['1.0']),
    'SubPort': set(['1.0']),
    'Subnet': set(['1.0']),
    'Trunk': set(['1.1'])}

consumer versions:
{   DHCP agent@localhost.localdomain: {   },
    L3 agent@localhost.localdomain: {   },
    Metadata agent@localhost.localdomain: {   },
    Metering agent@localhost.localdomain: {   },
    Open vSwitch agent@localhost.localdomain: {   u'Log': u'1.0',
                                                  u'Network': u'1.0',
                                                  u'Port': u'1.1',
                                                  u'QosPolicy': u'1.6',
                                                  u'SecurityGroup': u'1.0',
                                                  u'SecurityGroupRule': u'1.0',
                                                  u'SubPort': u'1.0',
                                                  u'Subnet': u'1.0',
                                                  u'Trunk': u'1.1'}}
 report /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:178
2018-06-28 23:39:48.559 2457 DEBUG oslo_concurrency.lockutils [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.112s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 23:39:48.571 2457 DEBUG neutron.quota.resource [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Persisted dirty status for tenant:18163150e8884c51ba10086a3dc0c3ca on resource:security_group_rule mark_dirty /usr/lib/python2.7/site-packages/neutron/quota/resource.py:207
2018-06-28 23:39:48.586 2457 DEBUG neutron_lib.callbacks.manager [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks [] for security_group_rule, before_response _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:48.588 2457 INFO neutron.wsgi [req-d0d99a97-d28a-43bc-a90d-090665c4e590 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "POST /v2.0/security-group-rules HTTP/1.1" status: 201  len: 718 time: 0.8808401
2018-06-28 23:39:50.425 2463 DEBUG neutron_lib.callbacks.manager [req-c2ac235e-9b77-4a0b-bfef-5951c20a4040 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:50.436 2469 DEBUG neutron_lib.callbacks.manager [req-5f730e27-22d8-43a8-a52e-75429bd340ac - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:50.446 2481 DEBUG neutron_lib.callbacks.manager [req-f6c9287c-f6ec-4df7-b05a-877404ca4292 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:52.197 2482 DEBUG neutron_lib.callbacks.manager [req-b7905817-46c9-4d2c-a251-53be572212c9 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:52.859 2483 DEBUG neutron.db.agents_db [req-cc6fac99-9da3-43fb-895f-4e0b06779f12 - - - - -] Agent healthcheck: found 5 active agents agent_health_check /usr/lib/python2.7/site-packages/neutron/db/agents_db.py:281
2018-06-28 23:39:53.215 2467 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:39:53.927 2457 DEBUG neutron.wsgi [-] (2457) accepted ('10.0.20.23', 50944) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-28 23:39:53.929 2457 INFO neutron.wsgi [-] 10.0.20.23 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0013590
2018-06-28 23:39:54.510 2457 INFO neutron.wsgi [req-f22ab5aa-8cc2-46fd-8dd8-fc0f04c297f6 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/security-groups HTTP/1.1" status: 200  len: 21175 time: 0.5765100
2018-06-28 23:40:02.261 2459 DEBUG neutron.wsgi [-] (2459) accepted ('10.0.20.23', 51976) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-28 23:40:02.304 2459 INFO neutron.wsgi [-] 10.0.20.23 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0274351
2018-06-28 23:40:02.316 2459 WARNING keystonemiddleware.auth_token [-] Using the in-process token cache is deprecated as of the 4.2.0 release and may be removed in the 5.0.0 release or the 'O' development cycle. The in-process cache causes inconsistent results and high memory usage. When the feature is removed the auth_token middleware will not cache tokens by default which may result in performance issues. It is recommended to use  memcache for the auth_token token cache by setting the memcached_servers option.
2018-06-28 23:40:03.935 2459 DEBUG oslo_policy._cache_handler [req-8fa0cac6-5f4f-4781-b916-dea9799820f5 4e72ad8ceb8f47a28db5a4b3551f9335 007e7f1ed2554995b505b934dd328646 - default default] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-06-28 23:40:03.997 2459 DEBUG oslo_policy.policy [req-8fa0cac6-5f4f-4781-b916-dea9799820f5 4e72ad8ceb8f47a28db5a4b3551f9335 007e7f1ed2554995b505b934dd328646 - default default] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:681
2018-06-28 23:40:04.401 2459 INFO neutron.pecan_wsgi.hooks.translation [req-8fa0cac6-5f4f-4781-b916-dea9799820f5 4e72ad8ceb8f47a28db5a4b3551f9335 007e7f1ed2554995b505b934dd328646 - default default] GET failed (client error): The resource could not be found.
2018-06-28 23:40:04.403 2459 INFO neutron.wsgi [req-8fa0cac6-5f4f-4781-b916-dea9799820f5 4e72ad8ceb8f47a28db5a4b3551f9335 007e7f1ed2554995b505b934dd328646 - default default] 10.0.20.23 "GET /v2.0/networks/public HTTP/1.1" status: 404  len: 314 time: 2.0909369
2018-06-28 23:40:05.112 2459 DEBUG oslo_policy._cache_handler [req-9b6827a5-9413-46b7-ab3a-64dd73e679f5 4e72ad8ceb8f47a28db5a4b3551f9335 007e7f1ed2554995b505b934dd328646 - default default] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-06-28 23:40:05.145 2459 DEBUG oslo_policy.policy [req-9b6827a5-9413-46b7-ab3a-64dd73e679f5 4e72ad8ceb8f47a28db5a4b3551f9335 007e7f1ed2554995b505b934dd328646 - default default] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:681
2018-06-28 23:40:05.156 2459 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-9b6827a5-9413-46b7-ab3a-64dd73e679f5 4e72ad8ceb8f47a28db5a4b3551f9335 007e7f1ed2554995b505b934dd328646 - default default] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:40:05.156 2459 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-9b6827a5-9413-46b7-ab3a-64dd73e679f5 4e72ad8ceb8f47a28db5a4b3551f9335 007e7f1ed2554995b505b934dd328646 - default default] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:40:05.159 2459 INFO neutron.wsgi [req-9b6827a5-9413-46b7-ab3a-64dd73e679f5 4e72ad8ceb8f47a28db5a4b3551f9335 007e7f1ed2554995b505b934dd328646 - default default] 10.0.20.23 "GET /v2.0/networks HTTP/1.1" status: 200  len: 1542 time: 0.7507391
2018-06-28 23:40:11.050 2451 DEBUG neutron.wsgi [-] (2451) accepted ('10.0.20.23', 51992) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-28 23:40:11.074 2451 INFO neutron.wsgi [-] 10.0.20.23 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0108840
2018-06-28 23:40:11.085 2451 WARNING keystonemiddleware.auth_token [-] Using the in-process token cache is deprecated as of the 4.2.0 release and may be removed in the 5.0.0 release or the 'O' development cycle. The in-process cache causes inconsistent results and high memory usage. When the feature is removed the auth_token middleware will not cache tokens by default which may result in performance issues. It is recommended to use  memcache for the auth_token token cache by setting the memcached_servers option.
2018-06-28 23:40:12.337 2451 DEBUG oslo_policy._cache_handler [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-06-28 23:40:12.363 2451 DEBUG oslo_policy.policy [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:681
2018-06-28 23:40:12.622 2451 DEBUG neutron.api.v2.base [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Request body: {u'network': {u'name': u'tempest-private-1530221895', u'admin_state_up': True}} prepare_request_body /usr/lib/python2.7/site-packages/neutron/api/v2/base.py:695
2018-06-28 23:40:12.625 2451 INFO neutron.quota [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Loaded quota_driver: <neutron.db.quota.driver.DbQuotaDriver object at 0x7fd021eb6750>.
2018-06-28 23:40:12.686 2451 DEBUG neutron.db.quota.driver [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Resources subnetpool have unlimited quota limit. It is not required to calculate headroom  make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:223
2018-06-28 23:40:12.696 2451 DEBUG neutron.quota.resource [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Usage tracker for resource:network and tenant:18163150e8884c51ba10086a3dc0c3ca is out of sync, need to count used quota count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:274
2018-06-28 23:40:12.708 2451 DEBUG neutron.quota.resource [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Quota usage for network was recalculated. Used quota:0. count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:293
2018-06-28 23:40:12.726 2451 DEBUG neutron.db.quota.driver [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attempting to reserve 1 items for resource network. Total usage: 0; quota limit: 100; headroom:100 make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:255
2018-06-28 23:40:12.765 2451 DEBUG neutron.pecan_wsgi.hooks.quota_enforcement [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Made reservation on behalf of 18163150e8884c51ba10086a3dc0c3ca for: {'network': 1} before /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/quota_enforcement.py:55
2018-06-28 23:40:12.813 2451 DEBUG oslo_policy._cache_handler [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-06-28 23:40:12.832 2451 DEBUG oslo_policy.policy [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:681
2018-06-28 23:40:12.841 2451 DEBUG neutron_lib.callbacks.manager [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler--9223372036852985240'] for network, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:12.930 2451 DEBUG neutron.plugins.ml2.drivers.helpers [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] vxlan segment allocate from pool started with {'vxlan_vni': 16}  allocate_partially_specified_segment /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/helpers.py:157
2018-06-28 23:40:12.935 2451 DEBUG neutron.plugins.ml2.drivers.helpers [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] vxlan segment allocate from pool success with {'vxlan_vni': 16}  allocate_partially_specified_segment /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/helpers.py:165
2018-06-28 23:40:12.963 2451 DEBUG neutron_lib.callbacks.manager [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._handle_segment_change--9223372036852780116', 'neutron.services.segments.db._add_segment_host_mapping_for_segment--9223363253610344647'] for segment, precommit_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:12.964 2451 INFO neutron.db.segments_db [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Added segment 927897f8-3764-40f4-8d9d-55c7eb378b29 of type vxlan for network 4cfcb274-d880-4eef-978b-5990cdb11aeb
2018-06-28 23:40:13.255 2451 DEBUG neutron_lib.callbacks.manager [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.services.auto_allocate.db._ensure_external_network_default_value_callback--9223363253610753509'] for network, precommit_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:13.320 2451 DEBUG neutron_lib.callbacks.manager [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-764435', 'neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-642122'] for network, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:13.322 2451 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:40:13.323 2451 DEBUG neutron_lib.callbacks.manager [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._send_dhcp_notification-764416'] for network, before_response _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:13.325 2451 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 23:40:13.476 2451 DEBUG neutron.quota.resource [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Persisted dirty status for tenant:18163150e8884c51ba10086a3dc0c3ca on resource:network mark_dirty /usr/lib/python2.7/site-packages/neutron/quota/resource.py:207
2018-06-28 23:40:13.484 2451 DEBUG neutron.api.rpc.handlers.resources_rpc [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7fd021cab290>, [Network(admin_state_up=True,availability_zone_hints=[],created_at=2018-06-28T21:40:12Z,description='',dns_domain=None,id=4cfcb274-d880-4eef-978b-5990cdb11aeb,mtu=1450,name='tempest-private-1530221895',project_id='18163150e8884c51ba10086a3dc0c3ca',qos_policy_id=None,revision_number=2,security=NetworkPortSecurity(4cfcb274-d880-4eef-978b-5990cdb11aeb),segments=[NetworkSegment(927897f8-3764-40f4-8d9d-55c7eb378b29)],shared=False,status='ACTIVE',updated_at=2018-06-28T21:40:13Z,vlan_transparent=<?>)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:40:13.490 2451 INFO neutron.wsgi [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "POST /v2.0/networks HTTP/1.1" status: 201  len: 862 time: 2.4093418
2018-06-28 23:40:13.497 2451 DEBUG neutron.api.rpc.callbacks.version_manager [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Subnet changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:13.497 2451 DEBUG neutron.api.rpc.callbacks.version_manager [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Network changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:13.498 2451 DEBUG neutron.api.rpc.callbacks.version_manager [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type SubPort changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:13.499 2451 DEBUG neutron.api.rpc.callbacks.version_manager [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type SecurityGroup changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:13.499 2451 DEBUG neutron.api.rpc.callbacks.version_manager [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type SecurityGroupRule changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:13.500 2451 DEBUG neutron.api.rpc.callbacks.version_manager [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Trunk changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:13.500 2451 DEBUG neutron.api.rpc.callbacks.version_manager [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type QosPolicy changed None to 1.6 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:13.501 2451 DEBUG neutron.api.rpc.callbacks.version_manager [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Port changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:13.501 2451 DEBUG neutron.api.rpc.callbacks.version_manager [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Log changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:13.503 2451 DEBUG neutron.api.rpc.callbacks.version_manager [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Tracked resource versions report:
pushed versions:
{   'Log': set(['1.0']),
    'Network': set(['1.0']),
    'Port': set(['1.1']),
    'QosPolicy': set(['1.6']),
    'SecurityGroup': set(['1.0']),
    'SecurityGroupRule': set(['1.0']),
    'SubPort': set(['1.0']),
    'Subnet': set(['1.0']),
    'Trunk': set(['1.1'])}

consumer versions:
{   DHCP agent@localhost.localdomain: {   },
    L3 agent@localhost.localdomain: {   },
    Metadata agent@localhost.localdomain: {   },
    Metering agent@localhost.localdomain: {   },
    Open vSwitch agent@localhost.localdomain: {   u'Log': u'1.0',
                                                  u'Network': u'1.0',
                                                  u'Port': u'1.1',
                                                  u'QosPolicy': u'1.6',
                                                  u'SecurityGroup': u'1.0',
                                                  u'SecurityGroupRule': u'1.0',
                                                  u'SubPort': u'1.0',
                                                  u'Subnet': u'1.0',
                                                  u'Trunk': u'1.1'}}
 report /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:178
2018-06-28 23:40:13.729 2451 DEBUG oslo_concurrency.lockutils [req-9bc83bee-999f-4127-8e2a-432fc71e2eec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.405s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 23:40:16.460 2461 INFO neutron.wsgi [req-8bdc2e48-e036-4163-a403-6215b15b7b5f 72eef6c8af39495084702b0217df08d6 4340e242277144a39aad7507a87ea19b - default default] 10.0.20.23 "GET /v2.0/ports?tenant_id=007e7f1ed2554995b505b934dd328646&device_id=f14c2b46-9095-4307-a38c-260473ea3ec3 HTTP/1.1" status: 200  len: 1125 time: 0.1449771
2018-06-28 23:40:16.668 2461 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-6fb65466-5cf1-4547-9f17-94efad3db7d6 72eef6c8af39495084702b0217df08d6 4340e242277144a39aad7507a87ea19b - default default] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:40:16.671 2461 INFO neutron.wsgi [req-6fb65466-5cf1-4547-9f17-94efad3db7d6 72eef6c8af39495084702b0217df08d6 4340e242277144a39aad7507a87ea19b - default default] 10.0.20.23 "GET /v2.0/networks?id=27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e HTTP/1.1" status: 200  len: 888 time: 0.2028890
2018-06-28 23:40:19.457 2454 DEBUG neutron.wsgi [-] (2454) accepted ('10.0.20.23', 52038) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-28 23:40:19.466 2454 INFO neutron.wsgi [-] 10.0.20.23 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0040221
2018-06-28 23:40:20.010 2454 INFO neutron.pecan_wsgi.hooks.translation [req-eb08fee2-8870-4b31-bdfc-4c26ef8c18e2 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] GET failed (client error): The resource could not be found.
2018-06-28 23:40:20.012 2454 INFO neutron.wsgi [req-eb08fee2-8870-4b31-bdfc-4c26ef8c18e2 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/networks/tempest-private-1530221895 HTTP/1.1" status: 404  len: 334 time: 0.5374370
2018-06-28 23:40:20.292 2454 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-da2d80ad-0b37-4992-8847-02dbac571a0c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:40:20.294 2454 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-da2d80ad-0b37-4992-8847-02dbac571a0c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:40:20.295 2454 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-da2d80ad-0b37-4992-8847-02dbac571a0c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:40:20.298 2454 INFO neutron.wsgi [req-da2d80ad-0b37-4992-8847-02dbac571a0c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/networks HTTP/1.1" status: 200  len: 2170 time: 0.2793560
2018-06-28 23:40:20.420 2466 DEBUG neutron_lib.callbacks.manager [req-c2ac235e-9b77-4a0b-bfef-5951c20a4040 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:20.438 2464 DEBUG neutron_lib.callbacks.manager [req-5f730e27-22d8-43a8-a52e-75429bd340ac - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:20.467 2471 DEBUG neutron_lib.callbacks.manager [req-b8b381a7-e2ef-40cb-93a7-1e6e350833ff - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:22.192 2480 DEBUG neutron_lib.callbacks.manager [req-93049a5e-5f3b-4271-bdc5-611b1374aea2 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:23.193 2463 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:28.275 2451 DEBUG neutron.wsgi [-] (2451) accepted ('10.0.20.23', 52058) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-28 23:40:28.280 2451 INFO neutron.wsgi [-] 10.0.20.23 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0025280
2018-06-28 23:40:28.819 2451 INFO neutron.pecan_wsgi.hooks.translation [req-741df0f5-1792-4a7f-93e8-5bd3f5ac2d2c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] GET failed (client error): The resource could not be found.
2018-06-28 23:40:28.820 2451 DEBUG neutron.quota.resource [req-741df0f5-1792-4a7f-93e8-5bd3f5ac2d2c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Synchronizing usage tracker for tenant:18163150e8884c51ba10086a3dc0c3ca on resource:network resync /usr/lib/python2.7/site-packages/neutron/quota/resource.py:245
2018-06-28 23:40:28.916 2451 DEBUG neutron.quota.resource [req-741df0f5-1792-4a7f-93e8-5bd3f5ac2d2c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Unset dirty status for tenant:18163150e8884c51ba10086a3dc0c3ca on resource:network _resync /usr/lib/python2.7/site-packages/neutron/quota/resource.py:237
2018-06-28 23:40:28.918 2451 INFO neutron.wsgi [req-741df0f5-1792-4a7f-93e8-5bd3f5ac2d2c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/networks/tempest-private-1530221895 HTTP/1.1" status: 404  len: 334 time: 0.6297951
2018-06-28 23:40:29.217 2451 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-cca89c90-5e01-4f69-8c0e-c988e7c8fe83 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:40:29.218 2451 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-cca89c90-5e01-4f69-8c0e-c988e7c8fe83 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:40:29.219 2451 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-cca89c90-5e01-4f69-8c0e-c988e7c8fe83 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:40:29.222 2451 INFO neutron.wsgi [req-cca89c90-5e01-4f69-8c0e-c988e7c8fe83 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/networks HTTP/1.1" status: 200  len: 2170 time: 0.2989261
2018-06-28 23:40:29.247 2451 DEBUG neutron.api.v2.base [req-5b4c10f0-9781-40e6-9cad-fd48c24b7b6e a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Request body: {u'subnet': {u'network_id': u'4cfcb274-d880-4eef-978b-5990cdb11aeb', u'ip_version': 4, u'cidr': u'11.0.1.0/24', u'dns_nameservers': [u'8.8.4.4'], u'name': u'tempest-private-subnet-1530221895'}} prepare_request_body /usr/lib/python2.7/site-packages/neutron/api/v2/base.py:695
2018-06-28 23:40:29.257 2451 DEBUG neutron.db.quota.driver [req-5b4c10f0-9781-40e6-9cad-fd48c24b7b6e a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Resources subnetpool have unlimited quota limit. It is not required to calculate headroom  make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:223
2018-06-28 23:40:29.266 2451 DEBUG neutron.quota.resource [req-5b4c10f0-9781-40e6-9cad-fd48c24b7b6e a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Usage tracker for resource:subnet and tenant:18163150e8884c51ba10086a3dc0c3ca is out of sync, need to count used quota count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:274
2018-06-28 23:40:29.282 2451 DEBUG neutron.quota.resource [req-5b4c10f0-9781-40e6-9cad-fd48c24b7b6e a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Quota usage for subnet was recalculated. Used quota:0. count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:293
2018-06-28 23:40:29.293 2451 DEBUG neutron.db.quota.driver [req-5b4c10f0-9781-40e6-9cad-fd48c24b7b6e a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attempting to reserve 1 items for resource subnet. Total usage: 0; quota limit: 100; headroom:100 make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:255
2018-06-28 23:40:29.333 2451 DEBUG neutron.pecan_wsgi.hooks.quota_enforcement [req-5b4c10f0-9781-40e6-9cad-fd48c24b7b6e a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Made reservation on behalf of 18163150e8884c51ba10086a3dc0c3ca for: {'subnet': 1} before /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/quota_enforcement.py:55
2018-06-28 23:40:29.708 2451 DEBUG neutron_lib.callbacks.manager [req-5b4c10f0-9781-40e6-9cad-fd48c24b7b6e a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-642066', 'neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-764435'] for subnet, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:29.740 2451 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 23:40:29.866 2483 DEBUG neutron.db.agents_db [req-cc6fac99-9da3-43fb-895f-4e0b06779f12 - - - - -] Agent healthcheck: found 5 active agents agent_health_check /usr/lib/python2.7/site-packages/neutron/db/agents_db.py:281
2018-06-28 23:40:29.966 2451 DEBUG neutron.api.rpc.handlers.resources_rpc [req-5b4c10f0-9781-40e6-9cad-fd48c24b7b6e a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7fd0217d6550>, [Subnet(allocation_pools=[IPAllocationPool(8bd0cc1f-4b70-4fb3-9e5a-984a4baf8108)],cidr=11.0.1.0/24,created_at=2018-06-28T21:40:29Z,description='',dns_nameservers=[DNSNameServer],enable_dhcp=True,gateway_ip=11.0.1.1,host_routes=[],id=45878efa-11dd-4f54-b7e2-b32ea38600ac,ip_version=4,ipv6_address_mode=<?>,ipv6_ra_mode=<?>,name='tempest-private-subnet-1530221895',network_id=4cfcb274-d880-4eef-978b-5990cdb11aeb,project_id='18163150e8884c51ba10086a3dc0c3ca',revision_number=0,segment_id=<?>,service_types=[],shared=False,subnetpool_id=<?>,updated_at=2018-06-28T21:40:29Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:40:30.021 2451 DEBUG oslo_concurrency.lockutils [req-5b4c10f0-9781-40e6-9cad-fd48c24b7b6e a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.281s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 23:40:30.134 2451 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-5b4c10f0-9781-40e6-9cad-fd48c24b7b6e a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Checking segment: {'network_id': '4cfcb274-d880-4eef-978b-5990cdb11aeb', 'segmentation_id': 16, 'physical_network': None, 'id': '927897f8-3764-40f4-8d9d-55c7eb378b29', 'network_type': u'vxlan'} for mappings: {u'extnet': u'br-ex'} with network types: [u'vxlan', 'local', 'flat', 'vlan'] check_segment_for_agent /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:237
2018-06-28 23:40:30.187 2451 DEBUG neutron.scheduler.dhcp_agent_scheduler [req-5b4c10f0-9781-40e6-9cad-fd48c24b7b6e a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Network 4cfcb274-d880-4eef-978b-5990cdb11aeb is scheduled to be hosted by DHCP agent fff52685-a6dc-4e61-b57a-5d72c6de310f bind /usr/lib/python2.7/site-packages/neutron/scheduler/dhcp_agent_scheduler.py:199
2018-06-28 23:40:30.328 2451 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-5b4c10f0-9781-40e6-9cad-fd48c24b7b6e a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:40:30.330 2451 DEBUG neutron_lib.callbacks.manager [req-5b4c10f0-9781-40e6-9cad-fd48c24b7b6e a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._send_dhcp_notification-764416'] for subnet, before_response _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:30.330 2481 DEBUG neutron.api.rpc.handlers.dhcp_rpc [req-3e860a4b-50a1-4e7d-8a75-6821b945a7f5 - - - - -] Network 4cfcb274-d880-4eef-978b-5990cdb11aeb requested from localhost.localdomain get_network_info /usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/dhcp_rpc.py:197
2018-06-28 23:40:30.383 2451 DEBUG neutron.quota.resource [req-5b4c10f0-9781-40e6-9cad-fd48c24b7b6e a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Persisted dirty status for tenant:18163150e8884c51ba10086a3dc0c3ca on resource:subnet mark_dirty /usr/lib/python2.7/site-packages/neutron/quota/resource.py:207
2018-06-28 23:40:30.406 2451 INFO neutron.wsgi [req-5b4c10f0-9781-40e6-9cad-fd48c24b7b6e a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "POST /v2.0/subnets HTTP/1.1" status: 201  len: 841 time: 1.1761880
2018-06-28 23:40:31.150 2464 DEBUG neutron.api.rpc.handlers.dhcp_rpc [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Create dhcp port {u'port': {u'name': u'', u'admin_state_up': True, u'network_id': u'4cfcb274-d880-4eef-978b-5990cdb11aeb', u'tenant_id': u'18163150e8884c51ba10086a3dc0c3ca', u'fixed_ips': [{u'subnet_id': u'45878efa-11dd-4f54-b7e2-b32ea38600ac'}], u'device_id': u'dhcpcd8f5f9f-e3e8-569f-87ef-f03c6cfc29bc-4cfcb274-d880-4eef-978b-5990cdb11aeb'}} from localhost.localdomain. create_dhcp_port /usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/dhcp_rpc.py:264
2018-06-28 23:40:31.154 2464 DEBUG neutron_lib.callbacks.manager [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler--9223372036852985240'] for port, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:31.750 2464 DEBUG neutron.db.db_base_plugin_common [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Allocated IP 11.0.1.2 (4cfcb274-d880-4eef-978b-5990cdb11aeb/45878efa-11dd-4f54-b7e2-b32ea38600ac/934505b2-dea3-48ac-a7e9-386804a0e091) _store_ip_allocation /usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_common.py:122
2018-06-28 23:40:32.213 2464 DEBUG neutron_lib.callbacks.manager [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Notify callbacks [] for port, precommit_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:32.262 2464 DEBUG neutron.db.provisioning_blocks [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Transition to ACTIVE for port object 934505b2-dea3-48ac-a7e9-386804a0e091 will not be triggered until provisioned by entity L2. add_provisioning_component /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:73
2018-06-28 23:40:32.312 2464 DEBUG neutron.db.provisioning_blocks [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Transition to ACTIVE for port object 934505b2-dea3-48ac-a7e9-386804a0e091 will not be triggered until provisioned by entity DHCP. add_provisioning_component /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:73
2018-06-28 23:40:32.344 2464 DEBUG neutron_lib.callbacks.manager [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-764435', 'neutron.db.l3_dvrscheduler_db._notify_l3_agent_new_port-8783244068507', 'neutron.plugins.ml2.plugin.Ml2Plugin.notify_sg_on_port_change-1790677', 'neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-642082'] for port, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:32.606 2464 DEBUG neutron.scheduler.dhcp_agent_scheduler [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Network 4cfcb274-d880-4eef-978b-5990cdb11aeb is already hosted by enough agents. _get_dhcp_agents_hosting_network /usr/lib/python2.7/site-packages/neutron/scheduler/dhcp_agent_scheduler.py:243
2018-06-28 23:40:32.644 2464 DEBUG neutron.db.l3_dvrscheduler_db [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Received port after_create _notify_l3_agent_new_port /usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py:392
2018-06-28 23:40:32.858 2464 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 23:40:33.012 2464 DEBUG neutron.plugins.ml2.managers [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Attempting to bind port 934505b2-dea3-48ac-a7e9-386804a0e091 on host localhost.localdomain for vnic_type normal with profile  bind_port /usr/lib/python2.7/site-packages/neutron/plugins/ml2/managers.py:744
2018-06-28 23:40:33.014 2464 DEBUG neutron.plugins.ml2.managers [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Attempting to bind port 934505b2-dea3-48ac-a7e9-386804a0e091 on host localhost.localdomain at level 0 using segments [{'network_id': '4cfcb274-d880-4eef-978b-5990cdb11aeb', 'segmentation_id': 16, 'physical_network': None, 'id': '927897f8-3764-40f4-8d9d-55c7eb378b29', 'network_type': u'vxlan'}] _bind_port_level /usr/lib/python2.7/site-packages/neutron/plugins/ml2/managers.py:765
2018-06-28 23:40:33.018 2464 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Attempting to bind port 934505b2-dea3-48ac-a7e9-386804a0e091 on network 4cfcb274-d880-4eef-978b-5990cdb11aeb bind_port /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:88
2018-06-28 23:40:33.054 2464 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Checking agent: {'binary': u'neutron-openvswitch-agent', 'description': None, 'admin_state_up': True, 'heartbeat_timestamp': datetime.datetime(2018, 6, 28, 21, 40, 23), 'availability_zone': None, 'alive': True, 'topic': u'N/A', 'host': u'localhost.localdomain', 'agent_type': u'Open vSwitch agent', 'resource_versions': {u'Subnet': u'1.0', u'Network': u'1.0', u'SubPort': u'1.0', u'SecurityGroup': u'1.0', u'SecurityGroupRule': u'1.0', u'Trunk': u'1.1', u'QosPolicy': u'1.6', u'Port': u'1.1', u'Log': u'1.0'}, 'created_at': datetime.datetime(2018, 6, 20, 16, 53, 47), 'started_at': datetime.datetime(2018, 6, 28, 21, 31, 23), 'id': u'75645f5b-4138-407e-9794-b263ac43a154', 'configurations': {u'ovs_hybrid_plug': True, u'in_distributed_mode': False, u'datapath_type': u'system', u'vhostuser_socket_dir': u'/var/run/openvswitch', u'tunneling_ip': u'10.0.20.23', u'arp_responder_enabled': False, u'devices': 4, u'ovs_capabilities': {u'datapath_types': [u'netdev', u'system'], u'iface_types': [u'geneve', u'gre', u'internal', u'lisp', u'patch', u'stt', u'system', u'tap', u'vxlan']}, u'log_agent_heartbeats': False, u'l2_population': False, u'tunnel_types': [u'vxlan'], u'extensions': [], u'enable_distributed_routing': False, u'bridge_mappings': {u'extnet': u'br-ex'}}} bind_port /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:104
2018-06-28 23:40:33.057 2464 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Checking segment: {'network_id': '4cfcb274-d880-4eef-978b-5990cdb11aeb', 'segmentation_id': 16, 'physical_network': None, 'id': '927897f8-3764-40f4-8d9d-55c7eb378b29', 'network_type': u'vxlan'} for mappings: {u'extnet': u'br-ex'} with network types: [u'vxlan', 'local', 'flat', 'vlan'] check_segment_for_agent /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:237
2018-06-28 23:40:33.060 2464 DEBUG neutron_lib.callbacks.manager [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Notify callbacks [] for ovs_bridge_name, before_read _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:33.062 2464 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Bound using segment: {'network_id': '4cfcb274-d880-4eef-978b-5990cdb11aeb', 'segmentation_id': 16, 'physical_network': None, 'id': '927897f8-3764-40f4-8d9d-55c7eb378b29', 'network_type': u'vxlan'} bind_port /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:109
2018-06-28 23:40:33.065 2464 DEBUG neutron.plugins.ml2.managers [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Bound port: 934505b2-dea3-48ac-a7e9-386804a0e091, host: localhost.localdomain, vif_type: ovs, vif_details: {"port_filter": true, "datapath_type": "system", "ovs_hybrid_plug": true}, binding_levels: [{'bound_driver': 'openvswitch', 'bound_segment': {'network_id': '4cfcb274-d880-4eef-978b-5990cdb11aeb', 'segmentation_id': 16, 'physical_network': None, 'id': '927897f8-3764-40f4-8d9d-55c7eb378b29', 'network_type': u'vxlan'}}] _bind_port_level /usr/lib/python2.7/site-packages/neutron/plugins/ml2/managers.py:813
2018-06-28 23:40:33.067 2464 DEBUG neutron_lib.callbacks.manager [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler--9223372036852985240'] for port, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:33.245 2464 DEBUG neutron.api.rpc.handlers.resources_rpc [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7fd02175e8d0>, [Port(admin_state_up=True,allowed_address_pairs=[],binding=PortBinding,binding_levels=[],created_at=2018-06-28T21:40:31Z,data_plane_status=<?>,description='',device_id='dhcpcd8f5f9f-e3e8-569f-87ef-f03c6cfc29bc-4cfcb274-d880-4eef-978b-5990cdb11aeb',device_owner='network:dhcp',dhcp_options=[],distributed_binding=None,dns=None,fixed_ips=[IPAllocation],id=934505b2-dea3-48ac-a7e9-386804a0e091,mac_address=fa:16:3e:45:0e:53,name='',network_id=4cfcb274-d880-4eef-978b-5990cdb11aeb,project_id='18163150e8884c51ba10086a3dc0c3ca',qos_policy_id=None,revision_number=3,security=PortSecurity(934505b2-dea3-48ac-a7e9-386804a0e091),security_group_ids=set([]),status='DOWN',updated_at=2018-06-28T21:40:32Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:40:33.272 2464 DEBUG neutron.api.rpc.callbacks.version_manager [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Version for resource type Subnet changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:33.273 2464 DEBUG neutron.api.rpc.callbacks.version_manager [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Version for resource type Network changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:33.274 2464 DEBUG neutron.api.rpc.callbacks.version_manager [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Version for resource type SubPort changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:33.275 2464 DEBUG neutron.api.rpc.callbacks.version_manager [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Version for resource type SecurityGroup changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:33.276 2464 DEBUG neutron.api.rpc.callbacks.version_manager [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Version for resource type SecurityGroupRule changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:33.277 2464 DEBUG neutron.api.rpc.callbacks.version_manager [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Version for resource type Trunk changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:33.277 2464 DEBUG neutron.api.rpc.callbacks.version_manager [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Version for resource type QosPolicy changed None to 1.6 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:33.278 2464 DEBUG neutron.api.rpc.callbacks.version_manager [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Version for resource type Port changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:33.280 2464 DEBUG neutron.api.rpc.callbacks.version_manager [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Version for resource type Log changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:33.286 2464 DEBUG neutron.api.rpc.callbacks.version_manager [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Tracked resource versions report:
pushed versions:
{   'Log': set(['1.0']),
    'Network': set(['1.0']),
    'Port': set(['1.1']),
    'QosPolicy': set(['1.6']),
    'SecurityGroup': set(['1.0']),
    'SecurityGroupRule': set(['1.0']),
    'SubPort': set(['1.0']),
    'Subnet': set(['1.0']),
    'Trunk': set(['1.1'])}

consumer versions:
{   DHCP agent@localhost.localdomain: {   },
    L3 agent@localhost.localdomain: {   },
    Metadata agent@localhost.localdomain: {   },
    Metering agent@localhost.localdomain: {   },
    Open vSwitch agent@localhost.localdomain: {   u'Log': u'1.0',
                                                  u'Network': u'1.0',
                                                  u'Port': u'1.1',
                                                  u'QosPolicy': u'1.6',
                                                  u'SecurityGroup': u'1.0',
                                                  u'SecurityGroupRule': u'1.0',
                                                  u'SubPort': u'1.0',
                                                  u'Subnet': u'1.0',
                                                  u'Trunk': u'1.1'}}
 report /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:178
2018-06-28 23:40:33.325 2464 DEBUG oslo_concurrency.lockutils [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.468s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 23:40:33.340 2464 DEBUG neutron.plugins.ml2.db [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] For port 934505b2-dea3-48ac-a7e9-386804a0e091, host localhost.localdomain, cleared binding levels clear_binding_levels /usr/lib/python2.7/site-packages/neutron/plugins/ml2/db.py:119
2018-06-28 23:40:33.346 2464 DEBUG neutron.plugins.ml2.db [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] For port 934505b2-dea3-48ac-a7e9-386804a0e091, host localhost.localdomain, set binding levels [<neutron.plugins.ml2.driver_context.InstanceSnapshot object at 0x7fd0217b98d0>] set_binding_levels /usr/lib/python2.7/site-packages/neutron/plugins/ml2/db.py:90
2018-06-28 23:40:33.370 2464 DEBUG neutron_lib.callbacks.manager [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-764435', 'neutron.db.l3_dvrscheduler_db._notify_l3_agent_port_update-8783244068522', 'neutron.plugins.ml2.plugin.Ml2Plugin.notify_sg_on_port_change-1790677', 'neutron.db.l3_hascheduler_db._notify_l3_agent_ha_port_update-8783244068597', 'neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-642082'] for port, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:33.632 2464 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 23:40:34.197 2464 DEBUG neutron.quota.resource [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Persisted dirty status for tenant:18163150e8884c51ba10086a3dc0c3ca on resource:port mark_dirty /usr/lib/python2.7/site-packages/neutron/quota/resource.py:207
2018-06-28 23:40:34.251 2464 DEBUG neutron.api.rpc.handlers.resources_rpc [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7fd021556710>, [Port(admin_state_up=True,allowed_address_pairs=[],binding=PortBinding,binding_levels=[PortBindingLevel],created_at=2018-06-28T21:40:31Z,data_plane_status=<?>,description='',device_id='dhcpcd8f5f9f-e3e8-569f-87ef-f03c6cfc29bc-4cfcb274-d880-4eef-978b-5990cdb11aeb',device_owner='network:dhcp',dhcp_options=[],distributed_binding=None,dns=None,fixed_ips=[IPAllocation],id=934505b2-dea3-48ac-a7e9-386804a0e091,mac_address=fa:16:3e:45:0e:53,name='',network_id=4cfcb274-d880-4eef-978b-5990cdb11aeb,project_id='18163150e8884c51ba10086a3dc0c3ca',qos_policy_id=None,revision_number=4,security=PortSecurity(934505b2-dea3-48ac-a7e9-386804a0e091),security_group_ids=set([]),status='DOWN',updated_at=2018-06-28T21:40:33Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:40:34.271 2464 DEBUG oslo_concurrency.lockutils [req-4222e7b4-53dc-4f21-9294-1f820503cd86 - - - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.639s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 23:40:34.958 2466 DEBUG neutron.api.rpc.handlers.dhcp_rpc [req-a34a5303-71e9-4e5b-a4b2-4c33d204bbaf - - - - -] Network 4cfcb274-d880-4eef-978b-5990cdb11aeb requested from localhost.localdomain get_network_info /usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/dhcp_rpc.py:197
2018-06-28 23:40:35.070 2467 DEBUG neutron.db.provisioning_blocks [req-c972c409-65b7-4733-9e50-d8d93acbd2f1 - - - - -] Provisioning for port 934505b2-dea3-48ac-a7e9-386804a0e091 completed by entity DHCP. provisioning_complete /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:132
2018-06-28 23:40:36.160 2471 DEBUG neutron.plugins.ml2.rpc [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Device 934505b2-dea3-48ac-a7e9-386804a0e091 up at agent ovs-agent-localhost.localdomain update_device_up /usr/lib/python2.7/site-packages/neutron/plugins/ml2/rpc.py:244
2018-06-28 23:40:36.315 2471 DEBUG neutron.db.provisioning_blocks [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Provisioning for port 934505b2-dea3-48ac-a7e9-386804a0e091 completed by entity L2. provisioning_complete /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:132
2018-06-28 23:40:36.324 2471 DEBUG neutron.db.provisioning_blocks [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Provisioning complete for port 934505b2-dea3-48ac-a7e9-386804a0e091 triggered by entity L2. provisioning_complete /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:138
2018-06-28 23:40:36.325 2471 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._port_provisioned-1983396'] for port, provisioning_complete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:36.441 2451 DEBUG neutron.wsgi [-] (2451) accepted ('10.0.20.23', 52102) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-28 23:40:36.444 2451 INFO neutron.wsgi [-] 10.0.20.23 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0018132
2018-06-28 23:40:36.511 2471 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler--9223372036852985240'] for port, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:36.628 2471 DEBUG neutron.plugins.ml2.db [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] For port 934505b2-dea3-48ac-a7e9-386804a0e091, host localhost.localdomain, got binding levels [<neutron.plugins.ml2.models.PortBindingLevel[object at 7fd0219eb6d0] {port_id=u'934505b2-dea3-48ac-a7e9-386804a0e091', host=u'localhost.localdomain', level=0, driver=u'openvswitch', segment_id=u'927897f8-3764-40f4-8d9d-55c7eb378b29'}>] get_binding_levels /usr/lib/python2.7/site-packages/neutron/plugins/ml2/db.py:106
2018-06-28 23:40:36.665 2471 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-764435', 'neutron.db.l3_dvrscheduler_db._notify_l3_agent_port_update-8783244068522', 'neutron.plugins.ml2.plugin.Ml2Plugin.notify_sg_on_port_change-1790677', 'neutron.db.l3_hascheduler_db._notify_l3_agent_ha_port_update-8783244068597', 'neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-642082'] for port, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:37.054 2471 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 23:40:37.060 2451 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-13327999-2466-4a6e-bbf1-4bec1124756c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:40:37.061 2451 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-13327999-2466-4a6e-bbf1-4bec1124756c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:40:37.062 2451 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-13327999-2466-4a6e-bbf1-4bec1124756c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:40:37.063 2451 DEBUG neutron.quota.resource [req-13327999-2466-4a6e-bbf1-4bec1124756c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Synchronizing usage tracker for tenant:18163150e8884c51ba10086a3dc0c3ca on resource:subnet resync /usr/lib/python2.7/site-packages/neutron/quota/resource.py:245
2018-06-28 23:40:37.117 2451 DEBUG neutron.quota.resource [req-13327999-2466-4a6e-bbf1-4bec1124756c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Unset dirty status for tenant:18163150e8884c51ba10086a3dc0c3ca on resource:subnet _resync /usr/lib/python2.7/site-packages/neutron/quota/resource.py:237
2018-06-28 23:40:37.120 2451 INFO neutron.wsgi [req-13327999-2466-4a6e-bbf1-4bec1124756c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/subnets HTTP/1.1" status: 200  len: 2046 time: 0.6709700
2018-06-28 23:40:37.196 2471 DEBUG neutron.api.rpc.handlers.resources_rpc [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7fd02197ec50>, [Port(admin_state_up=True,allowed_address_pairs=[],binding=PortBinding,binding_levels=[PortBindingLevel],created_at=2018-06-28T21:40:31Z,data_plane_status=<?>,description='',device_id='dhcpcd8f5f9f-e3e8-569f-87ef-f03c6cfc29bc-4cfcb274-d880-4eef-978b-5990cdb11aeb',device_owner='network:dhcp',dhcp_options=[],distributed_binding=None,dns=None,fixed_ips=[IPAllocation],id=934505b2-dea3-48ac-a7e9-386804a0e091,mac_address=fa:16:3e:45:0e:53,name='',network_id=4cfcb274-d880-4eef-978b-5990cdb11aeb,project_id='18163150e8884c51ba10086a3dc0c3ca',qos_policy_id=None,revision_number=5,security=PortSecurity(934505b2-dea3-48ac-a7e9-386804a0e091),security_group_ids=set([]),status='ACTIVE',updated_at=2018-06-28T21:40:36Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:40:37.207 2471 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type Subnet changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:37.208 2471 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type Network changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:37.209 2471 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type SubPort changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:37.209 2471 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type SecurityGroup changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:37.210 2471 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type SecurityGroupRule changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:37.210 2471 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type Trunk changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:37.211 2471 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type QosPolicy changed None to 1.6 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:37.211 2471 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type Port changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:37.212 2471 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type Log changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:40:37.213 2471 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Tracked resource versions report:
pushed versions:
{   'Log': set(['1.0']),
    'Network': set(['1.0']),
    'Port': set(['1.1']),
    'QosPolicy': set(['1.6']),
    'SecurityGroup': set(['1.0']),
    'SecurityGroupRule': set(['1.0']),
    'SubPort': set(['1.0']),
    'Subnet': set(['1.0']),
    'Trunk': set(['1.1'])}

consumer versions:
{   DHCP agent@localhost.localdomain: {   },
    L3 agent@localhost.localdomain: {   },
    Metadata agent@localhost.localdomain: {   },
    Metering agent@localhost.localdomain: {   },
    Open vSwitch agent@localhost.localdomain: {   u'Log': u'1.0',
                                                  u'Network': u'1.0',
                                                  u'Port': u'1.1',
                                                  u'QosPolicy': u'1.6',
                                                  u'SecurityGroup': u'1.0',
                                                  u'SecurityGroupRule': u'1.0',
                                                  u'SubPort': u'1.0',
                                                  u'Subnet': u'1.0',
                                                  u'Trunk': u'1.1'}}
 report /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:178
2018-06-28 23:40:37.226 2471 DEBUG oslo_concurrency.lockutils [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.172s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 23:40:38.187 2469 DEBUG neutron.plugins.ml2.rpc [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Device 934505b2-dea3-48ac-a7e9-386804a0e091 up at agent ovs-agent-localhost.localdomain update_device_up /usr/lib/python2.7/site-packages/neutron/plugins/ml2/rpc.py:244
2018-06-28 23:40:38.390 2469 DEBUG neutron.db.provisioning_blocks [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Provisioning complete for port 934505b2-dea3-48ac-a7e9-386804a0e091 triggered by entity L2. provisioning_complete /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:138
2018-06-28 23:40:38.391 2469 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._port_provisioned-1983396'] for port, provisioning_complete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:45.666 2451 DEBUG neutron.wsgi [-] (2451) accepted ('10.0.20.23', 52122) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-28 23:40:45.669 2451 INFO neutron.wsgi [-] 10.0.20.23 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0019970
2018-06-28 23:40:46.043 2451 DEBUG neutron.api.v2.base [req-658a979f-1a09-4054-840c-83159bc1a5eb a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Request body: {u'router': {u'name': u'tempest-router-1530221895', u'admin_state_up': True}} prepare_request_body /usr/lib/python2.7/site-packages/neutron/api/v2/base.py:695
2018-06-28 23:40:46.051 2451 DEBUG neutron.db.quota.driver [req-658a979f-1a09-4054-840c-83159bc1a5eb a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Resources subnetpool have unlimited quota limit. It is not required to calculate headroom  make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:223
2018-06-28 23:40:46.058 2451 DEBUG neutron.quota.resource [req-658a979f-1a09-4054-840c-83159bc1a5eb a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Usage tracker for resource:router and tenant:18163150e8884c51ba10086a3dc0c3ca is out of sync, need to count used quota count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:274
2018-06-28 23:40:46.073 2451 DEBUG neutron.quota.resource [req-658a979f-1a09-4054-840c-83159bc1a5eb a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Quota usage for router was recalculated. Used quota:0. count_used /usr/lib/python2.7/site-packages/neutron/quota/resource.py:293
2018-06-28 23:40:46.086 2451 DEBUG neutron.db.quota.driver [req-658a979f-1a09-4054-840c-83159bc1a5eb a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attempting to reserve 1 items for resource router. Total usage: 0; quota limit: 10; headroom:10 make_reservation /usr/lib/python2.7/site-packages/neutron/db/quota/driver.py:255
2018-06-28 23:40:46.134 2451 DEBUG neutron_lib.callbacks.manager [req-658a979f-1a09-4054-840c-83159bc1a5eb a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._before_router_create-534104', 'neutron.services.l3_router.service_providers.driver_controller.DriverController._check_router_request-41600'] for router, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:46.136 2451 DEBUG neutron_lib.callbacks.manager [req-658a979f-1a09-4054-840c-83159bc1a5eb a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.services.l3_router.service_providers.driver_controller.DriverController._set_router_provider-39280', 'neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._process_az_request-538712', 'neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._set_distributed_flag--9223372036854246265', 'neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._precommit_router_create--9223372036854241712'] for router, precommit_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:46.251 2451 DEBUG neutron_lib.callbacks.manager [req-658a979f-1a09-4054-840c-83159bc1a5eb a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._create_snat_interfaces_after_change--9223372036854246171', 'neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._after_router_create-534091'] for router, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:46.322 2451 DEBUG neutron.quota.resource [req-658a979f-1a09-4054-840c-83159bc1a5eb a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Persisted dirty status for tenant:18163150e8884c51ba10086a3dc0c3ca on resource:router mark_dirty /usr/lib/python2.7/site-packages/neutron/quota/resource.py:207
2018-06-28 23:40:46.342 2451 DEBUG neutron_lib.callbacks.manager [req-658a979f-1a09-4054-840c-83159bc1a5eb a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks [] for router, before_response _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:46.344 2451 INFO neutron.wsgi [req-658a979f-1a09-4054-840c-83159bc1a5eb a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "POST /v2.0/routers HTTP/1.1" status: 201  len: 727 time: 0.6657190
2018-06-28 23:40:50.416 2469 DEBUG neutron_lib.callbacks.manager [req-c2ac235e-9b77-4a0b-bfef-5951c20a4040 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:50.442 2481 DEBUG neutron_lib.callbacks.manager [req-5f730e27-22d8-43a8-a52e-75429bd340ac - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:50.482 2482 DEBUG neutron_lib.callbacks.manager [req-6939c29f-bf82-45ec-aaa4-7e8e282caef3 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:52.227 2467 DEBUG neutron_lib.callbacks.manager [req-79bea32b-fad6-4c54-8db0-b9d7b35d176f - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:52.897 2454 DEBUG neutron.wsgi [-] (2454) accepted ('10.0.20.23', 52138) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-28 23:40:52.900 2454 INFO neutron.wsgi [-] 10.0.20.23 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0018060
2018-06-28 23:40:53.220 2466 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:40:53.603 2454 INFO neutron.api.v2.resource [req-953aa465-ad82-4687-a169-5ffa3959372b a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] show failed (client error): The resource could not be found.
2018-06-28 23:40:53.605 2454 INFO neutron.wsgi [req-953aa465-ad82-4687-a169-5ffa3959372b a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/routers/tempest-router-1530221895 HTTP/1.1" status: 404  len: 334 time: 0.7002878
2018-06-28 23:40:53.796 2454 INFO neutron.wsgi [req-7d0be04e-5185-40e5-be95-3b952454e53d a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/routers HTTP/1.1" status: 200  len: 1406 time: 0.1858890
2018-06-28 23:41:01.240 2452 DEBUG neutron.wsgi [-] (2452) accepted ('10.0.20.23', 53180) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-28 23:41:01.256 2452 INFO neutron.wsgi [-] 10.0.20.23 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0080190
2018-06-28 23:41:01.264 2452 WARNING keystonemiddleware.auth_token [-] Using the in-process token cache is deprecated as of the 4.2.0 release and may be removed in the 5.0.0 release or the 'O' development cycle. The in-process cache causes inconsistent results and high memory usage. When the feature is removed the auth_token middleware will not cache tokens by default which may result in performance issues. It is recommended to use  memcache for the auth_token token cache by setting the memcached_servers option.
2018-06-28 23:41:02.690 2452 DEBUG oslo_policy._cache_handler [req-c2bd5a35-d572-4152-9fc6-69cc22677a3d a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-06-28 23:41:02.744 2452 DEBUG oslo_policy.policy [req-c2bd5a35-d572-4152-9fc6-69cc22677a3d a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:681
2018-06-28 23:41:03.415 2452 INFO neutron.pecan_wsgi.hooks.translation [req-c2bd5a35-d572-4152-9fc6-69cc22677a3d a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] GET failed (client error): The resource could not be found.
2018-06-28 23:41:03.419 2452 INFO neutron.wsgi [req-c2bd5a35-d572-4152-9fc6-69cc22677a3d a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/subnets/tempest-private-subnet-1530221895 HTTP/1.1" status: 404  len: 339 time: 2.1578791
2018-06-28 23:41:03.590 2452 DEBUG oslo_policy._cache_handler [req-3f3eb639-7273-42d7-94e3-289fa5a05989 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Reloading cached file /etc/neutron/policy.json read_cached_file /usr/lib/python2.7/site-packages/oslo_policy/_cache_handler.py:40
2018-06-28 23:41:03.616 2452 DEBUG oslo_policy.policy [req-3f3eb639-7273-42d7-94e3-289fa5a05989 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Reloaded policy file: /etc/neutron/policy.json _load_policy_file /usr/lib/python2.7/site-packages/oslo_policy/policy.py:681
2018-06-28 23:41:03.623 2452 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-3f3eb639-7273-42d7-94e3-289fa5a05989 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:41:03.624 2452 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-3f3eb639-7273-42d7-94e3-289fa5a05989 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:41:03.625 2452 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-3f3eb639-7273-42d7-94e3-289fa5a05989 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'shared'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:41:03.628 2452 INFO neutron.wsgi [req-3f3eb639-7273-42d7-94e3-289fa5a05989 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/subnets HTTP/1.1" status: 200  len: 2046 time: 0.2017491
2018-06-28 23:41:04.051 2452 INFO neutron.api.v2.resource [req-82921995-82dc-4b60-b129-5c4c34d428ec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] show failed (client error): The resource could not be found.
2018-06-28 23:41:04.053 2452 INFO neutron.wsgi [req-82921995-82dc-4b60-b129-5c4c34d428ec a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/routers/tempest-router-1530221895 HTTP/1.1" status: 404  len: 334 time: 0.4169281
2018-06-28 23:41:04.238 2452 INFO neutron.wsgi [req-9dfdec88-8061-4439-843b-8a57d2a5aa98 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/routers HTTP/1.1" status: 200  len: 1406 time: 0.1816940
2018-06-28 23:41:04.822 2452 DEBUG neutron_lib.callbacks.manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler--9223372036852985240'] for port, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:05.384 2452 DEBUG neutron.db.db_base_plugin_common [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Allocated IP 11.0.1.1 (4cfcb274-d880-4eef-978b-5990cdb11aeb/45878efa-11dd-4f54-b7e2-b32ea38600ac/f5815f9f-9337-45c9-97cb-9459fedd3671) _store_ip_allocation /usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_common.py:122
2018-06-28 23:41:05.842 2452 DEBUG neutron_lib.callbacks.manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks [] for port, precommit_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:05.884 2452 DEBUG neutron.db.provisioning_blocks [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Transition to ACTIVE for port object f5815f9f-9337-45c9-97cb-9459fedd3671 will not be triggered until provisioned by entity DHCP. add_provisioning_component /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:73
2018-06-28 23:41:05.939 2452 DEBUG neutron_lib.callbacks.manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-764435', 'neutron.db.l3_dvrscheduler_db._notify_l3_agent_new_port-8783244068507', 'neutron.plugins.ml2.plugin.Ml2Plugin.notify_sg_on_port_change-1790677', 'neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-642082'] for port, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:06.319 2452 DEBUG neutron.scheduler.dhcp_agent_scheduler [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Network 4cfcb274-d880-4eef-978b-5990cdb11aeb is already hosted by enough agents. _get_dhcp_agents_hosting_network /usr/lib/python2.7/site-packages/neutron/scheduler/dhcp_agent_scheduler.py:243
2018-06-28 23:41:06.563 2452 DEBUG neutron.db.l3_dvrscheduler_db [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Received port after_create _notify_l3_agent_new_port /usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py:392
2018-06-28 23:41:06.564 2452 DEBUG neutron_lib.callbacks.manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._add_csnat_on_interface_create--9223372036854247140'] for router_interface, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:06.568 2452 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 23:41:06.701 2452 DEBUG neutron.api.rpc.handlers.resources_rpc [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7fd0217c3b50>, [Port(admin_state_up=True,allowed_address_pairs=[],binding=PortBinding,binding_levels=[],created_at=2018-06-28T21:41:05Z,data_plane_status=<?>,description='',device_id='6b372a0b-c1da-4335-a34a-113bc81513e9',device_owner='network:router_interface',dhcp_options=[],distributed_binding=None,dns=None,fixed_ips=[IPAllocation],id=f5815f9f-9337-45c9-97cb-9459fedd3671,mac_address=fa:16:3e:88:2f:0e,name='',network_id=4cfcb274-d880-4eef-978b-5990cdb11aeb,project_id='18163150e8884c51ba10086a3dc0c3ca',qos_policy_id=None,revision_number=3,security=PortSecurity(f5815f9f-9337-45c9-97cb-9459fedd3671),security_group_ids=set([]),status='DOWN',updated_at=2018-06-28T21:41:05Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:41:06.757 2452 DEBUG neutron.api.rpc.callbacks.version_manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Subnet changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:06.758 2452 DEBUG neutron.api.rpc.callbacks.version_manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Network changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:06.758 2452 DEBUG neutron.api.rpc.callbacks.version_manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type SubPort changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:06.759 2452 DEBUG neutron.api.rpc.callbacks.version_manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type SecurityGroup changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:06.759 2452 DEBUG neutron.api.rpc.callbacks.version_manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type SecurityGroupRule changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:06.760 2452 DEBUG neutron.api.rpc.callbacks.version_manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Trunk changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:06.760 2452 DEBUG neutron.api.rpc.callbacks.version_manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type QosPolicy changed None to 1.6 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:06.761 2452 DEBUG neutron.api.rpc.callbacks.version_manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Port changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:06.762 2452 DEBUG neutron.api.rpc.callbacks.version_manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Version for resource type Log changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:06.766 2452 DEBUG neutron.api.rpc.callbacks.version_manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Tracked resource versions report:
pushed versions:
{   'Log': set(['1.0']),
    'Network': set(['1.0']),
    'Port': set(['1.1']),
    'QosPolicy': set(['1.6']),
    'SecurityGroup': set(['1.0']),
    'SecurityGroupRule': set(['1.0']),
    'SubPort': set(['1.0']),
    'Subnet': set(['1.0']),
    'Trunk': set(['1.1'])}

consumer versions:
{   DHCP agent@localhost.localdomain: {   },
    L3 agent@localhost.localdomain: {   },
    Metadata agent@localhost.localdomain: {   },
    Metering agent@localhost.localdomain: {   },
    Open vSwitch agent@localhost.localdomain: {   u'Log': u'1.0',
                                                  u'Network': u'1.0',
                                                  u'Port': u'1.1',
                                                  u'QosPolicy': u'1.6',
                                                  u'SecurityGroup': u'1.0',
                                                  u'SecurityGroupRule': u'1.0',
                                                  u'SubPort': u'1.0',
                                                  u'Subnet': u'1.0',
                                                  u'Trunk': u'1.1'}}
 report /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:178
2018-06-28 23:41:06.772 2480 DEBUG neutron.db.provisioning_blocks [req-e5e1a15e-890e-4a58-bc36-69d6ceb4e166 - - - - -] Provisioning for port f5815f9f-9337-45c9-97cb-9459fedd3671 completed by entity DHCP. provisioning_complete /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:132
2018-06-28 23:41:06.778 2480 DEBUG neutron.db.provisioning_blocks [req-e5e1a15e-890e-4a58-bc36-69d6ceb4e166 - - - - -] Provisioning complete for port f5815f9f-9337-45c9-97cb-9459fedd3671 triggered by entity DHCP. provisioning_complete /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:138
2018-06-28 23:41:06.779 2480 DEBUG neutron_lib.callbacks.manager [req-e5e1a15e-890e-4a58-bc36-69d6ceb4e166 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._port_provisioned-1983396'] for port, provisioning_complete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:06.780 2452 DEBUG oslo_concurrency.lockutils [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.212s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 23:41:06.806 2452 DEBUG neutron_lib.callbacks.manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler--9223372036852985240'] for port, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:06.849 2480 DEBUG neutron.plugins.ml2.plugin [req-e5e1a15e-890e-4a58-bc36-69d6ceb4e166 - - - - -] Port f5815f9f-9337-45c9-97cb-9459fedd3671 cannot update to ACTIVE because it is not bound. _port_provisioned /usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py:244
2018-06-28 23:41:06.857 2483 DEBUG neutron.db.agents_db [req-cc6fac99-9da3-43fb-895f-4e0b06779f12 - - - - -] Agent healthcheck: found 5 active agents agent_health_check /usr/lib/python2.7/site-packages/neutron/db/agents_db.py:281
2018-06-28 23:41:07.188 2452 DEBUG neutron_lib.callbacks.manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks [] for port, precommit_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:07.207 2452 DEBUG neutron_lib.callbacks.manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-764435', 'neutron.db.l3_dvrscheduler_db._notify_l3_agent_port_update-8783244068522', 'neutron.plugins.ml2.plugin.Ml2Plugin.notify_sg_on_port_change-1790677', 'neutron.db.l3_hascheduler_db._notify_l3_agent_ha_port_update-8783244068597', 'neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-642082'] for port, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:07.210 2452 DEBUG neutron_lib.callbacks.manager [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._update_snat_v6_addrs_after_intf_update-528762', 'neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._after_router_interface_created-764450'] for router_interface, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:07.229 2452 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 23:41:07.405 2452 DEBUG neutron.api.rpc.handlers.resources_rpc [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7fd021882150>, [Port(admin_state_up=True,allowed_address_pairs=[],binding=PortBinding,binding_levels=[],created_at=2018-06-28T21:41:05Z,data_plane_status=<?>,description='',device_id='6b372a0b-c1da-4335-a34a-113bc81513e9',device_owner='network:router_interface',dhcp_options=[],distributed_binding=None,dns=None,fixed_ips=[IPAllocation],id=f5815f9f-9337-45c9-97cb-9459fedd3671,mac_address=fa:16:3e:88:2f:0e,name='',network_id=4cfcb274-d880-4eef-978b-5990cdb11aeb,project_id='18163150e8884c51ba10086a3dc0c3ca',qos_policy_id=None,revision_number=4,security=PortSecurity(f5815f9f-9337-45c9-97cb-9459fedd3671),security_group_ids=set([]),status='DOWN',updated_at=2018-06-28T21:41:06Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:41:07.461 2452 DEBUG oslo_concurrency.lockutils [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.232s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 23:41:07.502 2452 DEBUG neutron.scheduler.dhcp_agent_scheduler [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Network 4cfcb274-d880-4eef-978b-5990cdb11aeb is already hosted by enough agents. _get_dhcp_agents_hosting_network /usr/lib/python2.7/site-packages/neutron/scheduler/dhcp_agent_scheduler.py:243
2018-06-28 23:41:07.643 2461 INFO neutron.wsgi [req-0370cb8d-d076-49ec-9bf9-fab1c6f492f6 72eef6c8af39495084702b0217df08d6 4340e242277144a39aad7507a87ea19b - default default] 10.0.20.23 "GET /v2.0/ports?tenant_id=007e7f1ed2554995b505b934dd328646&device_id=f14c2b46-9095-4307-a38c-260473ea3ec3 HTTP/1.1" status: 200  len: 1125 time: 0.5215192
2018-06-28 23:41:07.699 2481 DEBUG neutron.db.provisioning_blocks [req-6503e624-7008-4aff-95be-a50260b48fd7 - - - - -] Provisioning complete for port f5815f9f-9337-45c9-97cb-9459fedd3671 triggered by entity DHCP. provisioning_complete /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:138
2018-06-28 23:41:07.700 2481 DEBUG neutron_lib.callbacks.manager [req-6503e624-7008-4aff-95be-a50260b48fd7 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._port_provisioned-1983396'] for port, provisioning_complete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:07.709 2452 DEBUG neutron.scheduler.l3_agent_scheduler [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Router 6b372a0b-c1da-4335-a34a-113bc81513e9 is scheduled to L3 agent f3b2a706-18d3-46f7-853e-b527dfd7fad6 with binding_index 1 bind_router /usr/lib/python2.7/site-packages/neutron/scheduler/l3_agent_scheduler.py:225
2018-06-28 23:41:07.766 2481 DEBUG neutron.plugins.ml2.plugin [req-6503e624-7008-4aff-95be-a50260b48fd7 - - - - -] Port f5815f9f-9337-45c9-97cb-9459fedd3671 cannot update to ACTIVE because it is not bound. _port_provisioned /usr/lib/python2.7/site-packages/neutron/plugins/ml2/plugin.py:244
2018-06-28 23:41:07.837 2452 DEBUG neutron.api.rpc.agentnotifiers.l3_rpc_agent_api [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify agent at l3_agent.localhost.localdomain the message routers_updated _agent_notification /usr/lib/python2.7/site-packages/neutron/api/rpc/agentnotifiers/l3_rpc_agent_api.py:69
2018-06-28 23:41:07.889 2461 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-401e3f56-20b8-444d-be75-d050bdcd0789 72eef6c8af39495084702b0217df08d6 4340e242277144a39aad7507a87ea19b - default default] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:41:07.892 2461 INFO neutron.wsgi [req-401e3f56-20b8-444d-be75-d050bdcd0789 72eef6c8af39495084702b0217df08d6 4340e242277144a39aad7507a87ea19b - default default] 10.0.20.23 "GET /v2.0/networks?id=27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e HTTP/1.1" status: 200  len: 888 time: 0.2438471
2018-06-28 23:41:07.900 2469 DEBUG neutron.db.l3_hamode_db [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] neutron.services.l3_router.l3_router_plugin.L3RouterPlugin method get_ha_sync_data_for_host called with arguments (<neutron_lib.context.Context object at 0x7fd021b7fa50>, u'localhost.localdomain', <neutron.db.models.agent.Agent[object at 7fd021c181d0] {id=u'f3b2a706-18d3-46f7-853e-b527dfd7fad6', agent_type=u'L3 agent', binary=u'neutron-l3-agent', topic=u'l3_agent', host=u'localhost.localdomain', availability_zone=u'nova', admin_state_up=True, created_at=datetime.datetime(2018, 6, 20, 16, 53, 37), started_at=datetime.datetime(2018, 6, 28, 21, 31, 22), heartbeat_timestamp=datetime.datetime(2018, 6, 28, 21, 40, 52), description=None, configurations=u'{"agent_mode": "legacy", "gateway_external_network_id": "", "handle_internal_only_routers": true, "routers": 1, "interfaces": 1, "floating_ips": 0, "interface_driver": "neutron.agent.linux.interface.OVSInterfaceDriver", "log_agent_heartbeats": false, "external_network_bridge": "", "ex_gw_ports": 1}', resource_versions=None, load=0}>) {'active': True, 'router_ids': ['6b372a0b-c1da-4335-a34a-113bc81513e9']} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:41:07.923 2452 DEBUG neutron.quota.resource [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Persisted dirty status for tenant:18163150e8884c51ba10086a3dc0c3ca on resource:port mark_dirty /usr/lib/python2.7/site-packages/neutron/quota/resource.py:207
2018-06-28 23:41:07.928 2452 INFO neutron.wsgi [req-ef455adf-42d4-4de5-b0d5-946d1b5a3e77 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "PUT /v2.0/routers/6b372a0b-c1da-4335-a34a-113bc81513e9/add_router_interface HTTP/1.1" status: 200  len: 508 time: 3.6814179
2018-06-28 23:41:08.579 2469 DEBUG neutron.db.l3_hamode_db [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] neutron.services.l3_router.l3_router_plugin.L3RouterPlugin method _process_sync_ha_data called with arguments (<neutron_lib.context.Context object at 0x7fd021b7fa50>, [{'status': u'ACTIVE', '_interfaces': [{'status': u'DOWN', 'subnets': [{'dns_nameservers': [u'8.8.4.4'], 'ipv6_ra_mode': None, 'gateway_ip': u'11.0.1.1', 'cidr': u'11.0.1.0/24', 'id': u'45878efa-11dd-4f54-b7e2-b32ea38600ac', 'subnetpool_id': None}], 'binding:host_id': u'', 'description': u'', 'allowed_address_pairs': [], 'tags': [], 'extra_dhcp_opts': [], 'updated_at': '2018-06-28T21:41:06Z', 'device_owner': u'network:router_interface', 'revision_number': 4, 'port_security_enabled': False, 'binding:profile': {}, 'mtu': 1450, 'fixed_ips': [{'subnet_id': u'45878efa-11dd-4f54-b7e2-b32ea38600ac', 'prefixlen': 24, 'ip_address': u'11.0.1.1'}], 'id': u'f5815f9f-9337-45c9-97cb-9459fedd3671', 'security_groups': [], 'device_id': u'6b372a0b-c1da-4335-a34a-113bc81513e9', 'name': u'', 'admin_state_up': True, 'network_id': u'4cfcb274-d880-4eef-978b-5990cdb11aeb', 'tenant_id': u'18163150e8884c51ba10086a3dc0c3ca', 'binding:vif_details': {}, 'address_scopes': {4: None, 6: None}, 'binding:vnic_type': u'normal', 'binding:vif_type': u'unbound', 'mac_address': u'fa:16:3e:88:2f:0e', 'project_id': u'18163150e8884c51ba10086a3dc0c3ca', 'extra_subnets': [], 'created_at': '2018-06-28T21:41:05Z'}], 'ha_vr_id': 0, 'description': u'', 'tags': [], 'updated_at': '2018-06-28T21:41:06Z', 'revision_number': 2, 'ha': False, 'id': u'6b372a0b-c1da-4335-a34a-113bc81513e9', 'external_gateway_info': None, 'availability_zone_hints': [], 'availability_zones': [u'nova'], 'name': u'tempest-router-1530221895', 'gw_port_id': None, 'admin_state_up': True, 'tenant_id': u'18163150e8884c51ba10086a3dc0c3ca', 'created_at': '2018-06-28T21:40:46Z', 'distributed': False, 'flavor_id': None, 'routes': [], 'project_id': u'18163150e8884c51ba10086a3dc0c3ca'}], u'localhost.localdomain', False) {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:41:08.590 2469 DEBUG neutron.api.rpc.handlers.l3_rpc [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] Checking router: 6b372a0b-c1da-4335-a34a-113bc81513e9 for host: localhost.localdomain _ensure_host_set_on_ports /usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py:135
2018-06-28 23:41:08.651 2469 DEBUG neutron_lib.callbacks.manager [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler--9223372036852985240'] for port, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:09.214 2469 DEBUG neutron_lib.callbacks.manager [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] Notify callbacks [] for port, precommit_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:09.240 2469 DEBUG neutron.db.provisioning_blocks [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] Transition to ACTIVE for port object f5815f9f-9337-45c9-97cb-9459fedd3671 will not be triggered until provisioned by entity L2. add_provisioning_component /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:73
2018-06-28 23:41:09.248 2469 DEBUG neutron_lib.callbacks.manager [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-764435', 'neutron.db.l3_dvrscheduler_db._notify_l3_agent_port_update-8783244068522', 'neutron.plugins.ml2.plugin.Ml2Plugin.notify_sg_on_port_change-1790677', 'neutron.db.l3_hascheduler_db._notify_l3_agent_ha_port_update-8783244068597', 'neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-642082'] for port, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:09.799 2469 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 23:41:09.844 2469 DEBUG neutron.plugins.ml2.managers [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] Attempting to bind port f5815f9f-9337-45c9-97cb-9459fedd3671 on host localhost.localdomain for vnic_type normal with profile  bind_port /usr/lib/python2.7/site-packages/neutron/plugins/ml2/managers.py:744
2018-06-28 23:41:09.844 2469 DEBUG neutron.plugins.ml2.managers [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] Attempting to bind port f5815f9f-9337-45c9-97cb-9459fedd3671 on host localhost.localdomain at level 0 using segments [{'network_id': '4cfcb274-d880-4eef-978b-5990cdb11aeb', 'segmentation_id': 16, 'physical_network': None, 'id': '927897f8-3764-40f4-8d9d-55c7eb378b29', 'network_type': u'vxlan'}] _bind_port_level /usr/lib/python2.7/site-packages/neutron/plugins/ml2/managers.py:765
2018-06-28 23:41:09.845 2469 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] Attempting to bind port f5815f9f-9337-45c9-97cb-9459fedd3671 on network 4cfcb274-d880-4eef-978b-5990cdb11aeb bind_port /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:88
2018-06-28 23:41:09.857 2469 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] Checking agent: {'binary': u'neutron-openvswitch-agent', 'description': None, 'admin_state_up': True, 'heartbeat_timestamp': datetime.datetime(2018, 6, 28, 21, 40, 53), 'availability_zone': None, 'alive': True, 'topic': u'N/A', 'host': u'localhost.localdomain', 'agent_type': u'Open vSwitch agent', 'resource_versions': {u'Subnet': u'1.0', u'Network': u'1.0', u'SubPort': u'1.0', u'SecurityGroup': u'1.0', u'SecurityGroupRule': u'1.0', u'Trunk': u'1.1', u'QosPolicy': u'1.6', u'Port': u'1.1', u'Log': u'1.0'}, 'created_at': datetime.datetime(2018, 6, 20, 16, 53, 47), 'started_at': datetime.datetime(2018, 6, 28, 21, 31, 23), 'id': u'75645f5b-4138-407e-9794-b263ac43a154', 'configurations': {u'ovs_hybrid_plug': True, u'in_distributed_mode': False, u'datapath_type': u'system', u'vhostuser_socket_dir': u'/var/run/openvswitch', u'tunneling_ip': u'10.0.20.23', u'arp_responder_enabled': False, u'devices': 4, u'ovs_capabilities': {u'datapath_types': [u'netdev', u'system'], u'iface_types': [u'geneve', u'gre', u'internal', u'lisp', u'patch', u'stt', u'system', u'tap', u'vxlan']}, u'log_agent_heartbeats': False, u'l2_population': False, u'tunnel_types': [u'vxlan'], u'extensions': [], u'enable_distributed_routing': False, u'bridge_mappings': {u'extnet': u'br-ex'}}} bind_port /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:104
2018-06-28 23:41:09.858 2469 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] Checking segment: {'network_id': '4cfcb274-d880-4eef-978b-5990cdb11aeb', 'segmentation_id': 16, 'physical_network': None, 'id': '927897f8-3764-40f4-8d9d-55c7eb378b29', 'network_type': u'vxlan'} for mappings: {u'extnet': u'br-ex'} with network types: [u'vxlan', 'local', 'flat', 'vlan'] check_segment_for_agent /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:237
2018-06-28 23:41:09.858 2469 DEBUG neutron_lib.callbacks.manager [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] Notify callbacks [] for ovs_bridge_name, before_read _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:09.859 2469 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] Bound using segment: {'network_id': '4cfcb274-d880-4eef-978b-5990cdb11aeb', 'segmentation_id': 16, 'physical_network': None, 'id': '927897f8-3764-40f4-8d9d-55c7eb378b29', 'network_type': u'vxlan'} bind_port /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:109
2018-06-28 23:41:09.860 2469 DEBUG neutron.plugins.ml2.managers [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] Bound port: f5815f9f-9337-45c9-97cb-9459fedd3671, host: localhost.localdomain, vif_type: ovs, vif_details: {"port_filter": true, "datapath_type": "system", "ovs_hybrid_plug": true}, binding_levels: [{'bound_driver': 'openvswitch', 'bound_segment': {'network_id': '4cfcb274-d880-4eef-978b-5990cdb11aeb', 'segmentation_id': 16, 'physical_network': None, 'id': '927897f8-3764-40f4-8d9d-55c7eb378b29', 'network_type': u'vxlan'}}] _bind_port_level /usr/lib/python2.7/site-packages/neutron/plugins/ml2/managers.py:813
2018-06-28 23:41:09.860 2469 DEBUG neutron_lib.callbacks.manager [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler--9223372036852985240'] for port, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:09.948 2469 DEBUG neutron.api.rpc.handlers.resources_rpc [req-e0189109-531b-42ac-a984-7122728b20e2 - - - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7fd021780dd0>, [Port(admin_state_up=True,allowed_address_pairs=[],binding=PortBinding,binding_levels=[],created_at=2018-06-28T21:41:05Z,data_plane_status=<?>,description='',device_id='6b372a0b-c1da-4335-a34a-113bc81513e9',device_owner='network:router_interface',dhcp_options=[],distributed_binding=None,dns=None,fixed_ips=[IPAllocation],id=f5815f9f-9337-45c9-97cb-9459fedd3671,mac_address=fa:16:3e:88:2f:0e,name='',network_id=4cfcb274-d880-4eef-978b-5990cdb11aeb,project_id='18163150e8884c51ba10086a3dc0c3ca',qos_policy_id=None,revision_number=5,security=PortSecurity(f5815f9f-9337-45c9-97cb-9459fedd3671),security_group_ids=set([]),status='DOWN',updated_at=2018-06-28T21:41:09Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:41:10.297 2469 DEBUG neutron.api.rpc.callbacks.version_manager [req-e0189109-531b-42ac-a984-7122728b20e2 - - - - -] Version for resource type Subnet changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:10.298 2469 DEBUG neutron.api.rpc.callbacks.version_manager [req-e0189109-531b-42ac-a984-7122728b20e2 - - - - -] Version for resource type Network changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:10.298 2469 DEBUG neutron.api.rpc.callbacks.version_manager [req-e0189109-531b-42ac-a984-7122728b20e2 - - - - -] Version for resource type SubPort changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:10.299 2469 DEBUG neutron.api.rpc.callbacks.version_manager [req-e0189109-531b-42ac-a984-7122728b20e2 - - - - -] Version for resource type SecurityGroup changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:10.300 2469 DEBUG neutron.api.rpc.callbacks.version_manager [req-e0189109-531b-42ac-a984-7122728b20e2 - - - - -] Version for resource type SecurityGroupRule changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:10.300 2469 DEBUG neutron.api.rpc.callbacks.version_manager [req-e0189109-531b-42ac-a984-7122728b20e2 - - - - -] Version for resource type Trunk changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:10.301 2469 DEBUG neutron.api.rpc.callbacks.version_manager [req-e0189109-531b-42ac-a984-7122728b20e2 - - - - -] Version for resource type QosPolicy changed None to 1.6 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:10.301 2469 DEBUG neutron.api.rpc.callbacks.version_manager [req-e0189109-531b-42ac-a984-7122728b20e2 - - - - -] Version for resource type Port changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:10.302 2469 DEBUG neutron.api.rpc.callbacks.version_manager [req-e0189109-531b-42ac-a984-7122728b20e2 - - - - -] Version for resource type Log changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:10.303 2469 DEBUG neutron.api.rpc.callbacks.version_manager [req-e0189109-531b-42ac-a984-7122728b20e2 - - - - -] Tracked resource versions report:
pushed versions:
{   'Log': set(['1.0']),
    'Network': set(['1.0']),
    'Port': set(['1.1']),
    'QosPolicy': set(['1.6']),
    'SecurityGroup': set(['1.0']),
    'SecurityGroupRule': set(['1.0']),
    'SubPort': set(['1.0']),
    'Subnet': set(['1.0']),
    'Trunk': set(['1.1'])}

consumer versions:
{   DHCP agent@localhost.localdomain: {   },
    L3 agent@localhost.localdomain: {   },
    Metadata agent@localhost.localdomain: {   },
    Metering agent@localhost.localdomain: {   },
    Open vSwitch agent@localhost.localdomain: {   u'Log': u'1.0',
                                                  u'Network': u'1.0',
                                                  u'Port': u'1.1',
                                                  u'QosPolicy': u'1.6',
                                                  u'SecurityGroup': u'1.0',
                                                  u'SecurityGroupRule': u'1.0',
                                                  u'SubPort': u'1.0',
                                                  u'Subnet': u'1.0',
                                                  u'Trunk': u'1.1'}}
 report /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:178
2018-06-28 23:41:10.361 2469 DEBUG oslo_concurrency.lockutils [req-e0189109-531b-42ac-a984-7122728b20e2 - - - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.563s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 23:41:10.370 2469 DEBUG neutron.plugins.ml2.db [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] For port f5815f9f-9337-45c9-97cb-9459fedd3671, host localhost.localdomain, cleared binding levels clear_binding_levels /usr/lib/python2.7/site-packages/neutron/plugins/ml2/db.py:119
2018-06-28 23:41:10.377 2469 DEBUG neutron.plugins.ml2.db [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] For port f5815f9f-9337-45c9-97cb-9459fedd3671, host localhost.localdomain, set binding levels [<neutron.plugins.ml2.driver_context.InstanceSnapshot object at 0x7fd0216778d0>] set_binding_levels /usr/lib/python2.7/site-packages/neutron/plugins/ml2/db.py:90
2018-06-28 23:41:10.394 2469 DEBUG neutron_lib.callbacks.manager [req-a8658416-90cd-4ad0-9795-9dfa680acc75 - - - - -] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-764435', 'neutron.db.l3_dvrscheduler_db._notify_l3_agent_port_update-8783244068522', 'neutron.plugins.ml2.plugin.Ml2Plugin.notify_sg_on_port_change-1790677', 'neutron.db.l3_hascheduler_db._notify_l3_agent_ha_port_update-8783244068597', 'neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-642082'] for port, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:10.626 2469 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 23:41:10.762 2469 DEBUG neutron.api.rpc.handlers.resources_rpc [req-e0189109-531b-42ac-a984-7122728b20e2 - - - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7fd0219772d0>, [Port(admin_state_up=True,allowed_address_pairs=[],binding=PortBinding,binding_levels=[PortBindingLevel],created_at=2018-06-28T21:41:05Z,data_plane_status=<?>,description='',device_id='6b372a0b-c1da-4335-a34a-113bc81513e9',device_owner='network:router_interface',dhcp_options=[],distributed_binding=None,dns=None,fixed_ips=[IPAllocation],id=f5815f9f-9337-45c9-97cb-9459fedd3671,mac_address=fa:16:3e:88:2f:0e,name='',network_id=4cfcb274-d880-4eef-978b-5990cdb11aeb,project_id='18163150e8884c51ba10086a3dc0c3ca',qos_policy_id=None,revision_number=6,security=PortSecurity(f5815f9f-9337-45c9-97cb-9459fedd3671),security_group_ids=set([]),status='DOWN',updated_at=2018-06-28T21:41:10Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:41:10.776 2469 DEBUG oslo_concurrency.lockutils [req-e0189109-531b-42ac-a984-7122728b20e2 - - - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.149s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 23:41:12.153 2467 DEBUG neutron.plugins.ml2.rpc [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Device f5815f9f-9337-45c9-97cb-9459fedd3671 up at agent ovs-agent-localhost.localdomain update_device_up /usr/lib/python2.7/site-packages/neutron/plugins/ml2/rpc.py:244
2018-06-28 23:41:12.301 2467 DEBUG neutron.db.provisioning_blocks [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Provisioning for port f5815f9f-9337-45c9-97cb-9459fedd3671 completed by entity L2. provisioning_complete /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:132
2018-06-28 23:41:12.308 2467 DEBUG neutron.db.provisioning_blocks [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Provisioning complete for port f5815f9f-9337-45c9-97cb-9459fedd3671 triggered by entity L2. provisioning_complete /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:138
2018-06-28 23:41:12.310 2467 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._port_provisioned-1983396'] for port, provisioning_complete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:12.473 2467 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler--9223372036852985240'] for port, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:12.633 2467 DEBUG neutron.plugins.ml2.db [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] For port f5815f9f-9337-45c9-97cb-9459fedd3671, host localhost.localdomain, got binding levels [<neutron.plugins.ml2.models.PortBindingLevel[object at 7fd0219fcd90] {port_id=u'f5815f9f-9337-45c9-97cb-9459fedd3671', host=u'localhost.localdomain', level=0, driver=u'openvswitch', segment_id=u'927897f8-3764-40f4-8d9d-55c7eb378b29'}>] get_binding_levels /usr/lib/python2.7/site-packages/neutron/plugins/ml2/db.py:106
2018-06-28 23:41:12.653 2467 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-764435', 'neutron.db.l3_dvrscheduler_db._notify_l3_agent_port_update-8783244068522', 'neutron.plugins.ml2.plugin.Ml2Plugin.notify_sg_on_port_change-1790677', 'neutron.db.l3_hascheduler_db._notify_l3_agent_ha_port_update-8783244068597', 'neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-642082'] for port, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:12.658 2467 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 23:41:12.786 2467 DEBUG neutron.api.rpc.handlers.resources_rpc [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7fd021b8e710>, [Port(admin_state_up=True,allowed_address_pairs=[],binding=PortBinding,binding_levels=[PortBindingLevel],created_at=2018-06-28T21:41:05Z,data_plane_status=<?>,description='',device_id='6b372a0b-c1da-4335-a34a-113bc81513e9',device_owner='network:router_interface',dhcp_options=[],distributed_binding=None,dns=None,fixed_ips=[IPAllocation],id=f5815f9f-9337-45c9-97cb-9459fedd3671,mac_address=fa:16:3e:88:2f:0e,name='',network_id=4cfcb274-d880-4eef-978b-5990cdb11aeb,project_id='18163150e8884c51ba10086a3dc0c3ca',qos_policy_id=None,revision_number=7,security=PortSecurity(f5815f9f-9337-45c9-97cb-9459fedd3671),security_group_ids=set([]),status='ACTIVE',updated_at=2018-06-28T21:41:12Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:41:12.801 2467 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type Subnet changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:12.802 2467 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type Network changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:12.802 2467 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type SubPort changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:12.802 2467 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type SecurityGroup changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:12.803 2467 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type SecurityGroupRule changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:12.803 2467 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type Trunk changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:12.803 2467 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type QosPolicy changed None to 1.6 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:12.804 2467 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type Port changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:12.804 2467 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Version for resource type Log changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:12.806 2467 DEBUG neutron.api.rpc.callbacks.version_manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Tracked resource versions report:
pushed versions:
{   'Log': set(['1.0']),
    'Network': set(['1.0']),
    'Port': set(['1.1']),
    'QosPolicy': set(['1.6']),
    'SecurityGroup': set(['1.0']),
    'SecurityGroupRule': set(['1.0']),
    'SubPort': set(['1.0']),
    'Subnet': set(['1.0']),
    'Trunk': set(['1.1'])}

consumer versions:
{   DHCP agent@localhost.localdomain: {   },
    L3 agent@localhost.localdomain: {   },
    Metadata agent@localhost.localdomain: {   },
    Metering agent@localhost.localdomain: {   },
    Open vSwitch agent@localhost.localdomain: {   u'Log': u'1.0',
                                                  u'Network': u'1.0',
                                                  u'Port': u'1.1',
                                                  u'QosPolicy': u'1.6',
                                                  u'SecurityGroup': u'1.0',
                                                  u'SecurityGroupRule': u'1.0',
                                                  u'SubPort': u'1.0',
                                                  u'Subnet': u'1.0',
                                                  u'Trunk': u'1.1'}}
 report /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:178
2018-06-28 23:41:13.235 2467 DEBUG oslo_concurrency.lockutils [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.577s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 23:41:14.141 2463 DEBUG neutron.plugins.ml2.rpc [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Device f5815f9f-9337-45c9-97cb-9459fedd3671 up at agent ovs-agent-localhost.localdomain update_device_up /usr/lib/python2.7/site-packages/neutron/plugins/ml2/rpc.py:244
2018-06-28 23:41:14.267 2463 DEBUG neutron.db.provisioning_blocks [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Provisioning complete for port f5815f9f-9337-45c9-97cb-9459fedd3671 triggered by entity L2. provisioning_complete /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:138
2018-06-28 23:41:14.268 2463 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._port_provisioned-1983396'] for port, provisioning_complete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:14.388 2452 DEBUG neutron.wsgi [-] (2452) accepted ('10.0.20.23', 53282) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-28 23:41:15.135 2452 INFO neutron.wsgi [req-f354e1b5-fdc2-4c72-b98c-0ae9c68fa122 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/routers?fields=id&name=tempest-router-1530221895 HTTP/1.1" status: 200  len: 259 time: 0.7447419
2018-06-28 23:41:15.396 2452 INFO neutron.wsgi [req-de0d405c-b178-4592-948d-8762f56cbe4c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/networks?fields=id&name=public HTTP/1.1" status: 200  len: 258 time: 0.2509980
2018-06-28 23:41:15.421 2452 DEBUG neutron.api.v2.base [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Request body: {u'router': {u'external_gateway_info': {u'network_id': u'27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e'}}} prepare_request_body /usr/lib/python2.7/site-packages/neutron/api/v2/base.py:695
2018-06-28 23:41:16.583 2452 DEBUG neutron_lib.callbacks.manager [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks [] for router_gateway, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:16.803 2452 DEBUG neutron_lib.callbacks.manager [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler--9223372036852985240'] for port, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:17.424 2452 DEBUG neutron.db.db_base_plugin_common [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Allocated IP 172.24.4.3 (27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e/13c1b0d0-0ad2-44d1-9c10-321cd0119f52/2158f059-4308-4093-ba9a-2f71b9b3d351) _store_ip_allocation /usr/lib/python2.7/site-packages/neutron/db/db_base_plugin_common.py:122
2018-06-28 23:41:17.763 2452 DEBUG neutron_lib.callbacks.manager [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks [] for port, precommit_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:17.849 2452 DEBUG neutron_lib.callbacks.manager [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-764435', 'neutron.db.l3_dvrscheduler_db._notify_l3_agent_new_port-8783244068507', 'neutron.plugins.ml2.plugin.Ml2Plugin.notify_sg_on_port_change-1790677', 'neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-642082'] for port, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:18.095 2452 DEBUG neutron.scheduler.dhcp_agent_scheduler [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Network 27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e is already hosted by enough agents. _get_dhcp_agents_hosting_network /usr/lib/python2.7/site-packages/neutron/scheduler/dhcp_agent_scheduler.py:243
2018-06-28 23:41:18.118 2452 DEBUG neutron.db.l3_dvrscheduler_db [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Received port after_create _notify_l3_agent_new_port /usr/lib/python2.7/site-packages/neutron/db/l3_dvrscheduler_db.py:392
2018-06-28 23:41:18.152 2452 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 23:41:18.301 2452 DEBUG neutron.api.rpc.handlers.resources_rpc [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7fd021eaa650>, [Port(admin_state_up=True,allowed_address_pairs=[],binding=PortBinding,binding_levels=[],created_at=2018-06-28T21:41:17Z,data_plane_status=<?>,description='',device_id='6b372a0b-c1da-4335-a34a-113bc81513e9',device_owner='network:router_gateway',dhcp_options=[],distributed_binding=None,dns=None,fixed_ips=[IPAllocation],id=2158f059-4308-4093-ba9a-2f71b9b3d351,mac_address=fa:16:3e:cb:48:87,name='',network_id=27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e,project_id='',qos_policy_id=None,revision_number=3,security=PortSecurity(2158f059-4308-4093-ba9a-2f71b9b3d351),security_group_ids=set([]),status='DOWN',updated_at=2018-06-28T21:41:17Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:41:18.316 2452 DEBUG oslo_concurrency.lockutils [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.164s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 23:41:18.436 2452 DEBUG neutron_lib.callbacks.manager [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks [] for router_gateway, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:18.612 2452 DEBUG neutron_lib.callbacks.manager [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._validate_migration--9223372036854241725', 'neutron.services.l3_router.service_providers.driver_controller.DriverController._update_router_provider-39265', 'neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._handle_distributed_migration--9223372036854246252'] for router, precommit_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:18.621 2452 DEBUG neutron_lib.callbacks.manager [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks ['neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._create_snat_interfaces_after_change--9223372036854246171', 'neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._delete_snat_interfaces_after_change-529564', 'neutron.services.l3_router.l3_router_plugin.L3RouterPlugin._reconfigure_ha_resources-541933'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:18.837 2452 DEBUG neutron.scheduler.l3_agent_scheduler [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Router 6b372a0b-c1da-4335-a34a-113bc81513e9 has already been hosted by L3 agent f3b2a706-18d3-46f7-853e-b527dfd7fad6 _get_candidates /usr/lib/python2.7/site-packages/neutron/scheduler/l3_agent_scheduler.py:141
2018-06-28 23:41:19.343 2452 DEBUG neutron.api.rpc.agentnotifiers.l3_rpc_agent_api [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify agent at l3_agent.localhost.localdomain the message routers_updated _agent_notification /usr/lib/python2.7/site-packages/neutron/api/rpc/agentnotifiers/l3_rpc_agent_api.py:69
2018-06-28 23:41:19.385 2452 DEBUG neutron.quota.resource [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Persisted dirty status for tenant: on resource:port mark_dirty /usr/lib/python2.7/site-packages/neutron/quota/resource.py:207
2018-06-28 23:41:19.392 2452 DEBUG neutron_lib.callbacks.manager [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Notify callbacks [] for router, before_response _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:19.395 2452 INFO neutron.wsgi [req-b8a3aee4-737e-4aa6-bb46-360c6539047c a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "PUT /v2.0/routers/6b372a0b-c1da-4335-a34a-113bc81513e9 HTTP/1.1" status: 200  len: 906 time: 3.9909451
2018-06-28 23:41:19.432 2463 DEBUG neutron.db.l3_hamode_db [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] neutron.services.l3_router.l3_router_plugin.L3RouterPlugin method get_ha_sync_data_for_host called with arguments (<neutron_lib.context.Context object at 0x7fd021a5d3d0>, u'localhost.localdomain', <neutron.db.models.agent.Agent[object at 7fd0218f4650] {id=u'f3b2a706-18d3-46f7-853e-b527dfd7fad6', agent_type=u'L3 agent', binary=u'neutron-l3-agent', topic=u'l3_agent', host=u'localhost.localdomain', availability_zone=u'nova', admin_state_up=True, created_at=datetime.datetime(2018, 6, 20, 16, 53, 37), started_at=datetime.datetime(2018, 6, 28, 21, 31, 22), heartbeat_timestamp=datetime.datetime(2018, 6, 28, 21, 40, 52), description=None, configurations=u'{"agent_mode": "legacy", "gateway_external_network_id": "", "handle_internal_only_routers": true, "routers": 1, "interfaces": 1, "floating_ips": 0, "interface_driver": "neutron.agent.linux.interface.OVSInterfaceDriver", "log_agent_heartbeats": false, "external_network_bridge": "", "ex_gw_ports": 1}', resource_versions=None, load=0}>) {'active': True, 'router_ids': ['6b372a0b-c1da-4335-a34a-113bc81513e9']} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:41:20.128 2463 DEBUG neutron.db.l3_hamode_db [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] neutron.services.l3_router.l3_router_plugin.L3RouterPlugin method _process_sync_ha_data called with arguments (<neutron_lib.context.Context object at 0x7fd021a5d3d0>, [{'status': u'ACTIVE', '_interfaces': [{'status': u'ACTIVE', 'subnets': [{'dns_nameservers': [u'8.8.4.4'], 'ipv6_ra_mode': None, 'gateway_ip': u'11.0.1.1', 'cidr': u'11.0.1.0/24', 'id': u'45878efa-11dd-4f54-b7e2-b32ea38600ac', 'subnetpool_id': None}], 'binding:host_id': u'localhost.localdomain', 'description': u'', 'allowed_address_pairs': [], 'tags': [], 'extra_dhcp_opts': [], 'updated_at': '2018-06-28T21:41:12Z', 'device_owner': u'network:router_interface', 'revision_number': 7, 'port_security_enabled': False, 'binding:profile': {}, 'mtu': 1450, 'fixed_ips': [{'subnet_id': u'45878efa-11dd-4f54-b7e2-b32ea38600ac', 'prefixlen': 24, 'ip_address': u'11.0.1.1'}], 'id': u'f5815f9f-9337-45c9-97cb-9459fedd3671', 'security_groups': [], 'device_id': u'6b372a0b-c1da-4335-a34a-113bc81513e9', 'name': u'', 'admin_state_up': True, 'network_id': u'4cfcb274-d880-4eef-978b-5990cdb11aeb', 'tenant_id': u'18163150e8884c51ba10086a3dc0c3ca', 'binding:vif_details': {u'port_filter': True, u'datapath_type': u'system', u'ovs_hybrid_plug': True}, 'address_scopes': {4: None, 6: None}, 'binding:vnic_type': u'normal', 'binding:vif_type': u'ovs', 'mac_address': u'fa:16:3e:88:2f:0e', 'project_id': u'18163150e8884c51ba10086a3dc0c3ca', 'extra_subnets': [], 'created_at': '2018-06-28T21:41:05Z'}], 'enable_snat': True, 'ha_vr_id': 0, 'description': u'', 'tags': [], 'gw_port': {'status': u'DOWN', 'subnets': [{'dns_nameservers': [], 'ipv6_ra_mode': None, 'gateway_ip': u'172.24.4.1', 'cidr': u'172.24.4.0/24', 'id': u'13c1b0d0-0ad2-44d1-9c10-321cd0119f52', 'subnetpool_id': None}], 'binding:host_id': u'', 'description': u'', 'allowed_address_pairs': [], 'tags': [], 'extra_dhcp_opts': [], 'updated_at': '2018-06-28T21:41:17Z', 'device_owner': u'network:router_gateway', 'revision_number': 3, 'port_security_enabled': False, 'binding:profile': {}, 'mtu': 1500, 'fixed_ips': [{'subnet_id': u'13c1b0d0-0ad2-44d1-9c10-321cd0119f52', 'prefixlen': 24, 'ip_address': u'172.24.4.3'}], 'id': u'2158f059-4308-4093-ba9a-2f71b9b3d351', 'security_groups': [], 'device_id': u'6b372a0b-c1da-4335-a34a-113bc81513e9', 'name': u'', 'admin_state_up': True, 'network_id': u'27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e', 'tenant_id': u'', 'binding:vif_details': {}, 'address_scopes': {4: None, 6: None}, 'binding:vnic_type': u'normal', 'binding:vif_type': u'unbound', 'mac_address': u'fa:16:3e:cb:48:87', 'project_id': u'', 'extra_subnets': [], 'created_at': '2018-06-28T21:41:17Z'}, 'updated_at': '2018-06-28T21:41:18Z', 'revision_number': 4, 'ha': False, 'id': u'6b372a0b-c1da-4335-a34a-113bc81513e9', 'gw_port_host': u'localhost.localdomain', 'external_gateway_info': {'network_id': u'27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e', 'enable_snat': True, 'external_fixed_ips': [{'subnet_id': u'13c1b0d0-0ad2-44d1-9c10-321cd0119f52', 'ip_address': u'172.24.4.3'}]}, 'availability_zone_hints': [], 'availability_zones': [u'nova'], 'name': u'tempest-router-1530221895', 'gw_port_id': u'2158f059-4308-4093-ba9a-2f71b9b3d351', 'admin_state_up': True, 'tenant_id': u'18163150e8884c51ba10086a3dc0c3ca', 'created_at': '2018-06-28T21:40:46Z', 'distributed': False, 'flavor_id': None, 'routes': [], 'project_id': u'18163150e8884c51ba10086a3dc0c3ca'}], u'localhost.localdomain', False) {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:41:20.140 2463 DEBUG neutron.api.rpc.handlers.l3_rpc [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] Checking router: 6b372a0b-c1da-4335-a34a-113bc81513e9 for host: localhost.localdomain _ensure_host_set_on_ports /usr/lib/python2.7/site-packages/neutron/api/rpc/handlers/l3_rpc.py:135
2018-06-28 23:41:20.225 2463 DEBUG neutron_lib.callbacks.manager [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler--9223372036852985240'] for port, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:20.447 2464 DEBUG neutron_lib.callbacks.manager [req-c2ac235e-9b77-4a0b-bfef-5951c20a4040 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:20.467 2471 DEBUG neutron_lib.callbacks.manager [req-5f730e27-22d8-43a8-a52e-75429bd340ac - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:20.475 2480 DEBUG neutron_lib.callbacks.manager [req-3e95fc8b-691b-46ca-a93b-3aeb1c717457 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:21.294 2463 DEBUG neutron_lib.callbacks.manager [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] Notify callbacks [] for port, precommit_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:21.320 2463 DEBUG neutron.db.provisioning_blocks [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] Transition to ACTIVE for port object 2158f059-4308-4093-ba9a-2f71b9b3d351 will not be triggered until provisioned by entity L2. add_provisioning_component /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:73
2018-06-28 23:41:21.334 2463 DEBUG neutron_lib.callbacks.manager [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-764435', 'neutron.db.l3_dvrscheduler_db._notify_l3_agent_port_update-8783244068522', 'neutron.plugins.ml2.plugin.Ml2Plugin.notify_sg_on_port_change-1790677', 'neutron.db.l3_hascheduler_db._notify_l3_agent_ha_port_update-8783244068597', 'neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-642082'] for port, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:21.663 2463 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 23:41:21.713 2463 DEBUG neutron.plugins.ml2.managers [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] Attempting to bind port 2158f059-4308-4093-ba9a-2f71b9b3d351 on host localhost.localdomain for vnic_type normal with profile  bind_port /usr/lib/python2.7/site-packages/neutron/plugins/ml2/managers.py:744
2018-06-28 23:41:21.714 2463 DEBUG neutron.plugins.ml2.managers [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] Attempting to bind port 2158f059-4308-4093-ba9a-2f71b9b3d351 on host localhost.localdomain at level 0 using segments [{'network_id': '27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e', 'segmentation_id': None, 'physical_network': u'extnet', 'id': '1d3fdef4-5a96-4a4d-91a7-ba8591fa9637', 'network_type': u'flat'}] _bind_port_level /usr/lib/python2.7/site-packages/neutron/plugins/ml2/managers.py:765
2018-06-28 23:41:21.714 2463 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] Attempting to bind port 2158f059-4308-4093-ba9a-2f71b9b3d351 on network 27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e bind_port /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:88
2018-06-28 23:41:21.742 2463 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] Checking agent: {'binary': u'neutron-openvswitch-agent', 'description': None, 'admin_state_up': True, 'heartbeat_timestamp': datetime.datetime(2018, 6, 28, 21, 40, 53), 'availability_zone': None, 'alive': True, 'topic': u'N/A', 'host': u'localhost.localdomain', 'agent_type': u'Open vSwitch agent', 'resource_versions': {u'Subnet': u'1.0', u'Network': u'1.0', u'SubPort': u'1.0', u'SecurityGroup': u'1.0', u'SecurityGroupRule': u'1.0', u'Trunk': u'1.1', u'QosPolicy': u'1.6', u'Port': u'1.1', u'Log': u'1.0'}, 'created_at': datetime.datetime(2018, 6, 20, 16, 53, 47), 'started_at': datetime.datetime(2018, 6, 28, 21, 31, 23), 'id': u'75645f5b-4138-407e-9794-b263ac43a154', 'configurations': {u'ovs_hybrid_plug': True, u'in_distributed_mode': False, u'datapath_type': u'system', u'vhostuser_socket_dir': u'/var/run/openvswitch', u'tunneling_ip': u'10.0.20.23', u'arp_responder_enabled': False, u'devices': 4, u'ovs_capabilities': {u'datapath_types': [u'netdev', u'system'], u'iface_types': [u'geneve', u'gre', u'internal', u'lisp', u'patch', u'stt', u'system', u'tap', u'vxlan']}, u'log_agent_heartbeats': False, u'l2_population': False, u'tunnel_types': [u'vxlan'], u'extensions': [], u'enable_distributed_routing': False, u'bridge_mappings': {u'extnet': u'br-ex'}}} bind_port /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:104
2018-06-28 23:41:21.743 2463 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] Checking segment: {'network_id': '27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e', 'segmentation_id': None, 'physical_network': u'extnet', 'id': '1d3fdef4-5a96-4a4d-91a7-ba8591fa9637', 'network_type': u'flat'} for mappings: {u'extnet': u'br-ex'} with network types: [u'vxlan', 'local', 'flat', 'vlan'] check_segment_for_agent /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:237
2018-06-28 23:41:21.743 2463 DEBUG neutron_lib.callbacks.manager [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] Notify callbacks [] for ovs_bridge_name, before_read _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:21.744 2463 DEBUG neutron.plugins.ml2.drivers.mech_agent [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] Bound using segment: {'network_id': '27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e', 'segmentation_id': None, 'physical_network': u'extnet', 'id': '1d3fdef4-5a96-4a4d-91a7-ba8591fa9637', 'network_type': u'flat'} bind_port /usr/lib/python2.7/site-packages/neutron/plugins/ml2/drivers/mech_agent.py:109
2018-06-28 23:41:21.745 2463 DEBUG neutron.plugins.ml2.managers [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] Bound port: 2158f059-4308-4093-ba9a-2f71b9b3d351, host: localhost.localdomain, vif_type: ovs, vif_details: {"port_filter": true, "datapath_type": "system", "ovs_hybrid_plug": true}, binding_levels: [{'bound_driver': 'openvswitch', 'bound_segment': {'network_id': '27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e', 'segmentation_id': None, 'physical_network': u'extnet', 'id': '1d3fdef4-5a96-4a4d-91a7-ba8591fa9637', 'network_type': u'flat'}}] _bind_port_level /usr/lib/python2.7/site-packages/neutron/plugins/ml2/managers.py:813
2018-06-28 23:41:21.745 2463 DEBUG neutron_lib.callbacks.manager [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler--9223372036852985240'] for port, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:21.811 2463 DEBUG neutron.api.rpc.handlers.resources_rpc [req-dcd24537-fd6f-41c2-9c1e-fd8df0d41f45 - - - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7fd021b0cf50>, [Port(admin_state_up=True,allowed_address_pairs=[],binding=PortBinding,binding_levels=[],created_at=2018-06-28T21:41:17Z,data_plane_status=<?>,description='',device_id='6b372a0b-c1da-4335-a34a-113bc81513e9',device_owner='network:router_gateway',dhcp_options=[],distributed_binding=None,dns=None,fixed_ips=[IPAllocation],id=2158f059-4308-4093-ba9a-2f71b9b3d351,mac_address=fa:16:3e:cb:48:87,name='',network_id=27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e,project_id='',qos_policy_id=None,revision_number=4,security=PortSecurity(2158f059-4308-4093-ba9a-2f71b9b3d351),security_group_ids=set([]),status='DOWN',updated_at=2018-06-28T21:41:21Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:41:21.874 2463 DEBUG neutron.api.rpc.callbacks.version_manager [req-dcd24537-fd6f-41c2-9c1e-fd8df0d41f45 - - - - -] Version for resource type Subnet changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:21.874 2463 DEBUG neutron.api.rpc.callbacks.version_manager [req-dcd24537-fd6f-41c2-9c1e-fd8df0d41f45 - - - - -] Version for resource type Network changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:21.875 2463 DEBUG neutron.api.rpc.callbacks.version_manager [req-dcd24537-fd6f-41c2-9c1e-fd8df0d41f45 - - - - -] Version for resource type SubPort changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:21.875 2463 DEBUG neutron.api.rpc.callbacks.version_manager [req-dcd24537-fd6f-41c2-9c1e-fd8df0d41f45 - - - - -] Version for resource type SecurityGroup changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:21.875 2463 DEBUG neutron.api.rpc.callbacks.version_manager [req-dcd24537-fd6f-41c2-9c1e-fd8df0d41f45 - - - - -] Version for resource type SecurityGroupRule changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:21.876 2463 DEBUG neutron.api.rpc.callbacks.version_manager [req-dcd24537-fd6f-41c2-9c1e-fd8df0d41f45 - - - - -] Version for resource type Trunk changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:21.876 2463 DEBUG neutron.api.rpc.callbacks.version_manager [req-dcd24537-fd6f-41c2-9c1e-fd8df0d41f45 - - - - -] Version for resource type QosPolicy changed None to 1.6 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:21.877 2463 DEBUG neutron.api.rpc.callbacks.version_manager [req-dcd24537-fd6f-41c2-9c1e-fd8df0d41f45 - - - - -] Version for resource type Port changed None to 1.1 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:21.877 2463 DEBUG neutron.api.rpc.callbacks.version_manager [req-dcd24537-fd6f-41c2-9c1e-fd8df0d41f45 - - - - -] Version for resource type Log changed None to 1.0 on consumer Open vSwitch agent@localhost.localdomain _set_version /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:119
2018-06-28 23:41:21.878 2463 DEBUG neutron.api.rpc.callbacks.version_manager [req-dcd24537-fd6f-41c2-9c1e-fd8df0d41f45 - - - - -] Tracked resource versions report:
pushed versions:
{   'Log': set(['1.0']),
    'Network': set(['1.0']),
    'Port': set(['1.1']),
    'QosPolicy': set(['1.6']),
    'SecurityGroup': set(['1.0']),
    'SecurityGroupRule': set(['1.0']),
    'SubPort': set(['1.0']),
    'Subnet': set(['1.0']),
    'Trunk': set(['1.1'])}

consumer versions:
{   DHCP agent@localhost.localdomain: {   },
    L3 agent@localhost.localdomain: {   },
    Metadata agent@localhost.localdomain: {   },
    Metering agent@localhost.localdomain: {   },
    Open vSwitch agent@localhost.localdomain: {   u'Log': u'1.0',
                                                  u'Network': u'1.0',
                                                  u'Port': u'1.1',
                                                  u'QosPolicy': u'1.6',
                                                  u'SecurityGroup': u'1.0',
                                                  u'SecurityGroupRule': u'1.0',
                                                  u'SubPort': u'1.0',
                                                  u'Subnet': u'1.0',
                                                  u'Trunk': u'1.1'}}
 report /usr/lib/python2.7/site-packages/neutron/api/rpc/callbacks/version_manager.py:178
2018-06-28 23:41:21.900 2463 DEBUG oslo_concurrency.lockutils [req-dcd24537-fd6f-41c2-9c1e-fd8df0d41f45 - - - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.237s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 23:41:21.931 2463 DEBUG neutron.plugins.ml2.db [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] For port 2158f059-4308-4093-ba9a-2f71b9b3d351, host localhost.localdomain, cleared binding levels clear_binding_levels /usr/lib/python2.7/site-packages/neutron/plugins/ml2/db.py:119
2018-06-28 23:41:21.938 2463 DEBUG neutron.plugins.ml2.db [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] For port 2158f059-4308-4093-ba9a-2f71b9b3d351, host localhost.localdomain, set binding levels [<neutron.plugins.ml2.driver_context.InstanceSnapshot object at 0x7fd021f58a10>] set_binding_levels /usr/lib/python2.7/site-packages/neutron/plugins/ml2/db.py:90
2018-06-28 23:41:21.950 2463 DEBUG neutron_lib.callbacks.manager [req-18f62124-805d-4572-bd75-766bdb090a85 - - - - -] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-764435', 'neutron.db.l3_dvrscheduler_db._notify_l3_agent_port_update-8783244068522', 'neutron.plugins.ml2.plugin.Ml2Plugin.notify_sg_on_port_change-1790677', 'neutron.db.l3_hascheduler_db._notify_l3_agent_ha_port_update-8783244068597', 'neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-642082'] for port, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:22.179 2463 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 23:41:22.298 2463 DEBUG neutron_lib.callbacks.manager [req-a08ed2e5-0558-4522-9e4c-250c41351173 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:22.329 2463 DEBUG neutron.api.rpc.handlers.resources_rpc [req-dcd24537-fd6f-41c2-9c1e-fd8df0d41f45 - - - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7fd021eb1fd0>, [Port(admin_state_up=True,allowed_address_pairs=[],binding=PortBinding,binding_levels=[PortBindingLevel],created_at=2018-06-28T21:41:17Z,data_plane_status=<?>,description='',device_id='6b372a0b-c1da-4335-a34a-113bc81513e9',device_owner='network:router_gateway',dhcp_options=[],distributed_binding=None,dns=None,fixed_ips=[IPAllocation],id=2158f059-4308-4093-ba9a-2f71b9b3d351,mac_address=fa:16:3e:cb:48:87,name='',network_id=27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e,project_id='',qos_policy_id=None,revision_number=5,security=PortSecurity(2158f059-4308-4093-ba9a-2f71b9b3d351),security_group_ids=set([]),status='DOWN',updated_at=2018-06-28T21:41:21Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:41:22.350 2463 DEBUG oslo_concurrency.lockutils [req-dcd24537-fd6f-41c2-9c1e-fd8df0d41f45 - - - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.171s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 23:41:23.206 2469 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.services.segments.db._update_segment_host_mapping_for_agent-8783244431154'] for agent, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:24.179 2471 DEBUG neutron.plugins.ml2.rpc [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Device 2158f059-4308-4093-ba9a-2f71b9b3d351 up at agent ovs-agent-localhost.localdomain update_device_up /usr/lib/python2.7/site-packages/neutron/plugins/ml2/rpc.py:244
2018-06-28 23:41:24.324 2471 DEBUG neutron.db.provisioning_blocks [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Provisioning for port 2158f059-4308-4093-ba9a-2f71b9b3d351 completed by entity L2. provisioning_complete /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:132
2018-06-28 23:41:24.335 2471 DEBUG neutron.db.provisioning_blocks [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Provisioning complete for port 2158f059-4308-4093-ba9a-2f71b9b3d351 triggered by entity L2. provisioning_complete /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:138
2018-06-28 23:41:24.336 2471 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._port_provisioned-1983396'] for port, provisioning_complete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:24.550 2471 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._ensure_default_security_group_handler--9223372036852985240'] for port, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:24.630 2471 DEBUG neutron.plugins.ml2.db [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] For port 2158f059-4308-4093-ba9a-2f71b9b3d351, host localhost.localdomain, got binding levels [<neutron.plugins.ml2.models.PortBindingLevel[object at 7fd02183b410] {port_id=u'2158f059-4308-4093-ba9a-2f71b9b3d351', host=u'localhost.localdomain', level=0, driver=u'openvswitch', segment_id=u'1d3fdef4-5a96-4a4d-91a7-ba8591fa9637'}>] get_binding_levels /usr/lib/python2.7/site-packages/neutron/plugins/ml2/db.py:106
2018-06-28 23:41:24.647 2471 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyAPI._native_event_send_dhcp_notification-764435', 'neutron.db.l3_dvrscheduler_db._notify_l3_agent_port_update-8783244068522', 'neutron.plugins.ml2.plugin.Ml2Plugin.notify_sg_on_port_change-1790677', 'neutron.db.l3_hascheduler_db._notify_l3_agent_ha_port_update-8783244068597', 'neutron.plugins.ml2.ovo_rpc._ObjectChangeHandler.handle_event-642082'] for port, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:24.652 2471 DEBUG oslo_concurrency.lockutils [-] Lock "event-dispatch" acquired by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 23:41:24.771 2471 DEBUG neutron.api.rpc.handlers.resources_rpc [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] neutron.api.rpc.handlers.resources_rpc.ResourcesPushRpcApi method push called with arguments (<neutron_lib.context.Context object at 0x7fd021bb8290>, [Port(admin_state_up=True,allowed_address_pairs=[],binding=PortBinding,binding_levels=[PortBindingLevel],created_at=2018-06-28T21:41:17Z,data_plane_status=<?>,description='',device_id='6b372a0b-c1da-4335-a34a-113bc81513e9',device_owner='network:router_gateway',dhcp_options=[],distributed_binding=None,dns=None,fixed_ips=[IPAllocation],id=2158f059-4308-4093-ba9a-2f71b9b3d351,mac_address=fa:16:3e:cb:48:87,name='',network_id=27d015bc-8cdc-4cb5-ad0f-6c388c7b7d5e,project_id='',qos_policy_id=None,revision_number=6,security=PortSecurity(2158f059-4308-4093-ba9a-2f71b9b3d351),security_group_ids=set([]),status='ACTIVE',updated_at=2018-06-28T21:41:24Z)], 'updated') {} wrapper /usr/lib/python2.7/site-packages/oslo_log/helpers.py:66
2018-06-28 23:41:24.786 2471 DEBUG oslo_concurrency.lockutils [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Lock "event-dispatch" released by "neutron.plugins.ml2.ovo_rpc.dispatch_events" :: held 0.135s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 23:41:26.123 2469 DEBUG neutron.plugins.ml2.rpc [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Device 2158f059-4308-4093-ba9a-2f71b9b3d351 up at agent ovs-agent-localhost.localdomain update_device_up /usr/lib/python2.7/site-packages/neutron/plugins/ml2/rpc.py:244
2018-06-28 23:41:26.236 2469 DEBUG neutron.db.provisioning_blocks [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Provisioning complete for port 2158f059-4308-4093-ba9a-2f71b9b3d351 triggered by entity L2. provisioning_complete /usr/lib/python2.7/site-packages/neutron/db/provisioning_blocks.py:138
2018-06-28 23:41:26.239 2469 DEBUG neutron_lib.callbacks.manager [req-58aeced9-38ea-4ef5-aa18-5d8e966ccc13 - - - - -] Notify callbacks ['neutron.plugins.ml2.plugin.Ml2Plugin._port_provisioned-1983396'] for port, provisioning_complete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 23:41:28.060 2452 DEBUG neutron.wsgi [-] (2452) accepted ('10.0.20.23', 53342) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-28 23:41:28.064 2452 INFO neutron.wsgi [-] 10.0.20.23 "GET / HTTP/1.1" status: 200  len: 252 time: 0.0020230
2018-06-28 23:41:28.425 2452 INFO neutron.pecan_wsgi.hooks.translation [req-3a533456-9bc6-4483-a994-397439501879 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] GET failed (client error): The resource could not be found.
2018-06-28 23:41:28.428 2452 INFO neutron.wsgi [req-3a533456-9bc6-4483-a994-397439501879 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/networks/tempest-private-1530221895 HTTP/1.1" status: 404  len: 334 time: 0.3584270
2018-06-28 23:41:28.700 2452 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-6e33fb55-bb99-4b86-90c5-380d8bebabe3 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:41:28.701 2452 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-6e33fb55-bb99-4b86-90c5-380d8bebabe3 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:41:28.702 2452 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-6e33fb55-bb99-4b86-90c5-380d8bebabe3 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:41:28.705 2452 INFO neutron.wsgi [req-6e33fb55-bb99-4b86-90c5-380d8bebabe3 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/networks HTTP/1.1" status: 200  len: 2214 time: 0.2722440
2018-06-28 23:41:28.743 2452 INFO neutron.api.v2.resource [req-e8c63a82-1452-41a3-a58e-5c3f3a82b5f2 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] show failed (client error): The resource could not be found.
2018-06-28 23:41:28.744 2452 INFO neutron.wsgi [req-e8c63a82-1452-41a3-a58e-5c3f3a82b5f2 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/security-groups/tempest-SECURITY_GROUP_SAMPLE-1530221895 HTTP/1.1" status: 404  len: 360 time: 0.0301778
2018-06-28 23:41:28.939 2452 INFO neutron.wsgi [req-629896c8-7073-4e88-8d70-ab887b771722 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/security-groups HTTP/1.1" status: 200  len: 21175 time: 0.1917071
2018-06-28 23:41:30.145 2452 DEBUG neutron.wsgi [-] (2452) accepted ('10.0.20.23', 53352) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-28 23:41:30.634 2452 WARNING keystonemiddleware.auth_token [-] A valid token was submitted as a service token, but it was not a valid service token. This is incorrect but backwards compatible behaviour. This will be removed in future releases.
2018-06-28 23:41:30.746 2452 INFO neutron.wsgi [req-ad9028c4-f4c5-49e3-bd8b-3ec359073d6d a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/security-groups?fields=id&id=e5560895-82c7-43c1-9970-0e8745131aff HTTP/1.1" status: 200  len: 267 time: 0.5983760
2018-06-28 23:41:30.845 2452 INFO neutron.wsgi [req-fbc72bf8-7469-48fc-a1ef-757e1b84e5dc a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/security-groups/e5560895-82c7-43c1-9970-0e8745131aff HTTP/1.1" status: 200  len: 2115 time: 0.0921071
2018-06-28 23:41:31.083 2452 DEBUG neutron.pecan_wsgi.hooks.policy_enforcement [req-bd7d40cc-70f7-4e75-aaea-89948a42ec71 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] Attributes excluded by policy engine: [u'vlan_transparent'] _exclude_attributes_by_policy /usr/lib/python2.7/site-packages/neutron/pecan_wsgi/hooks/policy_enforcement.py:256
2018-06-28 23:41:31.086 2452 INFO neutron.wsgi [req-bd7d40cc-70f7-4e75-aaea-89948a42ec71 a514781353c4428a8e8ce901b50d3cbf 18163150e8884c51ba10086a3dc0c3ca - 858ab85d8796467eb856e304475d9990 858ab85d8796467eb856e304475d9990] 10.0.20.23 "GET /v2.0/networks?id=4cfcb274-d880-4eef-978b-5990cdb11aeb HTTP/1.1" status: 200  len: 885 time: 0.2333720

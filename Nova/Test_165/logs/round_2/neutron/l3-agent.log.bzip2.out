2018-06-28 20:31:04.196 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:31:04.199 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:31:20.599 17309 DEBUG oslo_service.periodic_task [req-eaf0ae8d-158d-4774-ab55-032cc68c37a0 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 20:31:36.539 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:31:36.540 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:32:00.603 17309 DEBUG oslo_service.periodic_task [req-eaf0ae8d-158d-4774-ab55-032cc68c37a0 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 20:32:04.197 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:32:04.199 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:32:36.540 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:32:36.541 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:32:40.605 17309 DEBUG oslo_service.periodic_task [req-eaf0ae8d-158d-4774-ab55-032cc68c37a0 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 20:33:04.198 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:33:04.201 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:33:20.611 17309 DEBUG oslo_service.periodic_task [req-eaf0ae8d-158d-4774-ab55-032cc68c37a0 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 20:33:36.542 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:33:36.543 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:33:42.540 17309 DEBUG neutron.agent.l3.agent [req-9a03d557-2fb6-4e64-87f0-8f905c7ac95d 2d1ebac3fc964ba69757556553fa3f8a 5805e268cb0a48578f284cd9f63e11ea - - -] Got routers updated notification :[u'b098a5c2-3f50-4122-8dbc-14ecd1c87f78'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 20:33:42.542 17309 DEBUG neutron.agent.l3.agent [-] Starting router update for b098a5c2-3f50-4122-8dbc-14ecd1c87f78, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 20:33:45.345 17309 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.linux.pd.add_router-8758533917550'] for router, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 20:33:45.346 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:33:45.346 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.add_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:33:45.347 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.365 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'add', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.384 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.403 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', 'link', 'set', 'lo', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.419 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'sysctl', '-w', 'net.ipv4.ip_forward=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.437 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'sysctl', '-w', 'net.ipv4.conf.all.arp_ignore=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.453 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'sysctl', '-w', 'net.ipv4.conf.all.arp_announce=2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.471 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.488 17309 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 20:33:45.489 17309 DEBUG neutron.agent.l3.router_info [-] adding internal network: prefix(qr-), port(8681fe42-f262-4ee2-ab8d-1f46a633dfba) _internal_network_added /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:444
2018-06-28 20:33:45.500 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-o', 'link', 'show', 'qr-8681fe42-f2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.520 17309 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-06-28 20:33:45.548 17309 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=None, port=qr-8681fe42-f2) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 20:33:45.550 17309 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Transaction caused no change do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:114
2018-06-28 20:33:45.552 17309 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): AddPortCommand(bridge=br-int, may_exist=False, port=qr-8681fe42-f2) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 20:33:45.554 17309 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=1): DbSetCommand(table=Interface, col_values=(('type', 'internal'), ('external_ids', {'iface-id': u'8681fe42-f262-4ee2-ab8d-1f46a633dfba', 'iface-status': 'active', 'attached-mac': u'fa:16:3e:49:bb:4b'})), record=qr-8681fe42-f2) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 20:33:45.584 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qr-8681fe42-f2', 'address', 'fa:16:3e:49:bb:4b'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.596 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.610 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qr-8681fe42-f2', 'netns', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.630 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', 'link', 'set', 'qr-8681fe42-f2', 'mtu', '1450'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.643 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', 'link', 'set', 'qr-8681fe42-f2', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.661 17309 DEBUG neutron.agent.linux.interface [-] init_router_port: device_name(qr-8681fe42-f2), namespace(qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78) init_router_port /usr/lib/python2.7/site-packages/neutron/agent/linux/interface.py:180
2018-06-28 20:33:45.662 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-o', 'link', 'show', 'qr-8681fe42-f2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.678 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', 'addr', 'show', 'qr-8681fe42-f2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.693 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-4', 'addr', 'add', '11.102.1.1/24', 'scope', 'global', 'dev', 'qr-8681fe42-f2', 'brd', '11.102.1.255'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.706 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-4', 'route', 'list', 'dev', 'qr-8681fe42-f2', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.727 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-6', 'route', 'list', 'dev', 'qr-8681fe42-f2', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.741 17309 DEBUG neutron.agent.l3.router_info [-] appending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-06-28T18:33:41Z', u'device_owner': u'network:router_interface', u'revision_number': 4, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'4cfa5ed5-54e1-48b9-b78e-34c3968ebf32', u'prefixlen': 24, u'ip_address': u'11.102.1.1'}], u'id': u'8681fe42-f262-4ee2-ab8d-1f46a633dfba', u'security_groups': [], u'binding:vif_details': {}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:49:bb:4b', u'project_id': u'5805e268cb0a48578f284cd9f63e11ea', u'status': u'DOWN', u'subnets': [{u'dns_nameservers': [u'8.8.4.4'], u'ipv6_ra_mode': None, u'gateway_ip': u'11.102.1.1', u'cidr': u'11.102.1.0/24', u'id': u'4cfa5ed5-54e1-48b9-b78e-34c3968ebf32', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'b098a5c2-3f50-4122-8dbc-14ecd1c87f78', u'name': u'', u'admin_state_up': True, u'network_id': u'c8f7d1a1-5842-41cb-8c9f-47d5860937f6', u'tenant_id': u'5805e268cb0a48578f284cd9f63e11ea', u'created_at': u'2018-06-28T18:33:39Z', u'mtu': 1450, u'extra_subnets': []} to internal_ports cache _process_internal_ports /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:555
2018-06-28 20:33:45.742 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.744 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-U', '-I', 'qr-8681fe42-f2', '-c', '1', '-w', '1.5', '11.102.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.757 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:33:45.758 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:33:45.759 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.771 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-A', '-I', 'qr-8681fe42-f2', '-c', '1', '-w', '1.5', '11.102.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.780 17309 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 20:33:45.782 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.807 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.828 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.845 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip6tables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.860 17309 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 106 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 20:33:45.861 17309 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 20:33:45.862 17309 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 20:33:45.863 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.884 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.898 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.916 17309 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 10 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 20:33:45.917 17309 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 20:33:45.917 17309 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_added--9223363278321397733'] for router, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 20:33:45.919 17309 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 20:33:45.919 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.939 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.955 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:45.971 17309 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 17 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 20:33:45.972 17309 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 20:33:45.973 17309 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/b098a5c2-3f50-4122-8dbc-14ecd1c87f78.pid get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-06-28 20:33:45.974 17309 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/b098a5c2-3f50-4122-8dbc-14ecd1c87f78.pid get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-06-28 20:33:45.975 17309 DEBUG neutron.agent.metadata.driver [-] haproxy_cfg = 
global
    log         /dev/log local0 debug
    log-tag     haproxy-metadata-proxy-b098a5c2-3f50-4122-8dbc-14ecd1c87f78
    user        neutron
    group       neutron
    maxconn     1024
    pidfile     /var/lib/neutron/external/pids/b098a5c2-3f50-4122-8dbc-14ecd1c87f78.pid
    daemon

defaults
    log global
    mode http
    option httplog
    option dontlognull
    option http-server-close
    option forwardfor
    retries                 3
    timeout http-request    30s
    timeout connect         30s
    timeout client          32s
    timeout server          32s
    timeout http-keep-alive 30s

listen listener
    bind 0.0.0.0:9697
    server metadata /var/lib/neutron/metadata_proxy
    http-request add-header X-Neutron-Router-ID b098a5c2-3f50-4122-8dbc-14ecd1c87f78
 create_config_file /usr/lib/python2.7/site-packages/neutron/agent/metadata/driver.py:135
2018-06-28 20:33:45.976 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'haproxy', '-f', '/var/lib/neutron/ns-metadata-proxy/b098a5c2-3f50-4122-8dbc-14ecd1c87f78.conf'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:46.004 17309 DEBUG neutron.agent.l3.agent [-] Finished a router update for b098a5c2-3f50-4122-8dbc-14ecd1c87f78 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 20:33:47.801 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-U', '-I', 'qr-8681fe42-f2', '-c', '1', '-w', '1.5', '11.102.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:47.824 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-A', '-I', 'qr-8681fe42-f2', '-c', '1', '-w', '1.5', '11.102.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:49.863 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-U', '-I', 'qr-8681fe42-f2', '-c', '1', '-w', '1.5', '11.102.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:49.895 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-A', '-I', 'qr-8681fe42-f2', '-c', '1', '-w', '1.5', '11.102.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:56.131 17309 DEBUG neutron.agent.l3.agent [req-c6c384c1-9215-4445-a420-d7f5d827b5cc 2d1ebac3fc964ba69757556553fa3f8a 5805e268cb0a48578f284cd9f63e11ea - - -] Got routers updated notification :[u'b098a5c2-3f50-4122-8dbc-14ecd1c87f78'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 20:33:56.133 17309 DEBUG neutron.agent.l3.agent [-] Starting router update for b098a5c2-3f50-4122-8dbc-14ecd1c87f78, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 20:33:59.475 17309 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 20:33:59.476 17309 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 20:33:59.477 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.497 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:33:59.497 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:33:59.498 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.get_preserve_ips" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:33:59.499 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.get_preserve_ips" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:33:59.499 17309 DEBUG neutron.agent.l3.router_info [-] External gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-06-28T18:33:54Z', u'device_owner': u'network:router_gateway', u'revision_number': 3, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'b9318fa8-4541-4df2-b5e9-58dd572f2238', u'prefixlen': 24, u'ip_address': u'172.24.4.7'}], u'id': u'6677be40-1f4a-4136-ad1b-906c422e0a71', u'security_groups': [], u'binding:vif_details': {}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:30:86:7f', u'project_id': u'', u'status': u'DOWN', u'subnets': [{u'dns_nameservers': [], u'ipv6_ra_mode': None, u'gateway_ip': u'172.24.4.1', u'cidr': u'172.24.4.0/24', u'id': u'b9318fa8-4541-4df2-b5e9-58dd572f2238', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'b098a5c2-3f50-4122-8dbc-14ecd1c87f78', u'name': u'', u'admin_state_up': True, u'network_id': u'c6b5bb99-dcc0-4f71-b6f8-268e791b3287', u'tenant_id': u'', u'created_at': u'2018-06-28T18:33:53Z', u'mtu': 1500, u'extra_subnets': []}), interface(qg-6677be40-1f), ns(qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78) _external_gateway_added /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:692
2018-06-28 20:33:59.500 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-o', 'link', 'show', 'qg-6677be40-1f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.516 17309 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-06-28 20:33:59.538 17309 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=None, port=qg-6677be40-1f) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 20:33:59.540 17309 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Transaction caused no change do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:114
2018-06-28 20:33:59.541 17309 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): AddPortCommand(bridge=br-int, may_exist=False, port=qg-6677be40-1f) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 20:33:59.543 17309 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=1): DbSetCommand(table=Interface, col_values=(('type', 'internal'), ('external_ids', {'iface-id': u'6677be40-1f4a-4136-ad1b-906c422e0a71', 'iface-status': 'active', 'attached-mac': u'fa:16:3e:30:86:7f'})), record=qg-6677be40-1f) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 20:33:59.578 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qg-6677be40-1f', 'address', 'fa:16:3e:30:86:7f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.590 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.603 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qg-6677be40-1f', 'netns', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.622 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', 'link', 'set', 'qg-6677be40-1f', 'mtu', '1500'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.634 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', 'link', 'set', 'qg-6677be40-1f', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.653 17309 DEBUG neutron.agent.linux.interface [-] init_router_port: device_name(qg-6677be40-1f), namespace(qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78) init_router_port /usr/lib/python2.7/site-packages/neutron/agent/linux/interface.py:180
2018-06-28 20:33:59.653 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-o', 'link', 'show', 'qg-6677be40-1f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.673 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', 'addr', 'show', 'qg-6677be40-1f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.690 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-4', 'addr', 'add', '172.24.4.7/24', 'scope', 'global', 'dev', 'qg-6677be40-1f', 'brd', '172.24.4.255'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.705 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-4', 'route', 'list', 'dev', 'qg-6677be40-1f', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.720 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-6', 'route', 'list', 'dev', 'qg-6677be40-1f', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.737 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-4', 'route', 'list', 'dev', 'qg-6677be40-1f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.753 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-6', 'route', 'list', 'dev', 'qg-6677be40-1f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.766 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-6677be40-1f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.783 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'sysctl', '-w', 'net.ipv6.conf.qg-6677be40-1f.accept_ra=2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.800 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'sysctl', '-w', 'net.ipv6.conf.qg-6677be40-1f.forwarding=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.817 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_gw_interface" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:33:59.817 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.add_gw_interface" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:33:59.818 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.820 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-U', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.7'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.844 17309 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 20:33:59.845 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.874 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-A', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.7'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.888 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.906 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.934 17309 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 14 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 20:33:59.935 17309 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 20:33:59.935 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', 'addr', 'show', 'qg-6677be40-1f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.951 17309 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 20:33:59.951 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.977 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:33:59.998 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:34:00.015 17309 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 5 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 20:34:00.016 17309 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 20:34:00.017 17309 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_updated-8758533380116', 'neutron.agent.linux.pd.update_router-8758533917565'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 20:34:00.017 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:34:00.019 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:34:00.021 17309 DEBUG neutron.agent.l3.agent [-] Finished a router update for b098a5c2-3f50-4122-8dbc-14ecd1c87f78 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 20:34:00.613 17309 DEBUG oslo_service.periodic_task [req-eaf0ae8d-158d-4774-ab55-032cc68c37a0 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 20:34:01.902 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-U', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.7'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:34:01.923 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-A', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.7'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:34:03.945 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-U', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.7'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:34:03.972 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-A', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.7'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:34:04.198 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:34:04.201 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:34:36.543 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:34:36.544 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:34:40.616 17309 DEBUG oslo_service.periodic_task [req-eaf0ae8d-158d-4774-ab55-032cc68c37a0 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 20:35:04.199 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:35:04.203 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:35:04.818 17309 DEBUG neutron.agent.l3.agent [req-fb589e06-2551-4774-bf55-569408dd520f 2d1ebac3fc964ba69757556553fa3f8a 5805e268cb0a48578f284cd9f63e11ea - - -] Got routers updated notification :[u'b098a5c2-3f50-4122-8dbc-14ecd1c87f78'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 20:35:04.823 17309 DEBUG neutron.agent.l3.agent [-] Starting router update for b098a5c2-3f50-4122-8dbc-14ecd1c87f78, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 20:35:05.893 17309 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 20:35:05.894 17309 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 20:35:05.895 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:05.927 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:35:05.928 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:35:05.928 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.get_preserve_ips" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:35:05.929 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.get_preserve_ips" :: held 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:35:05.929 17309 DEBUG neutron.agent.l3.router_info [-] External gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-06-28T18:34:01Z', u'device_owner': u'network:router_gateway', u'revision_number': 6, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'b9318fa8-4541-4df2-b5e9-58dd572f2238', u'prefixlen': 24, u'ip_address': u'172.24.4.7'}], u'id': u'6677be40-1f4a-4136-ad1b-906c422e0a71', u'security_groups': [], u'binding:vif_details': {u'port_filter': True, u'datapath_type': u'system', u'ovs_hybrid_plug': True}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:30:86:7f', u'project_id': u'', u'status': u'ACTIVE', u'subnets': [{u'dns_nameservers': [], u'ipv6_ra_mode': None, u'gateway_ip': u'172.24.4.1', u'cidr': u'172.24.4.0/24', u'id': u'b9318fa8-4541-4df2-b5e9-58dd572f2238', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'b098a5c2-3f50-4122-8dbc-14ecd1c87f78', u'name': u'', u'admin_state_up': True, u'network_id': u'c6b5bb99-dcc0-4f71-b6f8-268e791b3287', u'tenant_id': u'', u'created_at': u'2018-06-28T18:33:53Z', u'mtu': 1500, u'extra_subnets': []}), interface(qg-6677be40-1f), ns(qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78) _external_gateway_added /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:692
2018-06-28 20:35:05.930 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-o', 'link', 'show', 'qg-6677be40-1f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:05.956 17309 INFO neutron.agent.linux.interface [-] Device qg-6677be40-1f already exists
2018-06-28 20:35:05.957 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', 'link', 'set', 'qg-6677be40-1f', 'mtu', '1500'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:05.971 17309 DEBUG neutron.agent.linux.interface [-] init_router_port: device_name(qg-6677be40-1f), namespace(qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78) init_router_port /usr/lib/python2.7/site-packages/neutron/agent/linux/interface.py:180
2018-06-28 20:35:05.971 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-o', 'link', 'show', 'qg-6677be40-1f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.002 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', 'addr', 'show', 'qg-6677be40-1f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.027 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-4', 'route', 'list', 'dev', 'qg-6677be40-1f', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.045 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-6', 'route', 'list', 'dev', 'qg-6677be40-1f', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.064 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-4', 'route', 'list', 'dev', 'qg-6677be40-1f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.084 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-6', 'route', 'list', 'dev', 'qg-6677be40-1f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.098 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-6677be40-1f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.111 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'sysctl', '-w', 'net.ipv6.conf.qg-6677be40-1f.accept_ra=2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.139 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'sysctl', '-w', 'net.ipv6.conf.qg-6677be40-1f.forwarding=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.161 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.163 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-U', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.7'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.180 17309 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 20:35:06.181 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.210 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.227 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-A', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.7'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.240 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.270 17309 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 7 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 20:35:06.271 17309 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 20:35:06.282 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', 'addr', 'show', 'qg-6677be40-1f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.306 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-4', 'addr', 'add', '172.24.4.12/32', 'scope', 'global', 'dev', 'qg-6677be40-1f', 'brd', '172.24.4.12'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.329 17309 DEBUG neutron.agent.l3.router_info [-] Floating ip 77c81736-01b3-4223-8048-4e53654e0996 added, status ACTIVE process_floating_ip_addresses /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:361
2018-06-28 20:35:06.330 17309 DEBUG neutron.agent.l3.router_info [-] Sending floating ip statuses: {u'77c81736-01b3-4223-8048-4e53654e0996': 'ACTIVE'} update_fip_statuses /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:942
2018-06-28 20:35:06.343 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-U', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.12'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.414 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-A', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.12'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.488 17309 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 20:35:06.490 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.522 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:06.544 17309 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 0 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 20:35:06.546 17309 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 20:35:06.547 17309 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_updated-8758533380116', 'neutron.agent.linux.pd.update_router-8758533917565'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 20:35:06.548 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:35:06.549 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:35:06.554 17309 DEBUG neutron.agent.l3.agent [-] Finished a router update for b098a5c2-3f50-4122-8dbc-14ecd1c87f78 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 20:35:08.256 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-U', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.7'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:08.277 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-A', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.7'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:08.476 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-U', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.12'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:08.498 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-A', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.12'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:10.300 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-U', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.7'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:10.326 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-A', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.7'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:10.518 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-U', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.12'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:10.544 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'arping', '-A', '-I', 'qg-6677be40-1f', '-c', '1', '-w', '1.5', '172.24.4.12'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:35:20.620 17309 DEBUG oslo_service.periodic_task [req-eaf0ae8d-158d-4774-ab55-032cc68c37a0 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 20:35:36.543 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:35:36.544 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:36:00.623 17309 DEBUG oslo_service.periodic_task [req-eaf0ae8d-158d-4774-ab55-032cc68c37a0 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 20:36:04.199 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:36:04.202 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:36:36.545 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:36:36.545 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:36:40.626 17309 DEBUG oslo_service.periodic_task [req-eaf0ae8d-158d-4774-ab55-032cc68c37a0 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 20:37:04.200 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:37:04.203 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:37:20.628 17309 DEBUG oslo_service.periodic_task [req-eaf0ae8d-158d-4774-ab55-032cc68c37a0 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 20:37:36.546 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:37:36.547 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:38:00.631 17309 DEBUG oslo_service.periodic_task [req-eaf0ae8d-158d-4774-ab55-032cc68c37a0 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 20:38:04.201 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:38:04.205 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:38:15.230 17309 DEBUG neutron.agent.l3.agent [req-0ca8ba04-e60b-44cb-9547-5a4098e71672 2d1ebac3fc964ba69757556553fa3f8a 5805e268cb0a48578f284cd9f63e11ea - - -] Got routers updated notification :[u'b098a5c2-3f50-4122-8dbc-14ecd1c87f78'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 20:38:15.234 17309 DEBUG neutron.agent.l3.agent [-] Starting router update for b098a5c2-3f50-4122-8dbc-14ecd1c87f78, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 20:38:16.272 17309 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 20:38:16.273 17309 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 20:38:16.274 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:38:16.303 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:38:16.304 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:38:16.305 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:38:16.334 17309 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 20:38:16.336 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:38:16.362 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:38:16.383 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:38:16.422 17309 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 7 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 20:38:16.422 17309 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 20:38:16.423 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', 'addr', 'show', 'qg-6677be40-1f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:38:16.443 17309 DEBUG neutron.agent.l3.router_info [-] Removing floating ip 172.24.4.12/32 from interface qg-6677be40-1f in namespace qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78 process_floating_ip_addresses /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:384
2018-06-28 20:38:16.444 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-4', 'addr', 'del', '172.24.4.12/32', 'dev', 'qg-6677be40-1f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:38:16.464 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'conntrack', '-D', '-d', '172.24.4.12'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:38:16.480 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'conntrack', '-D', '-q', '172.24.4.12'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:38:16.493 17309 DEBUG neutron.agent.l3.router_info [-] Sending floating ip statuses: {u'77c81736-01b3-4223-8048-4e53654e0996': 'DOWN'} update_fip_statuses /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:942
2018-06-28 20:38:16.545 17309 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 20:38:16.546 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:38:16.565 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:38:16.580 17309 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 0 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 20:38:16.581 17309 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 20:38:16.582 17309 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_updated-8758533380116', 'neutron.agent.linux.pd.update_router-8758533917565'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 20:38:16.583 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:38:16.584 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:38:16.584 17309 DEBUG neutron.agent.l3.agent [-] Finished a router update for b098a5c2-3f50-4122-8dbc-14ecd1c87f78 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 20:38:36.548 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:38:36.549 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:38:40.633 17309 DEBUG oslo_service.periodic_task [req-eaf0ae8d-158d-4774-ab55-032cc68c37a0 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 20:39:04.201 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:39:04.207 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.006s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:39:09.646 17309 DEBUG neutron.agent.l3.agent [req-3b795f06-26c1-4e63-92fc-93cdd9926d1a aa9ab289b900453cbe540da36aa76872 1a35e3b0e18c4eff8ec68ce1f34b28b0 - - -] Got routers updated notification :[u'b098a5c2-3f50-4122-8dbc-14ecd1c87f78'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 20:39:09.649 17309 DEBUG neutron.agent.l3.agent [-] Starting router update for b098a5c2-3f50-4122-8dbc-14ecd1c87f78, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 20:39:10.278 17309 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 20:39:10.278 17309 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 20:39:10.279 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:10.298 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:39:10.299 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:39:10.299 17309 DEBUG neutron.agent.l3.router_info [-] External gateway removed: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-06-28T18:34:01Z', u'device_owner': u'network:router_gateway', u'revision_number': 6, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'b9318fa8-4541-4df2-b5e9-58dd572f2238', u'prefixlen': 24, u'ip_address': u'172.24.4.7'}], u'id': u'6677be40-1f4a-4136-ad1b-906c422e0a71', u'security_groups': [], u'binding:vif_details': {u'port_filter': True, u'datapath_type': u'system', u'ovs_hybrid_plug': True}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:30:86:7f', u'project_id': u'', u'status': u'ACTIVE', u'subnets': [{u'dns_nameservers': [], u'ipv6_ra_mode': None, u'gateway_ip': u'172.24.4.1', u'cidr': u'172.24.4.0/24', u'id': u'b9318fa8-4541-4df2-b5e9-58dd572f2238', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'b098a5c2-3f50-4122-8dbc-14ecd1c87f78', u'name': u'', u'admin_state_up': True, u'network_id': u'c6b5bb99-dcc0-4f71-b6f8-268e791b3287', u'tenant_id': u'', u'created_at': u'2018-06-28T18:33:53Z', u'mtu': 1500, u'extra_subnets': []}), interface(qg-6677be40-1f) external_gateway_removed /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:753
2018-06-28 20:39:10.300 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-4', 'addr', 'del', '172.24.4.7/24', 'dev', 'qg-6677be40-1f'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:10.314 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'conntrack', '-D', '-d', '172.24.4.7'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:10.326 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'conntrack', '-D', '-q', '172.24.4.7'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:10.338 17309 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-06-28 20:39:10.354 17309 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=br-int, port=qg-6677be40-1f) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 20:39:10.384 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_gw_interface" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:39:10.385 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_gw_interface" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:39:10.385 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:10.397 17309 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 20:39:10.398 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:10.416 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:10.428 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:10.442 17309 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 13 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 20:39:10.443 17309 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 20:39:10.444 17309 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 20:39:10.444 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:10.461 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:10.473 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:10.487 17309 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 5 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 20:39:10.487 17309 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 20:39:10.488 17309 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_updated-8758533380116', 'neutron.agent.linux.pd.update_router-8758533917565'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 20:39:10.489 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:39:10.490 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:39:10.491 17309 DEBUG neutron.agent.l3.agent [-] Finished a router update for b098a5c2-3f50-4122-8dbc-14ecd1c87f78 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 20:39:20.634 17309 DEBUG oslo_service.periodic_task [req-eaf0ae8d-158d-4774-ab55-032cc68c37a0 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 20:39:28.918 17309 DEBUG neutron.agent.l3.agent [req-9c0ed917-b6a3-4244-bb5b-81168f7c3be9 aa9ab289b900453cbe540da36aa76872 1a35e3b0e18c4eff8ec68ce1f34b28b0 - - -] Got routers updated notification :[u'b098a5c2-3f50-4122-8dbc-14ecd1c87f78'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-06-28 20:39:28.922 17309 DEBUG neutron.agent.l3.agent [-] Starting router update for b098a5c2-3f50-4122-8dbc-14ecd1c87f78, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 20:39:29.306 17309 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 20:39:29.307 17309 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-06-28 20:39:29.307 17309 DEBUG neutron.agent.l3.router_info [-] removing internal network: port(8681fe42-f262-4ee2-ab8d-1f46a633dfba) interface(qr-8681fe42-f2) internal_network_removed /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:477
2018-06-28 20:39:29.309 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip', '-o', 'link', 'show', 'qr-8681fe42-f2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:29.333 17309 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-06-28 20:39:29.361 17309 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=br-int, port=qr-8681fe42-f2) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-06-28 20:39:29.417 17309 DEBUG neutron.agent.l3.router_info [-] removing port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-06-28T18:33:41Z', u'device_owner': u'network:router_interface', u'revision_number': 4, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'4cfa5ed5-54e1-48b9-b78e-34c3968ebf32', u'prefixlen': 24, u'ip_address': u'11.102.1.1'}], u'id': u'8681fe42-f262-4ee2-ab8d-1f46a633dfba', u'security_groups': [], u'binding:vif_details': {}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:49:bb:4b', u'project_id': u'5805e268cb0a48578f284cd9f63e11ea', u'status': u'DOWN', u'subnets': [{u'dns_nameservers': [u'8.8.4.4'], u'ipv6_ra_mode': None, u'gateway_ip': u'11.102.1.1', u'cidr': u'11.102.1.0/24', u'id': u'4cfa5ed5-54e1-48b9-b78e-34c3968ebf32', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'b098a5c2-3f50-4122-8dbc-14ecd1c87f78', u'name': u'', u'admin_state_up': True, u'network_id': u'c8f7d1a1-5842-41cb-8c9f-47d5860937f6', u'tenant_id': u'5805e268cb0a48578f284cd9f63e11ea', u'created_at': u'2018-06-28T18:33:39Z', u'mtu': 1450, u'extra_subnets': []} from internal_ports cache _process_internal_ports /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:567
2018-06-28 20:39:29.421 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:29.442 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:39:29.444 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.002s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:39:29.445 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:29.468 17309 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 20:39:29.470 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:29.497 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:29.520 17309 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 0 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 20:39:29.521 17309 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 20:39:29.522 17309 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-06-28 20:39:29.523 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:29.544 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:29.562 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:29.583 17309 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 10 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-06-28 20:39:29.584 17309 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-06-28 20:39:29.585 17309 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_updated-8758533380116', 'neutron.agent.linux.pd.update_router-8758533917565'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 20:39:29.587 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:39:29.588 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:39:29.589 17309 DEBUG neutron.agent.l3.agent [-] Finished a router update for b098a5c2-3f50-4122-8dbc-14ecd1c87f78 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-06-28 20:39:36.548 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:39:36.549 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:39:38.414 17309 DEBUG neutron.agent.l3.agent [req-1c1b563f-13a9-41f4-a025-cd5e4b738d71 aa9ab289b900453cbe540da36aa76872 1a35e3b0e18c4eff8ec68ce1f34b28b0 - - -] Got router deleted notification for b098a5c2-3f50-4122-8dbc-14ecd1c87f78 router_deleted /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:424
2018-06-28 20:39:38.420 17309 DEBUG neutron.agent.l3.agent [-] Starting router update for b098a5c2-3f50-4122-8dbc-14ecd1c87f78, action 1, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-06-28 20:39:38.422 17309 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.before_router_removed--9223363278321395685'] for router, before_delete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 20:39:38.425 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['kill', '-9', '25971'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:38.447 17309 DEBUG neutron.agent.l3.router_info [-] process router delete process_delete /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1114
2018-06-28 20:39:38.448 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:38.549 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:38.569 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:39:38.571 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:39:38.572 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:38.595 17309 DEBUG neutron.agent.l3.router_info [-] Terminating radvd daemon in router device: b098a5c2-3f50-4122-8dbc-14ecd1c87f78 disable_radvd /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:520
2018-06-28 20:39:38.597 17309 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/b098a5c2-3f50-4122-8dbc-14ecd1c87f78.pid.radvd get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-06-28 20:39:38.598 17309 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/b098a5c2-3f50-4122-8dbc-14ecd1c87f78.pid.radvd get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-06-28 20:39:38.598 17309 DEBUG neutron.agent.linux.external_process [-] No process started for b098a5c2-3f50-4122-8dbc-14ecd1c87f78 disable /usr/lib/python2.7/site-packages/neutron/agent/linux/external_process.py:126
2018-06-28 20:39:38.599 17309 DEBUG neutron.agent.linux.ra [-] radvd disabled for router b098a5c2-3f50-4122-8dbc-14ecd1c87f78 disable /usr/lib/python2.7/site-packages/neutron/agent/linux/ra.py:190
2018-06-28 20:39:38.600 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:38.614 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:38.635 17309 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'delete', 'qrouter-b098a5c2-3f50-4122-8dbc-14ecd1c87f78'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-06-28 20:39:38.650 17309 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.linux.pd.remove_router--9223363278320858281'] for router, after_delete _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-06-28 20:39:38.651 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.remove_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:39:38.652 17309 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.remove_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:39:38.653 17309 DEBUG neutron.agent.l3.agent [-] Finished a router update for b098a5c2-3f50-4122-8dbc-14ecd1c87f78 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:564
2018-06-28 20:40:00.638 17309 DEBUG oslo_service.periodic_task [req-eaf0ae8d-158d-4774-ab55-032cc68c37a0 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-06-28 20:40:04.202 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:40:04.206 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:40:36.548 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-28 20:40:36.549 17309 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-28 20:40:40.639 17309 DEBUG oslo_service.periodic_task [req-eaf0ae8d-158d-4774-ab55-032cc68c37a0 - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215

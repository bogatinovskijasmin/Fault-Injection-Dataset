2018-07-02 20:26:53.127 26222 DEBUG oslo_service.periodic_task [req-ddb0f9e6-6696-467b-a77d-5a37915715ca - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-07-02 20:27:05.277 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:27:05.281 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:27:07.886 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:27:07.887 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:27:33.131 26222 DEBUG oslo_service.periodic_task [req-ddb0f9e6-6696-467b-a77d-5a37915715ca - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-07-02 20:28:05.279 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:28:05.285 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.006s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:28:07.887 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:28:07.888 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:28:13.134 26222 DEBUG oslo_service.periodic_task [req-ddb0f9e6-6696-467b-a77d-5a37915715ca - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-07-02 20:28:53.138 26222 DEBUG oslo_service.periodic_task [req-ddb0f9e6-6696-467b-a77d-5a37915715ca - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-07-02 20:29:05.280 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:29:05.284 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:29:07.888 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:29:07.889 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:29:33.142 26222 DEBUG oslo_service.periodic_task [req-ddb0f9e6-6696-467b-a77d-5a37915715ca - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-07-02 20:29:46.942 26222 DEBUG neutron.agent.l3.agent [req-1fbfd12d-7c05-4367-a5a9-9728e6d43d69 a381ecd256ed4c47889768be469e6880 b0d6feb9dac34572b999ce25fe31eca7 - - -] Got routers updated notification :[u'a964ed4a-2cc7-4117-84f5-870d374a5f9e'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-07-02 20:29:46.945 26222 DEBUG neutron.agent.l3.agent [-] Starting router update for a964ed4a-2cc7-4117-84f5-870d374a5f9e, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-07-02 20:29:51.519 26222 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.linux.pd.add_router-8755541858926'] for router, before_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-07-02 20:29:51.520 26222 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:29:51.521 26222 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.add_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:29:51.521 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.538 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'add', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.555 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'sysctl', '-w', 'net.ipv4.conf.all.promote_secondaries=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.575 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', 'link', 'set', 'lo', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.589 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'sysctl', '-w', 'net.ipv4.ip_forward=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.609 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'sysctl', '-w', 'net.ipv4.conf.all.arp_ignore=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.629 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'sysctl', '-w', 'net.ipv4.conf.all.arp_announce=2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.645 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'sysctl', '-w', 'net.ipv6.conf.all.forwarding=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.663 26222 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-07-02 20:29:51.663 26222 DEBUG neutron.agent.l3.router_info [-] adding internal network: prefix(qr-), port(d15e0bff-7ece-412e-a09e-39fa168f447d) _internal_network_added /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:444
2018-07-02 20:29:51.664 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', '-o', 'link', 'show', 'qr-d15e0bff-7e'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.690 26222 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-07-02 20:29:51.712 26222 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=None, port=qr-d15e0bff-7e) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-07-02 20:29:51.715 26222 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Transaction caused no change do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:114
2018-07-02 20:29:51.718 26222 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): AddPortCommand(bridge=br-int, may_exist=False, port=qr-d15e0bff-7e) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-07-02 20:29:51.720 26222 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=1): DbSetCommand(table=Interface, col_values=(('type', 'internal'), ('external_ids', {'iface-id': u'd15e0bff-7ece-412e-a09e-39fa168f447d', 'iface-status': 'active', 'attached-mac': u'fa:16:3e:79:96:89'})), record=qr-d15e0bff-7e) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-07-02 20:29:51.754 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qr-d15e0bff-7e', 'address', 'fa:16:3e:79:96:89'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.765 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.776 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qr-d15e0bff-7e', 'netns', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.800 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', 'link', 'set', 'qr-d15e0bff-7e', 'mtu', '1450'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.811 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', 'link', 'set', 'qr-d15e0bff-7e', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.823 26222 DEBUG neutron.agent.linux.interface [-] init_router_port: device_name(qr-d15e0bff-7e), namespace(qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e) init_router_port /usr/lib/python2.7/site-packages/neutron/agent/linux/interface.py:180
2018-07-02 20:29:51.825 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', '-o', 'link', 'show', 'qr-d15e0bff-7e'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.839 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', 'addr', 'show', 'qr-d15e0bff-7e'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.854 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', '-4', 'addr', 'add', '11.176.1.1/24', 'scope', 'global', 'dev', 'qr-d15e0bff-7e', 'brd', '11.176.1.255'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.867 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', '-4', 'route', 'list', 'dev', 'qr-d15e0bff-7e', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.881 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', '-6', 'route', 'list', 'dev', 'qr-d15e0bff-7e', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.896 26222 DEBUG neutron.agent.l3.router_info [-] appending port {u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-07-02T18:29:45Z', u'device_owner': u'network:router_interface', u'revision_number': 4, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'a98d038c-02d8-4d3a-bbcf-7f331c1218c9', u'prefixlen': 24, u'ip_address': u'11.176.1.1'}], u'id': u'd15e0bff-7ece-412e-a09e-39fa168f447d', u'security_groups': [], u'binding:vif_details': {}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:79:96:89', u'project_id': u'b0d6feb9dac34572b999ce25fe31eca7', u'status': u'DOWN', u'subnets': [{u'dns_nameservers': [u'8.8.4.4'], u'ipv6_ra_mode': None, u'gateway_ip': u'11.176.1.1', u'cidr': u'11.176.1.0/24', u'id': u'a98d038c-02d8-4d3a-bbcf-7f331c1218c9', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'a964ed4a-2cc7-4117-84f5-870d374a5f9e', u'name': u'', u'admin_state_up': True, u'network_id': u'9071cc53-db42-4dd6-9649-fa48ffc503c4', u'tenant_id': u'b0d6feb9dac34572b999ce25fe31eca7', u'created_at': u'2018-07-02T18:29:43Z', u'mtu': 1450, u'extra_subnets': []} to internal_ports cache _process_internal_ports /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:555
2018-07-02 20:29:51.898 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.900 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'arping', '-U', '-I', 'qr-d15e0bff-7e', '-c', '1', '-w', '1.5', '11.176.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.915 26222 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:29:51.916 26222 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:29:51.917 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.930 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'arping', '-A', '-I', 'qr-d15e0bff-7e', '-c', '1', '-w', '1.5', '11.176.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.937 26222 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-07-02 20:29:51.938 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.963 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:51.983 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:52.001 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip6tables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:52.017 26222 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 106 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-07-02 20:29:52.018 26222 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-07-02 20:29:52.021 26222 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-07-02 20:29:52.021 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:52.042 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:52.061 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:52.083 26222 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 10 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-07-02 20:29:52.084 26222 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-07-02 20:29:52.085 26222 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.metadata.driver.after_router_added--9223363281313456357'] for router, after_create _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-07-02 20:29:52.086 26222 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-07-02 20:29:52.087 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:52.110 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:52.129 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:52.147 26222 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 17 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-07-02 20:29:52.148 26222 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-07-02 20:29:52.149 26222 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/a964ed4a-2cc7-4117-84f5-870d374a5f9e.pid get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-07-02 20:29:52.150 26222 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/a964ed4a-2cc7-4117-84f5-870d374a5f9e.pid get_value_from_file /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:254
2018-07-02 20:29:52.151 26222 DEBUG neutron.agent.metadata.driver [-] haproxy_cfg = 
global
    log         /dev/log local0 debug
    log-tag     haproxy-metadata-proxy-a964ed4a-2cc7-4117-84f5-870d374a5f9e
    user        neutron
    group       neutron
    maxconn     1024
    pidfile     /var/lib/neutron/external/pids/a964ed4a-2cc7-4117-84f5-870d374a5f9e.pid
    daemon

defaults
    log global
    mode http
    option httplog
    option dontlognull
    option http-server-close
    option forwardfor
    retries                 3
    timeout http-request    30s
    timeout connect         30s
    timeout client          32s
    timeout server          32s
    timeout http-keep-alive 30s

listen listener
    bind 0.0.0.0:9697
    server metadata /var/lib/neutron/metadata_proxy
    http-request add-header X-Neutron-Router-ID a964ed4a-2cc7-4117-84f5-870d374a5f9e
 create_config_file /usr/lib/python2.7/site-packages/neutron/agent/metadata/driver.py:135
2018-07-02 20:29:52.152 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'haproxy', '-f', '/var/lib/neutron/ns-metadata-proxy/a964ed4a-2cc7-4117-84f5-870d374a5f9e.conf'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:52.187 26222 DEBUG neutron.agent.l3.agent [-] Finished a router update for a964ed4a-2cc7-4117-84f5-870d374a5f9e _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-07-02 20:29:53.967 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'arping', '-U', '-I', 'qr-d15e0bff-7e', '-c', '1', '-w', '1.5', '11.176.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:53.989 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'arping', '-A', '-I', 'qr-d15e0bff-7e', '-c', '1', '-w', '1.5', '11.176.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:56.014 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'arping', '-U', '-I', 'qr-d15e0bff-7e', '-c', '1', '-w', '1.5', '11.176.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:29:56.042 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'arping', '-A', '-I', 'qr-d15e0bff-7e', '-c', '1', '-w', '1.5', '11.176.1.1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:03.121 26222 DEBUG neutron.agent.l3.agent [req-fc877e0a-1db8-4570-9dc6-d802400e839f a381ecd256ed4c47889768be469e6880 b0d6feb9dac34572b999ce25fe31eca7 - - -] Got routers updated notification :[u'a964ed4a-2cc7-4117-84f5-870d374a5f9e'] routers_updated /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:432
2018-07-02 20:30:03.125 26222 DEBUG neutron.agent.l3.agent [-] Starting router update for a964ed4a-2cc7-4117-84f5-870d374a5f9e, action None, priority 0 _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:534
2018-07-02 20:30:05.282 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:30:05.285 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:30:06.198 26222 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks [] for router, before_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-07-02 20:30:06.198 26222 DEBUG neutron.agent.l3.router_info [-] process router updates process /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:1132
2018-07-02 20:30:06.199 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.217 26222 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.sync_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:30:06.218 26222 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.sync_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:30:06.218 26222 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.get_preserve_ips" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:30:06.219 26222 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.get_preserve_ips" :: held 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:30:06.219 26222 DEBUG neutron.agent.l3.router_info [-] External gateway added: port({u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2018-07-02T18:30:01Z', u'device_owner': u'network:router_gateway', u'revision_number': 3, u'port_security_enabled': False, u'binding:profile': {}, u'binding:vnic_type': u'normal', u'fixed_ips': [{u'subnet_id': u'b9318fa8-4541-4df2-b5e9-58dd572f2238', u'prefixlen': 24, u'ip_address': u'172.24.4.12'}], u'id': u'4e42af3b-04b9-4f90-b7db-55ee4419d10d', u'security_groups': [], u'binding:vif_details': {}, u'address_scopes': {u'4': None, u'6': None}, u'binding:vif_type': u'unbound', u'mac_address': u'fa:16:3e:14:a4:c2', u'project_id': u'', u'status': u'DOWN', u'subnets': [{u'dns_nameservers': [], u'ipv6_ra_mode': None, u'gateway_ip': u'172.24.4.1', u'cidr': u'172.24.4.0/24', u'id': u'b9318fa8-4541-4df2-b5e9-58dd572f2238', u'subnetpool_id': None}], u'binding:host_id': u'localhost.localdomain', u'description': u'', u'tags': [], u'device_id': u'a964ed4a-2cc7-4117-84f5-870d374a5f9e', u'name': u'', u'admin_state_up': True, u'network_id': u'c6b5bb99-dcc0-4f71-b6f8-268e791b3287', u'tenant_id': u'', u'created_at': u'2018-07-02T18:30:00Z', u'mtu': 1500, u'extra_subnets': []}), interface(qg-4e42af3b-04), ns(qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e) _external_gateway_added /usr/lib/python2.7/site-packages/neutron/agent/l3/router_info.py:692
2018-07-02 20:30:06.219 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', '-o', 'link', 'show', 'qg-4e42af3b-04'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.240 26222 DEBUG neutron.agent.linux.utils [-] Running command: ['ip', '-o', 'link', 'show', 'br-int'] create_process /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:92
2018-07-02 20:30:06.261 26222 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): DelPortCommand(if_exists=True, bridge=None, port=qg-4e42af3b-04) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-07-02 20:30:06.263 26222 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Transaction caused no change do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:114
2018-07-02 20:30:06.264 26222 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=0): AddPortCommand(bridge=br-int, may_exist=False, port=qg-4e42af3b-04) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-07-02 20:30:06.265 26222 DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn command(idx=1): DbSetCommand(table=Interface, col_values=(('type', 'internal'), ('external_ids', {'iface-id': u'4e42af3b-04b9-4f90-b7db-55ee4419d10d', 'iface-status': 'active', 'attached-mac': u'fa:16:3e:14:a4:c2'})), record=qg-4e42af3b-04) do_commit /usr/lib/python2.7/site-packages/ovsdbapp/backend/ovs_idl/transaction.py:84
2018-07-02 20:30:06.291 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qg-4e42af3b-04', 'address', 'fa:16:3e:14:a4:c2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.303 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', '-o', 'netns', 'list'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.313 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'link', 'set', 'qg-4e42af3b-04', 'netns', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.332 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', 'link', 'set', 'qg-4e42af3b-04', 'mtu', '1500'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.343 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', 'link', 'set', 'qg-4e42af3b-04', 'up'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.356 26222 DEBUG neutron.agent.linux.interface [-] init_router_port: device_name(qg-4e42af3b-04), namespace(qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e) init_router_port /usr/lib/python2.7/site-packages/neutron/agent/linux/interface.py:180
2018-07-02 20:30:06.357 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', '-o', 'link', 'show', 'qg-4e42af3b-04'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.370 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', 'addr', 'show', 'qg-4e42af3b-04'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.384 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', '-4', 'addr', 'add', '172.24.4.12/24', 'scope', 'global', 'dev', 'qg-4e42af3b-04', 'brd', '172.24.4.255'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.397 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', '-4', 'route', 'list', 'dev', 'qg-4e42af3b-04', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.408 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', '-6', 'route', 'list', 'dev', 'qg-4e42af3b-04', 'scope', 'link'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.417 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', '-4', 'route', 'list', 'dev', 'qg-4e42af3b-04'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.427 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', '-6', 'route', 'list', 'dev', 'qg-4e42af3b-04'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.437 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', '-4', 'route', 'replace', 'default', 'via', '172.24.4.1', 'dev', 'qg-4e42af3b-04'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.448 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'sysctl', '-w', 'net.ipv6.conf.qg-4e42af3b-04.accept_ra=2'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.462 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'sysctl', '-w', 'net.ipv6.conf.qg-4e42af3b-04.forwarding=1'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.475 26222 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.add_gw_interface" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:30:06.476 26222 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.add_gw_interface" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:30:06.477 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'find', '/sys/class/net', '-maxdepth', '1', '-type', 'l', '-printf', '%f '] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.478 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'arping', '-U', '-I', 'qg-4e42af3b-04', '-c', '1', '-w', '1.5', '172.24.4.12'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.489 26222 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-07-02 20:30:06.490 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.502 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'arping', '-A', '-I', 'qg-4e42af3b-04', '-c', '1', '-w', '1.5', '172.24.4.12'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.514 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.526 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.541 26222 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 14 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-07-02 20:30:06.541 26222 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-07-02 20:30:06.542 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip', 'addr', 'show', 'qg-4e42af3b-04'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.554 26222 DEBUG oslo_concurrency.lockutils [-] Acquired semaphore "iptables-qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:212
2018-07-02 20:30:06.555 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'iptables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.572 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'iptables-restore', '-n'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.585 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'ip6tables-save'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:06.600 26222 DEBUG neutron.agent.linux.iptables_manager [-] IPTablesManager.apply completed with success. 5 iptables commands were issued _apply_synchronized /usr/lib/python2.7/site-packages/neutron/agent/linux/iptables_manager.py:601
2018-07-02 20:30:06.601 26222 DEBUG oslo_concurrency.lockutils [-] Releasing semaphore "iptables-qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e" lock /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:225
2018-07-02 20:30:06.602 26222 DEBUG neutron_lib.callbacks.manager [-] Notify callbacks ['neutron.agent.linux.pd.update_router-8755541858941', 'neutron.agent.metadata.driver.after_router_updated-8755541321492'] for router, after_update _notify_loop /usr/lib/python2.7/site-packages/neutron_lib/callbacks/manager.py:167
2018-07-02 20:30:06.603 26222 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" acquired by "neutron.agent.linux.pd.update_router" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:30:06.603 26222 DEBUG oslo_concurrency.lockutils [-] Lock "l3-agent-pd" released by "neutron.agent.linux.pd.update_router" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:30:06.604 26222 DEBUG neutron.agent.l3.agent [-] Finished a router update for a964ed4a-2cc7-4117-84f5-870d374a5f9e _process_router_update /usr/lib/python2.7/site-packages/neutron/agent/l3/agent.py:583
2018-07-02 20:30:07.888 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:30:07.889 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:30:08.519 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'arping', '-U', '-I', 'qg-4e42af3b-04', '-c', '1', '-w', '1.5', '172.24.4.12'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:08.543 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'arping', '-A', '-I', 'qg-4e42af3b-04', '-c', '1', '-w', '1.5', '172.24.4.12'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:10.574 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'arping', '-U', '-I', 'qg-4e42af3b-04', '-c', '1', '-w', '1.5', '172.24.4.12'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:10.606 26222 DEBUG neutron.agent.linux.utils [-] Running command (rootwrap daemon): ['ip', 'netns', 'exec', 'qrouter-a964ed4a-2cc7-4117-84f5-870d374a5f9e', 'arping', '-A', '-I', 'qg-4e42af3b-04', '-c', '1', '-w', '1.5', '172.24.4.12'] execute_rootwrap_daemon /usr/lib/python2.7/site-packages/neutron/agent/linux/utils.py:108
2018-07-02 20:30:13.145 26222 DEBUG oslo_service.periodic_task [req-ddb0f9e6-6696-467b-a77d-5a37915715ca - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-07-02 20:30:53.149 26222 DEBUG oslo_service.periodic_task [req-ddb0f9e6-6696-467b-a77d-5a37915715ca - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-07-02 20:31:05.284 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:31:05.289 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.006s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:31:07.889 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:31:07.889 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:31:33.152 26222 DEBUG oslo_service.periodic_task [req-ddb0f9e6-6696-467b-a77d-5a37915715ca - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-07-02 20:32:05.284 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:32:05.287 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:32:07.889 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:32:07.890 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:32:13.154 26222 DEBUG oslo_service.periodic_task [req-ddb0f9e6-6696-467b-a77d-5a37915715ca - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-07-02 20:32:53.158 26222 DEBUG oslo_service.periodic_task [req-ddb0f9e6-6696-467b-a77d-5a37915715ca - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-07-02 20:33:05.285 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:33:05.290 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:33:07.890 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:33:07.891 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:33:33.164 26222 DEBUG oslo_service.periodic_task [req-ddb0f9e6-6696-467b-a77d-5a37915715ca - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-07-02 20:34:05.286 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:34:05.290 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:34:07.892 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:34:07.894 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.002s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:34:13.167 26222 DEBUG oslo_service.periodic_task [req-ddb0f9e6-6696-467b-a77d-5a37915715ca - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-07-02 20:34:53.170 26222 DEBUG oslo_service.periodic_task [req-ddb0f9e6-6696-467b-a77d-5a37915715ca - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-07-02 20:35:05.288 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:35:05.291 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:35:07.892 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:35:07.893 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:35:33.174 26222 DEBUG oslo_service.periodic_task [req-ddb0f9e6-6696-467b-a77d-5a37915715ca - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-07-02 20:36:05.289 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:36:05.293 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.004s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:36:07.894 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:36:07.894 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:36:13.177 26222 DEBUG oslo_service.periodic_task [req-ddb0f9e6-6696-467b-a77d-5a37915715ca - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-07-02 20:36:53.180 26222 DEBUG oslo_service.periodic_task [req-ddb0f9e6-6696-467b-a77d-5a37915715ca - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215
2018-07-02 20:37:05.289 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:37:05.293 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.003s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:37:07.895 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process._check_child_processes" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-07-02 20:37:07.896 26222 DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" released by "neutron.agent.linux.external_process._check_child_processes" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-07-02 20:37:33.183 26222 DEBUG oslo_service.periodic_task [req-ddb0f9e6-6696-467b-a77d-5a37915715ca - - - - -] Running periodic task L3NATAgentWithStateReport.periodic_sync_routers_task run_periodic_tasks /usr/lib/python2.7/site-packages/oslo_service/periodic_task.py:215

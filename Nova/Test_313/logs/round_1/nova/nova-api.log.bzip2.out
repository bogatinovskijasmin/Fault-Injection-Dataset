2018-06-30 07:28:52.566 15833 DEBUG nova.osapi_compute.wsgi.server [req-3461bd2f-b302-4718-9c90-e3cf8b681d85 - - - - -] (15833) accepted ('10.0.20.26', 60798) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-30 07:28:52.576 15833 WARNING keystonemiddleware.auth_token [req-3461bd2f-b302-4718-9c90-e3cf8b681d85 - - - - -] Using the in-process token cache is deprecated as of the 4.2.0 release and may be removed in the 5.0.0 release or the 'O' development cycle. The in-process cache causes inconsistent results and high memory usage. When the feature is removed the auth_token middleware will not cache tokens by default which may result in performance issues. It is recommended to use  memcache for the auth_token token cache by setting the memcached_servers option.
2018-06-30 07:28:54.195 15833 DEBUG nova.api.openstack.wsgi [req-4282f144-9df6-425c-b496-2060446a0a3f 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] Azione: 'create', metodo chiamata: <function version_select at 0x7f8d8af136e0>, corpo: {"keypair": {"public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCgENlYPShB8qiuyw9ZoiI++P76/+p4gCu6bg6Q1gag0QngCn6Z0W7rOIAVu83sLFjjBQU0UCryQ3eHW1NGfzAy4y4c/HsEX/WncUX1KPNB4/zFzvvYvuY5qBgi5NMYS25Kd3NlkGjE17wpRGuMabTRiHabFb637D/Jo4OlPqx1RgXS+Djw1agbVaRKCmUFxe7KN+Z1YJwq4zwkArBuvqip0v3xcE/4Cf2RTRhdl3HlYg7D/CI0PELBc9K5PTi3HDBOCIrg1e447PUXs9dmkqnnxwnH+7idSPJ7l7q1EIjIrnzJMqOI8YLf8OE4cFZY3scMezAgv5VeKPGDzdDi3UrR root@localhost.localdomain\n", "name": "tempest-keypair-1530336473"}} _process_stack /usr/lib/python2.7/site-packages/nova/api/openstack/wsgi.py:609
2018-06-30 07:28:54.290 15833 DEBUG oslo_db.sqlalchemy.engines [req-4282f144-9df6-425c-b496-2060446a0a3f 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION _check_effective_sql_mode /usr/lib/python2.7/site-packages/oslo_db/sqlalchemy/engines.py:285
2018-06-30 07:28:54.351 15833 DEBUG nova.quota [req-4282f144-9df6-425c-b496-2060446a0a3f 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] Getting quotas for project b5f81124eabd43fe8aae4665ef54915c. Resources: set(['key_pairs']) _get_quotas /usr/lib/python2.7/site-packages/nova/quota.py:442
2018-06-30 07:28:54.361 15833 DEBUG nova.quota [req-4282f144-9df6-425c-b496-2060446a0a3f 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] Getting quotas for user 49fd159f0bfe4de78c301bdfff279a17 and project b5f81124eabd43fe8aae4665ef54915c. Resources: set(['key_pairs']) _get_quotas /usr/lib/python2.7/site-packages/nova/quota.py:434
2018-06-30 07:28:54.503 15833 INFO nova.osapi_compute.wsgi.server [req-4282f144-9df6-425c-b496-2060446a0a3f 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] 10.0.20.26 "POST /v2.1/b5f81124eabd43fe8aae4665ef54915c/os-keypairs HTTP/1.1" status: 200 len: 997 time: 1.9324009
2018-06-30 07:29:01.186 15832 DEBUG nova.osapi_compute.wsgi.server [req-55c2b499-8d77-4300-bd3f-6e6723b277d8 95cf4ee261b740498c206cbae584ebbe 046e8009a8b544bfbe9ff50b26903464 - default default] (15832) accepted ('10.0.20.26', 60822) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-30 07:29:02.008 15832 DEBUG nova.api.openstack.wsgi [req-f6c9e5e6-cb19-4069-b631-058a4c52d069 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] Calling method '<function version_select at 0x7f8d8ac90d70>' _process_stack /usr/lib/python2.7/site-packages/nova/api/openstack/wsgi.py:612
2018-06-30 07:29:02.021 15832 WARNING oslo_db.sqlalchemy.utils [req-f6c9e5e6-cb19-4069-b631-058a4c52d069 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] Unique keys not in sort_keys. The sorting order may be unstable.
2018-06-30 07:29:02.035 15832 WARNING oslo_db.sqlalchemy.utils [req-f6c9e5e6-cb19-4069-b631-058a4c52d069 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] Unique keys not in sort_keys. The sorting order may be unstable.
2018-06-30 07:29:02.053 15832 INFO nova.osapi_compute.wsgi.server [req-f6c9e5e6-cb19-4069-b631-058a4c52d069 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] 10.0.20.26 "GET /v2.1/b5f81124eabd43fe8aae4665ef54915c/os-keypairs HTTP/1.1" status: 200 len: 966 time: 0.8642678
2018-06-30 07:31:03.161 15833 DEBUG nova.osapi_compute.wsgi.server [req-4282f144-9df6-425c-b496-2060446a0a3f 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] (15833) accepted ('10.0.20.26', 35044) server /usr/lib/python2.7/site-packages/eventlet/wsgi.py:883
2018-06-30 07:31:03.670 15833 DEBUG nova.api.openstack.wsgi [req-9ddb6531-2922-44bf-b573-d18db3eb9de0 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] Calling method '<bound method FlavorsController.show of <nova.api.openstack.compute.flavors.FlavorsController object at 0x7f8d8b810790>>' _process_stack /usr/lib/python2.7/site-packages/nova/api/openstack/wsgi.py:612
2018-06-30 07:31:03.751 15833 INFO nova.api.openstack.wsgi [req-9ddb6531-2922-44bf-b573-d18db3eb9de0 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] HTTP exception thrown: Impossibile trovare la tipologia m1.tiny.
2018-06-30 07:31:03.753 15833 DEBUG nova.api.openstack.wsgi [req-9ddb6531-2922-44bf-b573-d18db3eb9de0 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] Returning 404 to user: Impossibile trovare la tipologia m1.tiny. __call__ /usr/lib/python2.7/site-packages/nova/api/openstack/wsgi.py:1029
2018-06-30 07:31:03.755 15833 INFO nova.osapi_compute.wsgi.server [req-9ddb6531-2922-44bf-b573-d18db3eb9de0 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] 10.0.20.26 "GET /v2.1/b5f81124eabd43fe8aae4665ef54915c/flavors/m1.tiny HTTP/1.1" status: 404 len: 507 time: 0.5916471
2018-06-30 07:31:03.784 15833 DEBUG nova.api.openstack.wsgi [req-631f1b4c-6416-467e-a5fb-4cb493039055 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] Calling method '<bound method FlavorsController.index of <nova.api.openstack.compute.flavors.FlavorsController object at 0x7f8d8b880f50>>' _process_stack /usr/lib/python2.7/site-packages/nova/api/openstack/wsgi.py:612
2018-06-30 07:31:03.863 15833 INFO nova.osapi_compute.wsgi.server [req-631f1b4c-6416-467e-a5fb-4cb493039055 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] 10.0.20.26 "GET /v2.1/b5f81124eabd43fe8aae4665ef54915c/flavors HTTP/1.1" status: 200 len: 2106 time: 0.0898430
2018-06-30 07:31:03.894 15833 DEBUG nova.api.openstack.wsgi [req-32a08cdb-806c-4c97-8893-d418a1cc39c8 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] Calling method '<bound method FlavorsController.show of <nova.api.openstack.compute.flavors.FlavorsController object at 0x7f8d8b810790>>' _process_stack /usr/lib/python2.7/site-packages/nova/api/openstack/wsgi.py:612
2018-06-30 07:31:03.927 15833 INFO nova.osapi_compute.wsgi.server [req-32a08cdb-806c-4c97-8893-d418a1cc39c8 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] 10.0.20.26 "GET /v2.1/b5f81124eabd43fe8aae4665ef54915c/flavors/1 HTTP/1.1" status: 200 len: 819 time: 0.0423238
2018-06-30 07:31:05.009 15833 DEBUG nova.api.openstack.wsgi [req-99298786-5441-4585-9685-e80fea92fae9 49fd159f0bfe4de78c301bdfff279a17 b5f81124eabd43fe8aae4665ef54915c - a216055300fb4dc2aac5113fd3b719f5 a216055300fb4dc2aac5113fd3b719f5] Azione: 'create', metodo chiamata: <bound method ServersController.create of <nova.api.openstack.compute.servers.ServersController object at 0x7f8d8b4ed950>>, corpo: {"server": {"name": "tempest-INSTANCE_SAMPLE-1530336473", "imageRef": "4508ab1a-2cf0-4bc5-8213-6062e87ab2f1", "key_name": "tempest-keypair-1530336473", "flavorRef": "1", "max_count": 1, "min_count": 1, "networks": [{"uuid": "1ec3184c-44fd-4f65-9c9d-ee32191e4476"}], "security_groups": [{"name": "50e72905-6686-4dcb-819d-f40c431f63a7"}]}} _process_stack /usr/lib/python2.7/site-packages/nova/api/openstack/wsgi.py:609
2018-06-30 07:31:05.039 15833 DEBUG oslo_concurrency.lockutils [req-3111a708-4df8-4332-8730-562ed3ab9f3a - - - - -] Lock "00000000-0000-0000-0000-000000000000" acquired by "nova.context.get_or_set_cached_cell_and_set_connections" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-30 07:31:05.041 15833 DEBUG oslo_concurrency.lockutils [req-3111a708-4df8-4332-8730-562ed3ab9f3a - - - - -] Lock "00000000-0000-0000-0000-000000000000" released by "nova.context.get_or_set_cached_cell_and_set_connections" :: held 0.002s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-30 07:31:05.064 15833 DEBUG oslo_db.sqlalchemy.engines [req-3111a708-4df8-4332-8730-562ed3ab9f3a - - - - -] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION _check_effective_sql_mode /usr/lib/python2.7/site-packages/oslo_db/sqlalchemy/engines.py:285
2018-06-30 07:31:05.080 15833 DEBUG oslo_concurrency.lockutils [req-3111a708-4df8-4332-8730-562ed3ab9f3a - - - - -] Lock "a007229b-3aa8-4995-b876-a3a23b26e694" acquired by "nova.context.get_or_set_cached_cell_and_set_connections" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:270
2018-06-30 07:31:05.085 15833 DEBUG oslo_concurrency.lockutils [req-3111a708-4df8-4332-8730-562ed3ab9f3a - - - - -] Lock "a007229b-3aa8-4995-b876-a3a23b26e694" released by "nova.context.get_or_set_cached_cell_and_set_connections" :: held 0.005s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:282
2018-06-30 07:31:05.109 15833 DEBUG oslo_db.sqlalchemy.engines [req-3111a708-4df8-4332-8730-562ed3ab9f3a - - - - -] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION _check_effective_sql_mode /usr/lib/python2.7/site-packages/oslo_db/sqlalchemy/engines.py:285
2018-06-30 07:31:05.163 15833 WARNING nova.image.glance [req-3111a708-4df8-4332-8730-562ed3ab9f3a - - - - -] No protocol specified in for api_server 'http://10.0.20.26:9292', please update [glance] api_servers with fully qualified url including scheme (http / https)
2018-06-30 07:31:07.307 15833 DEBUG nova.network.neutronv2.api [req-3111a708-4df8-4332-8730-562ed3ab9f3a - - - - -] validate_networks() for [(u'1ec3184c-44fd-4f65-9c9d-ee32191e4476', None, None, None)] validate_networks /usr/lib/python2.7/site-packages/nova/network/neutronv2/api.py:1692
2018-06-30 07:31:07.891 15833 DEBUG nova.virt.hardware [req-3111a708-4df8-4332-8730-562ed3ab9f3a - - - - -] emulator threads policy constraint: None get_emulator_threads_constraint /usr/lib/python2.7/site-packages/nova/virt/hardware.py:1289
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions [req-3111a708-4df8-4332-8730-562ed3ab9f3a - - - - -] Unexpected exception in API method: TypeError: 'NoneType' object is not iterable
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions Traceback (most recent call last):
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions   File "/usr/lib/python2.7/site-packages/nova/api/openstack/extensions.py", line 336, in wrapped
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions     return f(*args, **kwargs)
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions   File "/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py", line 108, in wrapper
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions   File "/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py", line 108, in wrapper
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions   File "/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py", line 108, in wrapper
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions   File "/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py", line 108, in wrapper
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions   File "/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py", line 108, in wrapper
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions   File "/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py", line 108, in wrapper
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions   File "/usr/lib/python2.7/site-packages/nova/api/validation/__init__.py", line 108, in wrapper
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions     return func(*args, **kwargs)
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions   File "/usr/lib/python2.7/site-packages/nova/api/openstack/compute/servers.py", line 553, in create
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions     **create_kwargs)
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions   File "/usr/lib/python2.7/site-packages/nova/hooks.py", line 154, in inner
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions     rv = f(*args, **kwargs)
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions   File "/usr/lib/python2.7/site-packages/nova/compute/api.py", line 961, in create
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions     return self._create_instance(context, instance_type, image_href, kernel_id, ramdisk_id, min_count, max_count, display_name, display_description, key_name, key_data, security_groups, availability_zone, user_data, metadata, injected_files, admin_password, access_ip_v4, access_ip_v6, requested_networks, config_drive, block_device_mapping, auto_disk_config, filter_properties=filter_properties, legacy_bdm=legacy_bdm, shutdown_terminate=shutdown_terminate, check_server_group_quota=check_server_group_quota, tags=tags)
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions   File "/usr/lib/python2.7/site-packages/nova/compute/api.py", line 687, in _create_instance
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions     block_device_mapping = self._check_and_transform_bdm(context, base_options, instance_type, boot_meta, min_count, max_count, block_device_mapping, legacy_bdm)
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions   File "/usr/lib/python2.7/site-packages/nova/compute/api.py", line 511, in _check_and_transform_bdm
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions     root_in_image_bdms = (block_device.get_root_bdm(image_defined_bdms) is not None)
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions   File "/usr/lib/python2.7/site-packages/nova/block_device.py", line 454, in get_root_bdm
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions     return next(bdm for bdm in bdms if bdm.get('boot_index', -1) == 0)
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions TypeError: 'NoneType' object is not iterable
2018-06-30 07:31:07.899 15833 ERROR nova.api.openstack.extensions 
2018-06-30 07:31:07.912 15833 INFO nova.api.openstack.wsgi [req-3111a708-4df8-4332-8730-562ed3ab9f3a - - - - -] HTTP exception thrown: Errore API non previsto. Segnalarlo a http://bugs.launchpad.net/nova/ e allegare il log Nova API, se possibile.
<type 'exceptions.TypeError'>
2018-06-30 07:31:07.914 15833 DEBUG nova.api.openstack.wsgi [req-3111a708-4df8-4332-8730-562ed3ab9f3a - - - - -] Returning 500 to user: Errore API non previsto. Segnalarlo a http://bugs.launchpad.net/nova/ e allegare il log Nova API, se possibile.
<type 'exceptions.TypeError'> __call__ /usr/lib/python2.7/site-packages/nova/api/openstack/wsgi.py:1029
2018-06-30 07:31:07.916 15833 INFO nova.osapi_compute.wsgi.server [req-3111a708-4df8-4332-8730-562ed3ab9f3a - - - - -] 10.0.20.26 "POST /v2.1/b5f81124eabd43fe8aae4665ef54915c/servers HTTP/1.1" status: 500 len: 621 time: 2.9190209
